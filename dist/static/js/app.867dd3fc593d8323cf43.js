webpackJsonp([1],{"+qv9":function(e,t){},"4tc8":function(e,t){},"5+tB":function(e,t){},CUdG:function(e,t){},D0L3:function(e,t){},"E/2l":function(e,t){},EL7v:function(e,t){},Hckv:function(e,t){},KBjh:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({},s,!1,function(e){a("xVxx")},null,null).exports,o=a("/ocq"),n={data:function(){return{msg:"初诊登记",centerDialogVisible:!1}},methods:{inquire:function(){null!=localStorage.getItem("tableData")&&null!=localStorage.getItem("inquireInput")&&(localStorage.removeItem("tableData"),localStorage.removeItem("inquireInput")),this.$router.push({path:"inquire"})},inquireOrder:function(){console.log(localStorage.getItem("inquireOrderInput")),localStorage.removeItem("inquireOrderData"),this.$router.push({path:"inquireOrder"})},register:function(){},enEngender:function(){}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"index"},[a("div",{staticClass:"index_header clear"},[a("p",[a("span",[e._v(e._s(e.msg))])])]),e._v(" "),a("div",{staticClass:"index_main clear"},[a("ul",{staticClass:"clear"},[a("router-link",{attrs:{to:"newRegister"}},[a("li",{on:{click:e.register}},[a("el-button",{attrs:{type:"warning"}},[e._v("初诊登记")])],1)]),e._v(" "),a("router-link",{attrs:{to:"inquire"}},[a("li",{on:{click:e.inquire}},[a("el-button",{attrs:{type:"warning"}},[e._v("用户查询")])],1)]),e._v(" "),a("router-link",{attrs:{to:"order"}},[a("li",[a("el-button",{attrs:{type:"warning"}},[e._v("患者挂号")])],1)]),e._v(" "),a("router-link",{attrs:{to:"cloudOrder"}},[a("li",[a("el-button",{staticStyle:{"line-height":"40px"},attrs:{type:"warning"}},[e._v("云门诊"),a("br"),e._v("预约")])],1)]),e._v(" "),a("li",{on:{click:e.inquireOrder}},[a("el-button",{staticStyle:{"line-height":"40px"},attrs:{type:"warning"}},[e._v("云门诊"),a("br"),e._v("预约查询")])],1),e._v(" "),a("router-link",{attrs:{to:"record"}},[a("li",[a("el-button",{staticStyle:{"line-height":"40px"},attrs:{type:"warning"}},[e._v("全院"),a("br"),e._v("挂号查询")])],1)])],1)])])},staticRenderFns:[]};var c=a("VU/8")(n,l,!1,function(e){a("lxS7")},"data-v-5e86dc78",null).exports,d=a("mvHQ"),_=a.n(d),m="http://id.jyyy.so/",h=a("mtWM"),u=a.n(h),p=[{value:"阿富汗",name:"AFH"},{value:"阿尔巴尼亚",name:"AEBNY"},{value:"南极洲",name:"NJZ"},{value:"安道尔",name:"ADE"},{value:"美属萨摩亚",name:"MSSMY"},{value:"安哥拉",name:"AGL"},{value:"安提瓜",name:"ATG"},{value:"阿根廷",name:"AGT"},{value:"澳大利亚",name:"ADLY"},{value:"奥地利",name:"ADL"},{value:"巴哈马",name:"BHM"},{value:"巴林",name:"BL"},{value:"孟加拉",name:"MJL"},{value:"巴巴多斯",name:"BBDS"},{value:"比利时",name:"BLS"},{value:"百慕大",name:"BMD"},{value:"不丹",name:"BD"},{value:"玻利维亚",name:"BLWY"},{value:"博茨瓦纳",name:"BCWN"},{value:"布维岛",name:"BWD"},{value:"巴西",name:"BX"},{value:"伯利兹",name:"BLZ"},{value:"英属印度洋领土",name:"YSYDYLT"},{value:"所罗门群岛",name:"SLMQD"},{value:"英属维尔京群岛",name:"YSWEJQD"},{value:"文莱",name:"WL"},{value:"保加利亚",name:"BJLY"},{value:"缅甸",name:"MD"},{value:"布隆迪",name:"BLD"},{value:"白俄罗斯",name:"BELS"},{value:"柬埔寨",name:"JPZ"},{value:"喀麦隆",name:"KML"},{value:"加拿大",name:"JND"},{value:"坎顿和恩德贝里群岛",name:"KDHEDBLQD"},{value:"佛得角",name:"FDJ"},{value:"开曼群岛",name:"KMQD"},{value:"中非",name:"ZF"},{value:"斯里兰卡",name:"SLLK"},{value:"乍得",name:"ZD"},{value:"智利",name:"ZL"},{value:"中国",name:"ZG"},{value:"圣诞岛",name:"SDD"},{value:"可可(基林)群岛",name:"KK(JL)QD"},{value:"哥伦比亚",name:"GLBY"},{value:"科摩罗",name:"KML"},{value:"刚果",name:"GG"},{value:"扎伊尔",name:"ZYE"},{value:"库克群岛",name:"KKQD"},{value:"哥斯达黎加",name:"GSDLJ"},{value:"古巴",name:"GB"},{value:"塞浦路斯",name:"SPLS"},{value:"捷克",name:"JK"},{value:"斯洛伐克",name:"SLFK"},{value:"贝宁",name:"BN"},{value:"丹麦",name:"DM"},{value:"多米尼加",name:"DMNJ"},{value:"多米尼加共和国",name:"DMNJGHG"},{value:"毛德地",name:"MDD"},{value:"厄瓜多尔",name:"EGDE"},{value:"萨尔瓦多",name:"SEWD"},{value:"赤道几内亚",name:"CDJNY"},{value:"埃塞俄比亚",name:"ASEBY"},{value:"法罗",name:"FL"},{value:"福克兰群岛",name:"FKLQD"},{value:"斐济",name:"FJ"},{value:"芬兰",name:"FL"},{value:"法国",name:"FG"},{value:"法属圭亚那",name:"FSGYN"},{value:"法属波利尼西亚",name:"FSBLNXY"},{value:"吉布提",name:"JBT"},{value:"加蓬",name:"JP"},{value:"冈比亚",name:"GBY"},{value:"德意志联邦共和国",name:"DYZLBGHG"},{value:"加纳",name:"JN"},{value:"直布罗陀",name:"ZBLT"},{value:"基里巴斯",name:"JLBS"},{value:"希腊",name:"XL"},{value:"格陵兰",name:"GLL"},{value:"格林纳达",name:"GLND"},{value:"瓜德罗普",name:"GDLP"},{value:"关岛",name:"GD"},{value:"危地马拉",name:"WDML"},{value:"几内亚",name:"JNY"},{value:"圭亚那",name:"GYN"},{value:"海地",name:"HD"},{value:"赫德岛",name:"HDD"},{value:"梵蒂冈",name:"FDG"},{value:"洪都拉斯",name:"HDLS"},{value:"香港",name:"XG"},{value:"匈牙利",name:"XYL"},{value:"冰岛",name:"BD"},{value:"印度",name:"YD"},{value:"印度尼西亚",name:"YDNXY"},{value:"伊朗",name:"YL"},{value:"伊拉克",name:"YLK"},{value:"爱尔兰",name:"AEL"},{value:"巴勒斯坦",name:"BLST"},{value:"以色列",name:"YSL"},{value:"意大利",name:"YDL"},{value:"象牙海岸",name:"XYHA"},{value:"牙买加",name:"YMJ"},{value:"日本",name:"RB"},{value:"约翰斯顿岛",name:"YHSDD"},{value:"约旦",name:"YD"},{value:"肯尼亚",name:"KNY"},{value:"朝鲜",name:"CX"},{value:"南朝鲜",name:"NCX"},{value:"科威持",name:"KWC"},{value:"老挝",name:"LW"},{value:"黎巴嫩",name:"LBN"},{value:"莱索托",name:"LST"},{value:"利比里亚",name:"LBLY"},{value:"利比亚",name:"LBY"},{value:"列支敦土登",name:"LZDTD"},{value:"卢森堡",name:"LSB"},{value:"澳门",name:"AM"},{value:"马达加斯加",name:"MDJSJ"},{value:"马拉维",name:"MLW"},{value:"马来西亚",name:"MLXY"},{value:"马尔代夫",name:"MEDF"},{value:"马里",name:"ML"},{value:"马耳他",name:"MET"},{value:"马提尼克",name:"MTNK"},{value:"毛里塔尼亚",name:"MLTNY"},{value:"毛里求斯",name:"MLQS"},{value:"墨西哥",name:"MXG"},{value:"中途岛",name:"ZTD"},{value:"摩纳哥",name:"MNG"},{value:"蒙古",name:"MG"},{value:"蒙特塞拉特",name:"MTSLT"},{value:"摩洛哥",name:"MLG"},{value:"莫桑比克",name:"MSBK"},{value:"阿曼",name:"AM"},{value:"纳米比亚",name:"NMBY"},{value:"瑙鲁",name:"NL"},{value:"尼泊尔",name:"NPE"},{value:"荷兰",name:"HL"},{value:"荷属安的列斯",name:"HSADLS"},{value:"中间地带",name:"ZJDD"},{value:"新喀里多尼亚",name:"XKLDNY"},{value:"瓦努阿图",name:"WNAT"},{value:"新西兰",name:"XXL"},{value:"尼加拉瓜",name:"NJLG"},{value:"尼日尔",name:"NRE"},{value:"尼日利亚",name:"NRLY"},{value:"纽埃岛",name:"NAD"},{value:"诺福克岛",name:"NFKD"},{value:"挪威",name:"NW"},{value:"太平洋群岛",name:"TPYQD"},{value:"巴基斯坦",name:"BJST"},{value:"巴拿马",name:"BNM"},{value:"巴布亚新几内亚",name:"BBYXJNY"},{value:"巴拉圭",name:"BLG"},{value:"秘鲁",name:"BL"},{value:"菲律滨",name:"FLB"},{value:"皮特凯恩岛",name:"PTKED"},{value:"波兰",name:"BL"},{value:"葡萄牙",name:"PTY"},{value:"几内亚比绍",name:"JNYBS"},{value:"东帝汶",name:"DDW"},{value:"波多黎各",name:"BDLG"},{value:"卡诺尔",name:"KNE"},{value:"留尼汪",name:"LNW"},{value:"罗马尼亚",name:"LMNY"},{value:"卢旺达",name:"LWD"},{value:"圣赫勒拿",name:"SHLN"},{value:"圣基茨-尼维斯-安圭拉",name:"SJC-NWS-AGL"},{value:"圣卢西亚",name:"SLXY"},{value:"圣皮埃尔和密克隆",name:"SPAEHMKL"},{value:"圣文森特和格林纳丁斯",name:"SWSTHGLNDS"},{value:"圣马力诺",name:"SMLN"},{value:"圣多美和普林西比",name:"SDMHPLXB"},{value:"沙特阿拉伯",name:"STALB"},{value:"塞内加尔",name:"SNJE"},{value:"塞舌尔",name:"SSE"},{value:"塞拉利昂",name:"SLLA"},{value:"新加坡",name:"XJP"},{value:"越南",name:"YN"},{value:"索马里",name:"SML"},{value:"南非(阿札尼亚)",name:"NF(AZNY)"},{value:"津巴布韦",name:"JBBW"},{value:"民主也门",name:"MZYM"},{value:"西班牙",name:"XBY"},{value:"西撤哈拉",name:"XCHL"},{value:"苏丹",name:"SD"},{value:"苏里南",name:"SLN"},{value:"斯瓦巴德群岛",name:"SWBDQD"},{value:"斯威士兰",name:"SWSL"},{value:"瑞典",name:"RD"},{value:"瑞士",name:"RS"},{value:"叙利亚",name:"XLY"},{value:"泰国",name:"TG"},{value:"多哥",name:"DG"},{value:"托克劳",name:"TKL"},{value:"汤加",name:"TJ"},{value:"特立尼达和多哥巴",name:"TLNDHDGB"},{value:"阿拉伯联合酋长国",name:"ALBLHQZG"},{value:"突尼斯",name:"TNS"},{value:"土耳其",name:"TEQ"},{value:"特克斯和凯科斯群岛",name:"TKSHKKSQD"},{value:"图瓦卢",name:"TWL"},{value:"乌干达",name:"WGD"},{value:"乌克兰",name:"WKL"},{value:"俄罗斯(包括原苏联)",name:"ELS(BKYSL)"},{value:"埃及",name:"AJ"},{value:"英国",name:"YG"},{value:"坦桑尼亚",name:"TSNY"},{value:"美国",name:"MG"},{value:"美属太平洋群岛",name:"MSTPYQD"},{value:"美属维尔京群岛",name:"MSWEJQD"},{value:"上沃尔特",name:"SWET"},{value:"乌拉圭",name:"WLG"},{value:"委内瑞拉",name:"WNRL"},{value:"威克岛",name:"WKD"},{value:"瓦利斯和富图纳群岛",name:"WLSHFTNQD"},{value:"西萨摩亚",name:"XSMY"},{value:"也门",name:"YM"},{value:"南斯拉夫",name:"NSLF"},{value:"赞比亚",name:"ZBY"}],v=[{value:"南"},{value:"北"},{value:"沈"},{value:"兰"},{value:"成"},{value:"济"},{value:"广"},{value:"参"},{value:"政"},{value:"后"},{value:"装"},{value:"海"},{value:"空"},{value:"其他"}],g=[{name:"H",value:"汉"},{name:"Z",value:"壮"},{name:"M",value:"满"},{name:"H",value:"回"},{name:"M",value:"苗"},{name:"WWE",value:"维吾尔"},{name:"TJ",value:"土家"},{name:"Y",value:"彝"},{name:"MG",value:"蒙古"},{name:"Z",value:"藏"},{name:"BY",value:"布依"},{name:"T",value:"侗"},{name:"Y",value:"瑶"},{name:"CX",value:"朝鲜"},{name:"B",value:"白"},{name:"HN",value:"哈尼"},{name:"HSK",value:"哈萨克"},{name:"L",value:"黎"},{name:"D",value:"傣"},{name:"S",value:"畲"},{name:"LS",value:"傈僳"},{name:"YL",value:"仡佬"},{name:"DX",value:"东乡"},{name:"GS",value:"高山"},{name:"LH",value:"拉祜"},{name:"S",value:"水"},{name:"W",value:"佤"},{name:"NX",value:"纳西"},{name:"Q",value:"羌"},{name:"T",value:"土"},{name:"MLZ",value:"仫佬"},{name:"XB",value:"锡伯"},{name:"KEKZ",value:"柯尔克孜"},{name:"DWE",value:"达斡尔"},{name:"JP",value:"景颇"},{name:"MN",value:"毛南"},{name:"SL",value:"撒拉"},{name:"BL",value:"布朗"},{name:"TJK",value:"塔吉克"},{name:"AC",value:"阿昌"},{name:"PM",value:"普米"},{name:"EWE",value:"鄂温克"},{name:"N",value:"怒"},{name:"J",value:"京"},{name:"JN",value:"基诺"},{name:"DA",value:"德昂"},{name:"BA",value:"保安"},{name:"ELS",value:"俄罗斯"},{name:"YG",value:"裕固"},{name:"WZBK",value:"乌孜别克"},{name:"MB",value:"门巴"},{name:"ELC",value:"鄂伦春"},{name:"DL",value:"独龙"},{name:"TTE",value:"塔塔尔"},{name:"HZ",value:"赫哲"},{name:"LB",value:"珞巴"}],f=[{name:"WLMQ",value:"乌鲁木齐"},{name:"JN",value:"疆内"},{name:"JW",value:"疆外"},{name:"GW",value:"国外"},{name:"TLF",value:"吐鲁番"},{name:"KEL",value:"库尔勒"},{name:"YN",value:"伊宁"},{name:"AH",value:"安徽"},{name:"AM",value:"澳门"},{name:"BJ",value:"北京"},{name:"CQ",value:"重庆"},{name:"FJ",value:"福建"},{name:"GS",value:"甘肃"},{name:"GD",value:"广东"},{name:"GX",value:"广西"},{name:"GZ",value:"贵州"},{name:"HN",value:"海南"},{name:"HB",value:"河北"},{name:"HN",value:"河南"},{name:"HLJ",value:"黑龙江"},{name:"HB",value:"湖北"},{name:"HN",value:"湖南"},{name:"JL",value:"吉林"},{name:"JS",value:"江苏"},{name:"JX",value:"江西"},{name:"LN",value:"辽宁"},{name:"NMG",value:"内蒙古"},{name:"NX",value:"宁夏"},{name:"QH",value:"青海"},{name:"SD",value:"山东"},{name:"SX",value:"山西"},{name:"SX",value:"陕西"},{name:"SH",value:"上海"},{name:"SC",value:"四川"},{name:"TW",value:"台湾"},{name:"TJ",value:"天津"},{name:"XZ",value:"西藏"},{name:"XG",value:"香港"},{name:"XJ",value:"新疆"},{name:"YN",value:"云南"},{name:"ZJ",value:"浙江"}],w={data:function(){return{icCard:"",gztMsg_m:"",gztPop:!1,gztShow_m:!0,gztMsg_w:"",gztShow_w:!0,bgcolor_m:"",bgcolor_w:"",fontSize:"14",gztNum:"",gztNumShow:!1,countryList:p,military:v,countrySelect_w:"",countrySelect_m:"",militarySelect_w:"",militarySelect_m:"",msg:"初诊登记",indexId:"",selectedMarry_m:"已婚",selectedMarry_w:"已婚",selectedJob_m:"个体经营者",selectedJob_w:"个体经营者",selectedArea_m:"乌鲁木齐",selectedArea_w:"乌鲁木齐",cardType_m:"身份证",cardType_w:"身份证",selectServer_m:"",selectServer_w:"",selectHos:"",subDisabled:!0,fileDisabled:!0,deviceNum:!0,fullscreenLoading:!1,deviceInput:localStorage.getItem("deviceid"),open_man:!1,openMsg_m:"展开",open_women:!1,openMsg_w:"展开",tipMsg:"",areaArr:f,areaArr_new:f,jobArr:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],jobArr_new:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],cardArr:["身份证","军官证","护照","其他"],sexArr:[{name:"N",value:"男"},{name:"N",value:"女"}],sexArr_new:[{name:"N",value:"男"},{name:"N",value:"女"}],hospitalArr:[],hospitalArr_new:[],serviceArr:[],serviceArr_new:[],marryArr:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],marryArr_new:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],countryArr:p,countryArr_new:p,nationArr:g,nationArr_new:g,idCardImg_m:a("k78f"),faceImg_m:a("WAYU"),name_m:"",sex_m:"",idCard_m:"",marry_m:"",age_m:"",birthday_m:"",nation_m:"",country_m:"中国",address_m:"",treatCard_m:"",area_m:"",job_m:"",phone_m:"",idCardImg_w:a("k78f"),faceImg_w:a("WAYU"),name_w:"",sex_w:"",idCard_w:"",marry_w:"",age_w:"",birthday_w:"",nation_w:"",country_w:"中国",address_w:"",treatCard_w:"",area_w:"",job_w:"",phone_w:"",verify_result_m:"",verify_result_w:"",serviceNum:"",opNo:"",opName:"",origin:"",nameInput:"",treatShow_m:!1,treatShow_w:!1,treatHave:!0,idCard_img_m:"",idCard_img_w:"",face_img_m:"",face_img_w:"",idCardPlaceholderMsg_w:"身份证",idCardPlaceholderMsg_m:"身份证",idCardShow_w:!0,idCardShow_m:!0,countryShow_w:!0,countryShow_m:!0,countryInputShow_w:!1,countryInputShow_m:!1,militaryShow_w:!1,militaryShow_m:!1,hasIcCard:!1,addSex:"",addArr:[],gztMsg:"",hospitalNum:"",hospitalIndex:""}},methods:{querySearch:function(e,t){var a=this.countryList;t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},militarySearch_w:function(e,t){var a=this.military;t(e?a.filter(this.mulitaryFilter_w(e)):a)},mulitaryFilter_w:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},militarySearch_m:function(e,t){var a=this.military;t(e?a.filter(this.mulitaryFilter_m(e)):a)},mulitaryFilter_m:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},select_military_w:function(e){console.log(e)},handleSelect:function(e){console.log(e)},areaFilter_w:function(e){if(e){var t=[];this.areaArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.areaArr=t}else this.areaArr=this.areaArr_new},areaFilter_m:function(e){if(e){var t=[];this.areaArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.areaArr=t}else this.areaArr=this.areaArr_new},jobFilter_m:function(e){if(e){var t=[];this.jobArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.jobArr=t}else this.jobArr=this.jobArr_new},jobFilter_w:function(e){if(e){var t=[];this.jobArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.jobArr=t}else this.jobArr=this.jobArr_new},marryFilter_m:function(e){if(e){var t=[];this.marryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.marryArr=t}else this.marryArr=this.marryArr_new},marryFilter_w:function(e){if(e){var t=[];this.marryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.marryArr=t}else this.marryArr=this.marryArr_new},hosFilter:function(e){if(e){var t=[];this.hospitalArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.hospitalName.indexOf(e)||t.push(a)}),this.hospitalArr=t}else this.hospitalArr=this.hospitalArr_new},sexFilter_w:function(e){if(e){var t=[];this.sexArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sexArr=t}else this.sexArr=this.sexArr_new},sexFilter_m:function(e){if(e){var t=[];this.sexArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sexArr=t}else this.sexArr=this.sexArr_new},enter:function(e){},nationFilter_m:function(e){if(e){var t=[];this.nationArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.nationArr=t}else this.nationArr=this.nationArr_new},nationFilter_w:function(e){if(e){var t=[];this.nationArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.nationArr=t}else this.nationArr=this.nationArr_new},countryFilter_w:function(e){if(e){var t=[];this.countryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.countryArr=t}else this.countryArr=this.countryArr_new},countryFilter_m:function(e){if(e){var t=[];this.countryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.countryArr=t}else this.countryArr=this.countryArr_new},serviceFilter_m:function(e){if(e){var t=[];this.serviceArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.doc_name.indexOf(e)||t.push(a)}),this.serviceArr=t}else this.serviceArr=this.serviceArr_new},serviceFilter_w:function(e){if(e){var t=[];this.serviceArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.doc_name.indexOf(e)||t.push(a)}),this.serviceArr=t}else this.serviceArr=this.serviceArr_new},computedAge_m:function(){var e=(new Date).getFullYear();this.age_m=e-this.idCard_m.slice(6,10),this.birthday_m=this.idCard_m.slice(6,10)+"年"+this.idCard_m.slice(10,12)+"月"+this.idCard_m.slice(12,14)+"日"},computedAge_w:function(){var e=(new Date).getFullYear();this.age_w=e-this.idCard_w.slice(6,10),this.birthday_w=this.idCard_w.slice(6,10)+"年"+this.idCard_w.slice(10,12)+"月"+this.idCard_w.slice(12,14)+"日"},back:function(){this.$router.go(-1)},name_input:function(){console.log(this.name_w),console.log(this.name_m),""!=this.name_w||""!=this.name_m?this.fileDisabled=!1:this.fileDisabled=!0,""!=this.name_w?(this.treatShow_w=!0,this.treatHave=!1):this.treatShow_w=!1,""!=this.name_m?(this.treatShow_m=!0,this.treatHave=!1):this.treatShow_m=!1,""==this.name_m&&""==this.name_w&&(this.treatHave=!0)},openlist_m:function(){this.open_man=!this.open_man,1==this.open_man?this.openMsg_m="关闭":0==this.open_man&&(this.openMsg_m="展开")},openlist_w:function(){this.open_women=!this.open_women,1==this.open_women?this.openMsg_w="关闭":0==this.open_women&&(this.openMsg_w="展开")},getUserMsg:function(){var e=this;if(this.gztPop=!1,""==this.deviceInput)this.tipMsg="请先输入设备编号",this.open();else{var t=this.$loading({lock:!0,text:"国政通验证身份中..请稍后",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 1)",customClass:"loadingFontSize"});u.a.get(m+"api/sensetime/data/"+this.deviceInput).then(function(a){if(t.close(),console.log(a),400040==a.data.status)e.tipMsg="请先放入身份证进行检测",e.open();else if(200040==a.data.status){e.icCard=a.data.msg.medical_card_number,localStorage.setItem("deviceid",a.data.msg.device_id);var i=a.data,s="",r=(new Date).getFullYear();e.gztNum=a.data.msg.score,e.addSex=a.data.msg.sex,e.addArr=a.data.msg,0==i.msg.sex?(e.treatShow_m=!0,e.treatHave=!1,s="男",e.open_man=!0,e.openMsg_m="关闭",e.name_m=i.msg.name,e.sex_m=s,e.idCard_m=i.msg.id_number,e.birthday_m=i.msg.birthday,e.nation_m=i.msg.nation,e.address_m=i.msg.address,e.treatCard_m=i.msg.medical_card_number,e.age_m=r-i.msg.birthday.slice(0,4),e.idCardImg_m="data:image/png;base64,"+i.msg.id_image,e.faceImg_m="data:image/png;base64,"+i.msg.face_image,e.idCard_img_m=i.msg.id_image,e.face_img_m=i.msg.face_image,e.verify_result_m=i.msg.verify_result,e.phone_m=i.msg.phone,1==a.data.msg.is_gzt?(e.gztMsg_m="(身份校验成功)",e.gztShow_m=!0,e.bgcolor_m="blue"):(e.gztMsg_m="(身份校验失败)",e.gztShow_m=!0,e.bgcolor_m="red")):1==i.msg.sex&&(e.treatShow_w=!0,e.treatHave=!1,s="女",e.open_women=!0,e.openMsg_w="关闭",e.name_w=i.msg.name,e.sex_w=s,e.idCard_w=i.msg.id_number,e.birthday_w=i.msg.birthday,e.nation_w=i.msg.nation,e.address_w=i.msg.address,e.treatCard_w=i.msg.medical_card_number,e.age_w=r-i.msg.birthday.slice(0,4),e.idCardImg_w="data:image/png;base64,"+i.msg.id_image,e.faceImg_w="data:image/png;base64,"+i.msg.face_image,e.idCard_img_w=i.msg.id_image,e.face_img_w=i.msg.face_image,e.verify_result_w=i.msg.verify_result,e.phone_W=i.msg.phone,1==a.data.msg.is_gzt?(e.gztMsg_w="(身份校验成功)",e.gztShow_w=!0,e.bgcolor_w="blue"):(e.gztMsg_w="(身份校验失败)",e.gztShow_w=!0,e.bgcolor_w="red")),""!=i.msg.medical_card_number?(e.subDisabled=!1,e.fileDisabled=!0):""==i.msg.medical_card_number&&(e.subDisabled=!0,e.fileDisabled=!1),""!=e.name_w&&""==e.treatCard_w?e.fileDisabled=!1:""!=e.name_m&&""==e.treatCard_m?e.fileDisabled=!1:e.fileDisabled=!0,""!=e.treatCard_m||""!=e.treatCard_w?e.hasIcCard=!0:e.gztPop=!0,1==a.data.msg.is_gzt&&a.data.msg.score>100?e.gztMsg="该用户已实名":-1==a.data.msg.is_gzt?e.gztMsg="未检测到有效人脸，请重新拍照":0==a.data.msg.is_gzt?e.gztMsg="国政通连接失败，请重新试一次":-2==a.data.msg.is_gzt?(e.gztMsg="国政通验证失败，人脸匹配度太低"+a.data.msg.score,e.gztNumShow=!0):1==a.data.msg.is_gzt&&(e.gztMsg="国政通实名成功"+a.data.msg.score)}}).catch(function(a){t.close(),e.tipMsg="服务器错误"+a,e.open(),console.log(a)})}},subMsgBtn:function(){var e=this,t="",a="";t=0==this.verify_result_m,a=0==this.verify_result_w;var i=/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/;if(""==this.name_w||i.test(this.phone_w))if(""==this.name_m||i.test(this.phone_m))if(""==this.indexId)this.tipMsg="请选择发卡机构",this.open();else{""==this.origin?"weixin":""!=this.origin&&this.origin,this.fullscreenLoading=!0,u.a.post(m+"api/hospital/admin/user/auth",{OP_NO:this.opNo,OP_Name:this.opName,OP_IssuerNo:this.opNo,OP_Issuer:this.opName,channel:"kefu",hospitalNo:this.hospitalIndex,PER_Service:this.serviceNum,medical_card_number_m:this.treatCard_m,name_m:this.name_m,identif_m:this.idCard_m,marriagestatus_m:this.selectedMarry_m,age_m:this.age_m,birthday_m:this.birthday_m,nationality_m:this.nation_m,country_m:this.country_m,identityaddress_m:this.address_m,profession_m:this.selectedJob_m,phone_m:this.phone_m,is_auth_m:t,hometown_m:this.selectedArea_m,idcardtype_m:this.cardType_m,id_face_image_m:this.idCard_img_m,scene_face_image_m:this.face_img_m,department_m:this.militarySelect_m,perCusService_m:this.selectServer_m,sex_m:this.sex_m,medical_card_number_w:this.treatCard_w,name_w:this.name_w,identif_w:this.idCard_w,marriagestatus_w:this.selectedMarry_w,age_w:this.age_w,birthday_w:this.birthday_w,nationality_w:this.nation_w,country_w:this.country_w,identityaddress_w:this.address_w,profession_w:this.selectedJob_w,phone_w:this.phone_w,is_auth_w:a,id_face_image_w:this.idCard_img_w,scene_face_image_w:this.face_img_w,hometown_w:this.selectedArea_w,idcardtype_w:this.cardType_w,department_w:this.militarySelect_w,perCusService_w:this.selectServer_w,sex_w:this.sex_w}).then(function(t){console.log(t),e.fullscreenLoading=!1,400040==t.data.status?e.open3():e.$router.push({path:"/card",query:{name_m:e.name_m,hospital:e.indexId,sex_m:e.sex_m,nation_m:e.nation_m,treat_m:e.treatCard_m,phone_m:e.phone_m,idCard_m:e.idCard_m,name_w:e.name_w,sex_w:e.sex_w,nation_w:e.nation_w,treat_w:e.treatCard_w,phone_w:e.phone_w,idCard_w:e.idCard_w}})}).catch(function(e){console.log(e)})}else this.tipMsg="请输入男方正确的手机号",this.open();else this.tipMsg="请输入女方正确的手机号",this.open()},fileCardBtn:function(){var e=this;console.log(this.name_w);var t=/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/;""==this.name_m||""!=this.sex_m&&""!=this.idCard_m?""==this.name_w||""!=this.sex_w&&""!=this.idCard_w?""==this.name_m||t.test(this.phone_m)?""==this.name_w||t.test(this.phone_w)?""==this.indexId?(this.tipMsg="请选择发卡机构",this.open()):(console.log(this.indexId),u.a.post(m+"api/his/create_patient",_()({OP_NO:this.opNo,OP_Name:this.opName,OP_IssuerNo:this.opNo,OP_Issuer:this.opName,channel:"kefu",hospitalNo:this.hospitalIndex,PER_Service:this.serviceNum,name_m:this.name_m,identif_m:this.idCard_m,marriagestatus_m:this.selectedMarry_m,age_m:this.age_m,birthday_m:this.birthday_m,nationality_m:this.nation_m,country_m:this.country_m,identityaddress_m:this.address_m,profession_m:this.selectedJob_m,phone_m:this.phone_m,hometown_m:this.selectedArea_m,idcardtype_m:this.cardType_m,department_m:this.militarySelect_m,perCusService_m:this.selectServer_m,visit_card_m:this.treatCard_m,sex_m:this.sex_m,name_w:this.name_w,identif_w:this.idCard_w,marriagestatus_w:this.selectedMarry_w,age_w:this.age_w,birthday_w:this.birthday_w,nationality_w:this.nation_w,country_w:this.country_w,identityaddress_w:this.address_w,profession_w:this.selectedJob_w,hometown_w:this.selectedArea_w,phone_w:this.phone_w,idcardtype_w:this.cardType_w,department_w:this.militarySelect_w,perCusService_w:this.selectServer_w,visit_card_w:this.treatCard_w,sex_w:this.sex_w})).then(function(t){console.log(t),200202==t.data.status?(e.open2(),e.subDisabled=!1,e.fileDisabled=!0,""==t.data.msg.visit_card_m?e.treatShow_m=!1:""!=t.data.msg.visit_card_m?e.treatShow_m:""==t.data.msg.visit_card_w?e.treatShow_w=!1:""!=t.data.msg.visit_card_w&&(e.treatShow_w=!0),e.treatCard_m=t.data.msg.visit_card_m,e.treatCard_w=t.data.msg.visit_card_w):400201==t.data.status?(e.tipMsg=t.data.status+" "+t.data.desc,e.open()):400400==t.data.status?(e.tipMsg=t.data.status+" "+t.data.desc,e.open()):400003==t.data.status?(e.tipMsg="参数错误"+t.data.status+" "+t.data.desc,e.open()):200402==t.data.status?(e.tipMsg="男方身份证或手机号已注册,请提交生成二维码",e.open(),e.subDisabled=!1,e.fileDisabled=!0):(e.tipMsg="服务器出错"+t.data.status+"error",e.open())}).catch(function(t){console.log(t),e.tipMsg="服务器出错"+t,e.open()})):(this.tipMsg="请输入女方正确的手机号",this.open()):(this.tipMsg="请输入男方正确的手机号",this.open()):(this.tipMsg="请先完善女方信息",this.open()):(this.tipMsg="请先完善男方信息",this.open())},editDevice:function(){this.deviceNum=!1},open:function(){var e=this;this.$alert(this.tipMsg,"提示",{confirmButtonText:"关闭",callback:function(t){e.$message({type:"warning",message:"action: "+t})}})},selectHospital:function(){},selectMarry_m:function(){console.log(this.selectedMarry_m)},selectMarry_w:function(){console.log(this.selectedMarry_w)},selectService_w:function(){console.log(this.selectServer_w)},selectService_m:function(){console.log(this.selectServer_m)},selectCardType_w:function(){console.log(this.cardType_w),"护照"==this.cardType_w?(this.countryShow_w=!1,this.countryInputShow_w=!0,this.militaryShow_w=!1,this.idCardPlaceholderMsg_w="护照编号"):"军官证"==this.cardType_w?(this.countryShow_w=!1,this.idCardPlaceholderMsg_w="军官证号",this.militaryShow_w=!0,this.countryInputShow_w=!0):"身份证"==this.cardType_w?(this.idCardPlaceholderMsg_w="身份证号",this.militaryShow_w=!1,this.countryInputShow_w=!1,this.countryShow_w=!0):(this.countryShow_w=!0,this.militaryShow_w=!1,this.countryInputShow_w=!1)},selectCardType_m:function(){console.log(this.cardType_m),"护照"==this.cardType_m?(this.countryShow_m=!1,this.countryInputShow_m=!0,this.militaryShow_m=!1,this.idCardPlaceholderMsg_m="护照编号"):"军官证"==this.cardType_m?(this.countryShow_m=!1,this.idCardPlaceholderMsg_m="军官证号",this.militaryShow_m=!0,this.countryInputShow_m=!0):"身份证"==this.cardType_m?(this.idCardPlaceholderMsg_m="身份证号",this.militaryShow_m=!1,this.countryInputShow_m=!1,this.countryShow_m=!0):(this.countryShow_m=!0,this.militaryShow_m=!1,this.countryInputShow_m=!1)},confirmBtn:function(){var e=this,t=this.$createElement;this.$msgbox({title:"确认信息",message:t("p",null,[t("span",null,"请确认以上信息无误")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(t,a,i){"confirm"===t?(a.confirmButtonLoading=!0,a.confirmButtonText="执行中...",e.confirmSub(),setTimeout(function(){i(),setTimeout(function(){a.confirmButtonLoading=!1},300)},1e3)):i()}}).then(function(t){e.$message({type:"info",message:"action: "+t})})},onSubmit:function(){console.log("submit!")},open2:function(){this.$message({message:"填入成功",type:"success"})},open3:function(){var e=this;this.$confirm("该身份证或手机号已有就诊卡号, 是否生成电子健康卡?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.push({path:"/card",query:{name_m:e.name_m,hospital:e.indexId,sex_m:e.sex_m,nation_m:e.nation_m,treat_m:e.treatCard_m,phone_m:e.phone_m,idCard_m:e.idCard_m,name_w:e.name_w,sex_w:e.sex_w,nation_w:e.nation_w,treat_w:e.treatCard_w,phone_w:e.phone_w,idCard_w:e.idCard_w}}),e.$message({type:"success",message:"跳转成功!"})}).catch(function(){e.$message({type:"info",message:"已取消"})})},delMsg:function(){""!=this.name_w?(this.name_w="",this.sex_w="",this.idCard_w="",this.age_w="",this.birthday_w="",this.nation_w="",this.address_w="",this.phone_w="",this.treatCard_w="",this.idCardImg_w=a("k78f"),this.faceImg_w=a("WAYU"),this.gztMsg_w="",this.marry_w="已婚",this.area_w="乌鲁木齐",this.job_w="个体经营者",this.selectServer_w="",this.serviceNum="",this.hasIcCard=!1,this.gztShow_w=!1):""!=this.name_m&&(this.name_m="",this.sex_m="",this.idCard_m="",this.age_m="",this.birthday_m="",this.marry_m="已婚",this.area_m="乌鲁木齐",this.job_m="个体经营者",this.selectServer_m="",this.serviceNum="",this.nation_m="",this.address_m="",this.phone_m="",this.treatCard_m="",this.idCardImg_m=a("k78f"),this.faceImg_m=a("WAYU"),this.gztMsg_m="",this.hasIcCard=!1,this.gztShow_m=!1)},order:function(){""!=this.treatCard_m?this.$router.push({path:"order",query:{treatCard:this.treatCard_m}}):""!=this.treatCard_w&&this.$router.push({path:"order",query:{treatCard:this.treatCard_w}})},inquire:function(){this.$router.push({path:"inquire",query:{icCard:this.icCard}})},getService:function(){var e=this;u.a.get(m+"api/sys/get_wait_doctor?hos_id="+this.hospitalNum).then(function(t){console.log(t),200026==t.data.status&&(e.serviceArr=t.data.msg,e.serviceArr_new=t.data.msg)}).catch(function(e){console.log(e)})}},mounted:function(){var e=this;function t(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0){if(s[r].substring(0,i)===t)return s[r].substr(i+1)}else;}this.subDisabled=!0,u.a.get(m+"api/his/hospital_list").then(function(t){console.log(t),e.hospitalArr=t.data.msg,e.hospitalArr_new=t.data.msg;var a=function(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0&&s[r].substring(0,i)===t)return s[r].substr(i+1)}(window.location.href,"hospitalId");if(76==a){e.hospitalNum="111",e.getService();for(var i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(73==a){e.hospitalNum="114",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(74==a){e.hospitalNum="113",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(75==a){e.hospitalNum="112",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(77==a){e.hospitalNum="109",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(78==a){e.hospitalNum="110",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(79==a){e.hospitalNum="108",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}}).catch(function(e){console.log(e)});var a=window.location.href;this.opNo=t(a,"opNo"),this.opName=t(a,"opName");t(a,"kf")}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register"},[a("div",{staticClass:"register_header"},[a("p",[a("span",[e._v(e._s(e.msg))])]),e._v(" "),a("p",[a("ul",[e._m(0),e._v(" "),a("li",[a("el-input",{attrs:{placeholder:"请输入设备编号",disabled:e.deviceNum},model:{value:e.deviceInput,callback:function(t){e.deviceInput=t},expression:"deviceInput"}})],1),e._v(" "),a("li",{staticStyle:{"margin-left":"10px"}},[a("el-button",{on:{click:e.editDevice}},[e._v("编辑")])],1)])])]),e._v(" "),a("div",{staticClass:"register_main"},[a("div",{staticClass:"register_top clear"},[a("el-button",{attrs:{type:"warning"},on:{click:e.getUserMsg}},[e._v("获取信息")])],1),e._v(" "),a("div",{staticClass:"women"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("女方信息")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.gztShow_w,expression:"gztShow_w"}],style:{color:e.bgcolor_w,fontSize:e.fontSize+"px"}},[e._v(e._s(e.gztMsg_w))]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"#CE9642"},attrs:{type:"text"},on:{click:e.openlist_w}},[e._v(e._s(e.openMsg_w))])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.open_women,expression:"open_women"}],staticClass:"register_img"},[a("img",{staticStyle:{width:"120px",height:"140px"},attrs:{src:e.idCardImg_w,alt:""}}),e._v(" "),a("img",{staticStyle:{width:"120px",height:"140px"},attrs:{src:e.faceImg_w,alt:""}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.open_women,expression:"open_women"}],staticClass:"text item"},[a("ul",{staticClass:"clear"},[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"姓名"},on:{input:function(t){e.name_input(e.name_w)}},model:{value:e.name_w,callback:function(t){e.name_w=t},expression:"name_w"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"性别",filterMethod:e.sexFilter_w},on:{focus:e.enter},model:{value:e.sex_w,callback:function(t){e.sex_w=t},expression:"sex_w"}},e._l(e.sexArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("li",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.cardType_w,expression:"cardType_w"}],staticStyle:{width:"65px",height:"100%"},attrs:{name:"",id:""},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.cardType_w=t.target.multiple?a:a[0]},e.selectCardType_w]}},e._l(e.cardArr,function(t,i){return a("option",{key:i,attrs:{value:""},domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.idCardShow_w,expression:"idCardShow_w"}],staticStyle:{width:"70%"},attrs:{placeholder:e.idCardPlaceholderMsg_w},on:{blur:e.computedAge_w},model:{value:e.idCard_w,callback:function(t){e.idCard_w=t},expression:"idCard_w"}})],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.militaryShow_w,expression:"militaryShow_w"}]},[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("军区：")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"70%"},attrs:{"fetch-suggestions":e.militarySearch_w,placeholder:"请输入军区","trigger-on-focus":!1},on:{select:e.select_military_w},model:{value:e.militarySelect_w,callback:function(t){e.militarySelect_w=t},expression:"militarySelect_w"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("国籍：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"国籍",filterMethod:e.countryFilter_w},on:{focus:e.enter},model:{value:e.country_w,callback:function(t){e.country_w=t},expression:"country_w"}},e._l(e.countryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("婚姻：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"性别",filterMethod:e.marryFilter_w},on:{focus:e.enter},model:{value:e.selectedMarry_w,callback:function(t){e.selectedMarry_w=t},expression:"selectedMarry_w"}},e._l(e.marryArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("年龄：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"年龄"},model:{value:e.age_w,callback:function(t){e.age_w=t},expression:"age_w"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("生日：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"生日"},model:{value:e.birthday_w,callback:function(t){e.birthday_w=t},expression:"birthday_w"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("民族：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"民族",filterMethod:e.nationFilter_w},on:{focus:e.enter},model:{value:e.nation_w,callback:function(t){e.nation_w=t},expression:"nation_w"}},e._l(e.nationArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"地址"},model:{value:e.address_w,callback:function(t){e.address_w=t},expression:"address_w"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("居住地：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"居住地",filterMethod:e.areaFilter_w},on:{focus:e.enter},model:{value:e.selectedArea_w,callback:function(t){e.selectedArea_w=t},expression:"selectedArea_w"}},e._l(e.areaArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("职业：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"职业",filterMethod:e.jobFilter_w},on:{focus:e.enter},model:{value:e.selectedJob_w,callback:function(t){e.selectedJob_w=t},expression:"selectedJob_w"}},e._l(e.jobArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("手机号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"手机号"},model:{value:e.phone_w,callback:function(t){e.phone_w=t},expression:"phone_w"}})],1)])])])],1),e._v(" "),a("div",{staticClass:"man"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("男方信息")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.gztShow_m,expression:"gztShow_m"}],style:{color:e.bgcolor_m,fontSize:e.fontSize+"px"}},[e._v(e._s(e.gztMsg_m))]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"#CE9642"},attrs:{type:"text"},on:{click:e.openlist_m}},[e._v(e._s(e.openMsg_m))])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.open_man,expression:"open_man"}],staticClass:"register_img"},[a("img",{staticStyle:{width:"120px",height:"140px"},attrs:{src:e.idCardImg_m,alt:""}}),e._v(" "),a("img",{staticStyle:{width:"120px",height:"140px"},attrs:{src:e.faceImg_m,alt:""}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.open_man,expression:"open_man"}],staticClass:"text item"},[a("ul",{staticClass:"clear"},[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"姓名"},on:{input:function(t){e.name_input(e.name_m)}},model:{value:e.name_m,callback:function(t){e.name_m=t},expression:"name_m"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"性别",filterMethod:e.sexFilter_m},on:{focus:e.enter},model:{value:e.sex_m,callback:function(t){e.sex_m=t},expression:"sex_m"}},e._l(e.sexArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("li",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.cardType_m,expression:"cardType_m"}],staticStyle:{width:"65px",height:"100%"},attrs:{name:"",id:""},on:{focus:e.enter,change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.cardType_m=t.target.multiple?a:a[0]},e.selectCardType_m]}},e._l(e.cardArr,function(t,i){return a("option",{key:i,attrs:{value:""},domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.idCardShow_m,expression:"idCardShow_m"}],staticStyle:{width:"70%"},attrs:{placeholder:e.idCardPlaceholderMsg_m},on:{blur:e.computedAge_m},model:{value:e.idCard_m,callback:function(t){e.idCard_m=t},expression:"idCard_m"}})],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.militaryShow_m,expression:"militaryShow_m"}]},[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("军区：")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"70%"},attrs:{"fetch-suggestions":e.militarySearch_m,placeholder:"请输入军区","trigger-on-focus":!1},on:{select:e.select_military_w},model:{value:e.militarySelect_m,callback:function(t){e.militarySelect_m=t},expression:"militarySelect_m"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("国籍：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"国籍",filterMethod:e.countryFilter_m},on:{focus:e.enter},model:{value:e.country_m,callback:function(t){e.country_m=t},expression:"country_m"}},e._l(e.countryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("婚姻：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"民族",filterMethod:e.marryFilter_m},on:{focus:e.enter},model:{value:e.selectedMarry_m,callback:function(t){e.selectedMarry_m=t},expression:"selectedMarry_m"}},e._l(e.marryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("年龄：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"年龄"},model:{value:e.age_m,callback:function(t){e.age_m=t},expression:"age_m"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("生日：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"生日"},model:{value:e.birthday_m,callback:function(t){e.birthday_m=t},expression:"birthday_m"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("民族：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"民族",filterMethod:e.nationFilter_m},on:{focus:e.enter},model:{value:e.nation_m,callback:function(t){e.nation_m=t},expression:"nation_m"}},e._l(e.nationArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"地址"},model:{value:e.address_m,callback:function(t){e.address_m=t},expression:"address_m"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("居住地：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"居住地",filterMethod:e.areaFilter_m},on:{focus:e.enter},model:{value:e.selectedArea_m,callback:function(t){e.selectedArea_m=t},expression:"selectedArea_m"}},e._l(e.areaArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("职业：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"职业",filterMethod:e.jobFilter_m},on:{focus:e.enter},model:{value:e.selectedJob_m,callback:function(t){e.selectedJob_m=t},expression:"selectedJob_m"}},e._l(e.jobArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("手机号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"手机号"},model:{value:e.phone_m,callback:function(t){e.phone_m=t},expression:"phone_m"}})],1)])])])],1),e._v(" "),a("div",{staticClass:"man"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("其他信息")])]),e._v(" "),a("div",{staticClass:"text item"},[a("ul",{staticClass:"clear"},[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("发卡机构：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",filterMethod:e.hosFilter},on:{focus:e.enter},model:{value:e.indexId,callback:function(t){e.indexId=t},expression:"indexId"}},e._l(e.hospitalArr,function(t){return a("el-option",{key:t.hospitalName,attrs:{label:t.hospitalName,value:t.hospitalNo}},[a("span",[e._v(e._s(t.hospitalName))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("女方客服：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",filterMethod:e.serviceFilter_w},on:{focus:e.enter},model:{value:e.selectServer_w,callback:function(t){e.selectServer_w=t},expression:"selectServer_w"}},e._l(e.serviceArr,function(t){return a("el-option",{key:t.doc_name,attrs:{label:t.doc_name,value:t.doc_name}},[a("span",[e._v(e._s(t.doc_name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("发卡人：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"发卡人",disabled:""},model:{value:e.opName,callback:function(t){e.opName=t},expression:"opName"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("男方客服：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",filterMethod:e.serviceFilter_m},on:{focus:e.enter},model:{value:e.selectServer_m,callback:function(t){e.selectServer_m=t},expression:"selectServer_m"}},e._l(e.serviceArr,function(t){return a("el-option",{key:t.doc_name,attrs:{label:t.doc_name,value:t.doc_name}},[a("span",[e._v(e._s(t.doc_name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("预约号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"预约号"},model:{value:e.serviceNum,callback:function(t){e.serviceNum=t},expression:"serviceNum"}})],1)])])])],1),e._v(" "),a("div",{staticClass:"common"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%","padding-bottom":"5%"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("就诊卡号")])]),e._v(" "),a("div",{staticClass:"common_left"},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.treatHave,expression:"treatHave"}],staticStyle:{"margin-top":"6%"}},[e._v("暂无卡号~~~请先获取身份证信息")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.treatShow_w,expression:"treatShow_w"}]},[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("女方就诊卡号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"就诊卡号"},model:{value:e.treatCard_w,callback:function(t){e.treatCard_w=t},expression:"treatCard_w"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.treatShow_m,expression:"treatShow_m"}],staticStyle:{"margin-top":"3%"}},[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("男方就诊卡号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"就诊卡号"},model:{value:e.treatCard_m,callback:function(t){e.treatCard_m=t},expression:"treatCard_m"}})],1)]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-top":"3%"},attrs:{type:"warning",disabled:e.fileDisabled},on:{click:e.fileCardBtn}},[e._v("信息提交至HIS")])],1)],1)]),e._v(" "),a("div",{staticClass:"register_footer clear"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")]),e._v(" "),a("ul",[a("li",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning",id:"submitMsg",disabled:e.subDisabled},on:{click:e.subMsgBtn}},[e._v("生成健康卡")])],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.hasIcCard,width:"30%"},on:{"update:visible":function(t){e.hasIcCard=t}}},[a("span",[e._v("该身份证已有就诊卡号："+e._s(e.icCard))]),e._v(" "),a("p",[e._v("国政通校验结果:"),a("span",{staticStyle:{color:"#f60","margin-left":"15px"}},[e._v(e._s(e.gztMsg))])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.delMsg}},[e._v("清空数据")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.inquire}},[e._v("用户查询")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.order}},[e._v("立即挂号")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.gztPop,width:"30%"},on:{"update:visible":function(t){e.gztPop=t}}},[a("p",[e._v("国政通校验结果："),a("span",{staticStyle:{color:"#f60"}},[e._v(e._s(e.gztMsg))])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.gztPop=!1}}},[e._v("关 闭")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.gztNumShow,expression:"gztNumShow"}],attrs:{type:"warning"},on:{click:e.getUserMsg}},[e._v("重新校验")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("设备编号：")])])}]};var y=a("VU/8")(w,b,!1,function(e){a("Hckv"),a("4tc8")},"data-v-3c28a158",null).exports,A=a("bOdI"),S=a.n(A),x={data:function(){var e;return e={msg:"电子健康卡",hospital:"",name_m:"",nation_m:"",sex_m:"",treat_m:"",phone_m:"",idCard_m:"",name_w:"",nation_w:"",sex_w:"",treat_w:"",phone_w:"",idCard_w:"",manShow:!0,womenShow:!0,codeImg_long:"",fullscreenLoading:!1,centerDialogVisible:!1,code_img:"",tipMsg:"",hospitalName_m:"",hospitalName_w:"",togetherDisabled:!0,codeImg_temp:"",popshow:!1,tipsMsg:"",remark:"",hospitalArr:[],hospitalArr_new:[],hospitalNum_m:"",hospitalNum_w:"",hospitalIndex_m:"",hospitalIndex_w:"",indexId_m:"",indexId_w:"",roomArr_m:[],roomArr_w:[],roomArr_new_m:[],roomArr_new_w:[],roomItemsArr_m:[],roomItemsArr_w:[],roomItemsArr_new_m:[],roomItemsArr_new_w:[],roomId_m:"",roomId_w:"",roomDis_m:!0,roomDis_w:!0,registType_m:!0,registType_w:!0,orderTypeNum_m:"",orderTypeNum_w:"",orderDocId_m:"",orderDocId_w:"",orderDoctor_w:[],orderDoctor_m:[],unEngenderDocDisabled_m:!0,unEngenderDocDisabled_w:!0,roomsArr_m:[],roomsArr_w:[],orderDoctor_new_m:[],orderDoctor_new_w:[]},S()(e,"orderDoctor_m",[]),S()(e,"orderDoctor_w",[]),S()(e,"source_m",""),S()(e,"source_w",""),S()(e,"sourceArr",[{name:"PYJS",value:"朋友介绍"},{name:"ARZY",value:"爱人在院"},{name:"YSJS",value:"医生介绍"},{name:"WYJS",value:"外院介绍"},{name:"KB",value:"口碑"},{name:"FJ",value:"附近"},{name:"YGJS",value:"员工介绍"},{name:"WL",value:"网络"},{name:"KHJS",value:"客户介绍"},{name:"DS",value:"电视"},{name:"DH",value:"电话"},{name:"BZ",value:"报纸"},{name:"GB",value:"广播"},{name:"LG",value:"路过"},{name:"QT",value:"其他"}]),S()(e,"sourceArr_new",[{name:"PYJS",value:"朋友介绍"},{name:"ARZY",value:"爱人在院"},{name:"YSJS",value:"医生介绍"},{name:"WYJS",value:"外院介绍"},{name:"KB",value:"口碑"},{name:"FJ",value:"附近"},{name:"YGJS",value:"员工介绍"},{name:"WL",value:"网络"},{name:"KHJS",value:"客户介绍"},{name:"DS",value:"电视"},{name:"DH",value:"电话"},{name:"BZ",value:"报纸"},{name:"GB",value:"广播"},{name:"LG",value:"路过"},{name:"QT",value:"其他"}]),S()(e,"orderBtn_w",!0),S()(e,"orderBtn_m",!0),S()(e,"opName",""),S()(e,"opNo",""),S()(e,"loading",!1),S()(e,"checked_m",!1),S()(e,"checked_w",!1),S()(e,"hospitalNum",""),e},methods:{back:function(){this.$router.go(-1)},code_man:function(){var e=this;u.a.post(m+"api/accounts/tem_qrcode",_()({name:this.name_m,id_number:this.idCard_m,phone:this.phone_m})).then(function(t){console.log(t),4e5==t.data.status?(e.tipMsg="用户不存在(身份证与手机号不符合)",e.open()):(e.centerDialogVisible=!0,e.codeImg_long=t.data.msg.medical_image_url,e.codeImg_temp=t.data.msg.image_url),e.fullscreenLoading=!1}).catch(function(e){})},code_women:function(){var e=this;u.a.post(m+"api/accounts/tem_qrcode",_()({name:this.name_w,id_number:this.idCard_w,phone:this.phone_w})).then(function(t){console.log(t),4e5==t.data.status?(e.tipMsg="用户不存在(身份证与手机号不符合)",e.open()):(e.centerDialogVisible=!0,e.codeImg_long=t.data.msg.medical_image_url,e.codeImg_temp=t.data.msg.image_url)}).catch(function(e){console.log(e),console.log("服务器出错")})},backIndex:function(){this.$router.push({path:"/"})},inquireOrder:function(){this.$router.push({path:"record"})},reg_m:function(){var e=this;this.loading=!0,u.a.post(m+"api/mq/register",_()({medical_card_id:this.treat_m,doctor_id:this.orderDocId_m,doctor_name:this.docName_m,scheme_type:this.orderTypeNum_m,op_name:this.opName,op_no:this.opNo,source:this.source_m,is_mrc:this.checked_m})).then(function(t){console.log(t),e.loading=!1,e.fullscreenLoading=!1,200303==t.data.status?(e.$message({message:"挂号成功",type:"success"}),e.remark="挂号成功!",e.popshow=!0,e.orderBtn_m=!0):e.$message.error("挂号失败")}).catch(function(t){e.loading=!1,console.log(t),e.$message.error("服务器错误")})},reg_w:function(){var e=this;this.loading=!0,u.a.post(m+"api/mq/register",_()({medical_card_id:this.treat_w,doctor_id:this.orderDocId_w,doctor_name:this.docName_w,scheme_type:this.orderTypeNum_w,op_name:this.opName,op_no:this.opNo,source:this.source_w,is_mrc:this.checked_w})).then(function(t){console.log(t),e.loading=!1,e.fullscreenLoading=!1,200303==t.data.status?(e.$message({message:"挂号成功",type:"success"}),e.remark="挂号成功!",e.popshow=!0,e.orderBtn_w=!0):e.$message.error("挂号失败")}).catch(function(t){e.loading=!1,console.log(t),e.$message.error("服务器错误")})},reg_together:function(){this.$router.push({path:"record"})},codePopHide:function(){this.centerDialogVisible=!1},open:function(){var e=this;this.$alert(this.tipMsg,"提示",{confirmButtonText:"关闭",callback:function(t){e.$message({type:"warning",message:"action: "+t})}})},hospitalFilter_m:function(e){if(e){var t=[];this.hospitalArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.hospitalName.indexOf(e)||t.push(a)}),this.hospitalArr=t}else this.hospitalArr=this.hospitalArr_new},roomFilter_m:function(e){if(e){var t=[];this.roomArr_new_m.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.name.indexOf(e)||t.push(a)}),this.roomArr_m=t}else this.roomArr_m=this.roomArr_new_m},roomsFilter_m:function(e){if(e){var t=[];this.roomsArr_new_m.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.name.indexOf(e)||t.push(a)}),this.roomsArr_m=t}else this.roomsArr_m=this.roomsArr_new_m},docFilter_m:function(e){if(e){var t=[];this.orderDoctor_new_m.forEach(function(a,i){0!=a.PINYIN_CODE.toUpperCase().indexOf(e.toUpperCase())&&0!=a.STAFF_NAME.indexOf(e)||t.push(a)}),this.orderDoctor_m=t}else this.orderDoctor_m=this.orderDoctor_new_m},querySearch_m:function(e,t){console.log(e);var a=this.sourceArr;t(e?a.filter(this.createFilter_m(e)):a)},createFilter_m:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect_m:function(e){this.source_m=e.value,console.log(this.source_m)},hospitalFilter_w:function(e){if(e){var t=[];this.hospitalArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.hospitalName.indexOf(e)||t.push(a)}),this.hospitalArr=t}else this.hospitalArr=this.hospitalArr_new},roomFilter_w:function(e){if(e){var t=[];this.roomArr_new_w.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.name.indexOf(e)||t.push(a)}),this.roomArr_w=t}else this.roomArr_w=this.roomArr_new_w},roomsFilter_w:function(e){if(e){var t=[];this.roomsArr_new_w.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.name.indexOf(e)||t.push(a)}),this.roomsArr_w=t}else this.roomsArr_w=this.roomsArr_new_w},docFilter_w:function(e){if(e){var t=[];this.orderDoctor_new_w.forEach(function(a,i){0!=a.PINYIN_CODE.toUpperCase().indexOf(e.toUpperCase())&&0!=a.STAFF_NAME.indexOf(e)||t.push(a)}),this.orderDoctor_w=t}else this.orderDoctor_w=this.orderDoctor_new_w},querySearch_w:function(e,t){console.log(e);var a=this.sourceArr;t(e?a.filter(this.createFilter_w(e)):a)},createFilter_w:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect_w:function(e){this.source_w=e.value,console.log(this.source_m)},getSubject_m:function(){var e=this;this.roomDis_m=!1,console.log(this.hospitalIndex_m),this.roomId_m="",this.registType_m=!0,this.unEngenderDocDisabled_m=!0,this.orderDocId_m="",this.orderTypeNum_m="",u.a.get(m+"api/mq/register_type_new?hospital="+this.hospitalIndex_m).then(function(t){console.log(t),200302==t.data.status?(e.roomArr_m=t.data.msg.depts,e.roomArr_new_m=t.data.msg.depts,e.roomItemsArr_m=t.data.msg.items,e.roomItemsArr_new_m=t.data.msg.items):e.$message.error("获取列表失败")}).catch(function(t){console.log(t),e.$message.error("服务器出错")})},getRoom_m:function(){console.log(this.orderTypeNum_m),""!=this.orderDocId_m&&""!=this.orderTypeNum_m&&""!=this.roomId_m&&""!=this.hospitalIndex_m?this.orderBtn_m=!1:this.orderBtn_m=!0,""!=this.orderTypeNum_m?(this.orderDoctor_m=[],this.orderDocId_m="",this.unEngenderDocDisabled_m=!0,this.orderTypeNum_m=""):(this.roomDis_m=!1,this.roomsArr_m=this.roomItemsArr_m[this.roomId_m].items,this.roomsArr_new_m=this.roomItemsArr_m[this.roomId_m].items,this.registType_m=!1)},orderSelect_m:function(){var e=this;console.log(this.orderTypeNum_m),""!=this.orderDocId_m&&""!=this.orderTypeNum_m&&""!=this.roomId_m&&""!=this.hospitalIndex_m?this.orderBtn_m=!1:this.orderBtn_m=!0,u.a.get(m+"api/mq/depart_doctor?depart_code="+this.roomId_m).then(function(t){console.log(t),e.unEngenderDocDisabled_m=!1,200302==t.data.status?(e.orderDoctor_m=t.data.msg,e.orderDoctor_new_m=t.data.msg):e.$message.error("获取列表失败")}).catch(function(t){console.log(t),e.$message.error("服务器出错")})},orderDocSelect_m:function(){""!=this.orderDocId_m&&""!=this.orderTypeNum_m&&""!=this.roomId_m&&""!=this.hospitalIndex_m?this.orderBtn_m=!1:this.orderBtn_m=!0;for(var e=0;e<this.orderDoctor_m.length;e++)this.orderDoctor_m[e].STAFF_INDEX_NO==this.orderDocId_m&&(this.docName_m=this.orderDoctor_m[e].STAFF_NAME)},getSubject_w:function(){var e=this;""!=this.orderDocId_w&&""!=this.orderTypeNum_w&&""!=this.roomId_w&&""!=this.hospitalIndex_w?this.orderBtn_w=!1:this.orderBtn_w=!0,this.roomDis_w=!1,this.roomId_w="",this.registType_w=!0,this.unEngenderDocDisabled_w=!0,this.orderDocId_w="",this.orderTypeNum_w="",u.a.get(m+"api/mq/register_type_new?hospital="+this.hospitalIndex_w).then(function(t){console.log(t),200302==t.data.status?(e.roomArr_w=t.data.msg.depts,e.roomArr_new_w=t.data.msg.depts,e.roomItemsArr_w=t.data.msg.items,e.roomItemsArr_new_w=t.data.msg.items):e.$message.error("获取列表失败")}).catch(function(t){console.log(t),e.$message.error("服务器出错")})},getRoom_w:function(){""!=this.orderDocId_w&&""!=this.orderTypeNum_w&&""!=this.roomId_w&&""!=this.hospitalIndex_w?this.orderBtn_w=!1:this.orderBtn_w=!0,""!=this.orderTypeNum_w?(this.orderDoctor_w=[],this.orderDocId_w="",this.unEngenderDocDisabled_w=!0,this.orderTypeNum_w=""):(this.roomDis_w=!1,this.roomsArr_w=this.roomItemsArr_w[this.roomId_w].items,this.roomsArr_new_w=this.roomItemsArr_w[this.roomId_w].items,this.registType_w=!1)},orderSelect_w:function(){var e=this;console.log(this.orderTypeNum_w),""!=this.orderDocId_w&&""!=this.orderTypeNum_w&&""!=this.roomId_w&&""!=this.hospitalIndex_w?this.orderBtn_w=!1:this.orderBtn_w=!0,u.a.get(m+"api/mq/depart_doctor?depart_code="+this.roomId_w).then(function(t){console.log(t),e.unEngenderDocDisabled_w=!1,200302==t.data.status?(e.orderDoctor_w=t.data.msg,e.orderDoctor_new_w=t.data.msg):e.$message.error("获取列表失败")}).catch(function(t){console.log(t),e.$message.error("服务器出错")})},orderDocSelect_w:function(){""!=this.orderDocId_w&&""!=this.orderTypeNum_w&&""!=this.roomId_w&&""!=this.hospitalIndex_w?this.orderBtn_w=!1:this.orderBtn_w=!0;for(var e=0;e<this.orderDoctor_w.length;e++)this.orderDoctor_w[e].STAFF_INDEX_NO==this.orderDocId_w&&(this.docName_w=this.orderDoctor_w[e].STAFF_NAME)},getHospital:function(){var e=this;u.a.get(m+"api/his/hospital_list").then(function(t){if(console.log(t),200201==t.data.status){e.hospitalArr=t.data.msg,e.hospitalArr_new=t.data.msg;for(var a=function(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0&&s[r].substring(0,i)===t)return s[r].substr(i+1)}(window.location.href,"hospitalId"),i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNoZ==a&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex_w=e.hospitalArr[i].hospitalNo,e.hospitalIndex_m=e.hospitalArr[i].hospitalNo,e.hospitalNum=e.hospitalArr[i].hospitalNo,e.getSubject_m(),e.getSubject_w())}}).catch(function(e){console.log(e)})}},mounted:function(){function e(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0){if(s[r].substring(0,i)===t)return s[r].substr(i+1)}else;}this.getHospital();var t=window.location.href;this.opName=e(t,"opName"),this.opNo=e(t,"opNo"),console.log(this.opName),""==this.$route.query.name_m?this.manShow=!1:""==this.$route.query.name_w?this.womenShow=!1:(this.womenShow=!0,this.manShow=!0),108==this.$route.query.hospital?(this.hospitalName_m="新疆佳音医院妇产分院",this.hospitalName_w="新疆佳音医院妇产分院"):109==this.$route.query.hospital?(this.hospitalName_m="新疆佳音医院龙泉街门诊",this.hospitalName_w="新疆佳音医院龙泉街门诊"):110==this.$route.query.hospital?(this.hospitalName_m="新疆佳音医院城北分院",this.hospitalName_w="新疆佳音医院城北分院"):111==this.$route.query.hospital?(this.hospitalName_m="新疆佳音医院男科分院",this.hospitalName_w="新疆佳音医院男科分院"):112==this.$route.query.hospital?(this.hospitalName_m="新疆佳音医院吐鲁番医院",this.hospitalName_w="新疆佳音医院吐鲁番医院"):113==this.$route.query.hospital?(this.hospitalName_m="新疆佳音医院巴州分院",this.hospitalName_w="新疆佳音医院巴州分院"):114==this.$route.query.hospital?(this.hospitalName_m="新疆佳音医院伊宁市分院",this.hospitalName_w="新疆佳音医院伊宁市分院"):115==this.$route.query.hospital&&(this.hospitalName_m="新疆佳音医院喀什分院",this.hospitalName_w="新疆佳音医院喀什分院"),console.log(this.$route.query),this.name_m=this.$route.query.name_m,this.nation_m=this.$route.query.nation_m,this.sex_m=this.$route.query.sex_m,this.treat_m=this.$route.query.treat_m,this.phone_m=this.$route.query.phone_m,this.idCard_m=this.$route.query.idCard_m,this.name_w=this.$route.query.name_w,this.nation_w=this.$route.query.nation_w,this.sex_w=this.$route.query.sex_w,this.treat_w=this.$route.query.treat_w,this.phone_w=this.$route.query.phone_w,this.idCard_w=this.$route.query.idCard_w}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card_header clear"},[a("p",[a("span",[e._v(e._s(e.msg))])])]),e._v(" "),a("div",{staticClass:"card_main"},[a("ul",{staticClass:"clear"},[a("li",{directives:[{name:"show",rawName:"v-show",value:e.womenShow,expression:"womenShow"}]},[a("span",{staticStyle:{position:"absolute",left:"0",top:"0"}},[e._v("女方信息")]),e._v(" "),a("div",{staticClass:"card_msg"},[a("h1",[e._v("新疆佳音医院")]),e._v(" "),a("h2",[a("span",[e._v("姓名：")]),a("span",[e._v(e._s(e.name_w))])]),e._v(" "),a("h2",[a("span",[e._v("性别：")]),a("span",[e._v(e._s(e.sex_w))])]),e._v(" "),a("h2",[a("span",[e._v("民族：")]),a("span",[e._v(e._s(e.nation_w))])]),e._v(" "),a("h2",[a("span",[e._v("就诊卡号：")]),a("span",[e._v(e._s(e.treat_w))])]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{position:"absolute",left:"-35%",bottom:"2%"},attrs:{type:"warning"},on:{click:e.code_women}},[e._v("生成二维码")])],1),e._v(" "),a("div",{staticClass:"order"},[a("h5",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号机构：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.hospitalFilter_w},on:{change:e.getSubject_w},model:{value:e.hospitalIndex_w,callback:function(t){e.hospitalIndex_w=t},expression:"hospitalIndex_w"}},e._l(e.hospitalArr,function(t){return a("el-option",{key:t.hospitalName,attrs:{label:t.hospitalName,value:t.hospitalNo}},[a("span",[e._v(e._s(t.hospitalName))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("h5",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号科室：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",disabled:e.roomDis_w,filterable:"",placeholder:"==请选择==",filterMethod:e.roomFilter_w},on:{change:e.getRoom_w},model:{value:e.roomId_w,callback:function(t){e.roomId_w=t},expression:"roomId_w"}},e._l(e.roomArr_w,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.code}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("h5",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号类别：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",disabled:e.registType_w,filterable:"",placeholder:"==请选择==",filterMethod:e.roomsFilter_w},on:{change:e.orderSelect_w},model:{value:e.orderTypeNum_w,callback:function(t){e.orderTypeNum_w=t},expression:"orderTypeNum_w"}},e._l(e.roomsArr_w,function(t,i){return a("el-option",{key:i,attrs:{label:t.name,value:t.class_type}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("h5",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号医生：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",disabled:e.unEngenderDocDisabled_w,filterable:"",placeholder:"==请选择==",filterMethod:e.docFilter_w},on:{change:e.orderDocSelect_w},model:{value:e.orderDocId_w,callback:function(t){e.orderDocId_w=t},expression:"orderDocId_w"}},e._l(e.orderDoctor_w,function(t){return a("el-option",{key:t.STAFF_NAME,attrs:{label:t.STAFF_NAME,value:t.STAFF_INDEX_NO}},[a("span",[e._v(e._s(t.STAFF_NAME))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.PINYIN_CODE))])])}))],1),e._v(" "),a("h5",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号来源：")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"70%"},attrs:{clearable:"","fetch-suggestions":e.querySearch_w,placeholder:"请输入内容"},on:{select:e.handleSelect_w},model:{value:e.source_w,callback:function(t){e.source_w=t},expression:"source_w"}})],1),e._v(" "),a("h5",[a("el-checkbox",{model:{value:e.checked_w,callback:function(t){e.checked_w=t},expression:"checked_w"}},[e._v("购买病历")])],1),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{position:"absolute",right:"-18%",bottom:"-20%"},attrs:{disabled:e.orderBtn_w,type:"warning"},on:{click:e.reg_w}},[e._v("立即挂号")])],1)]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.manShow,expression:"manShow"}]},[a("span",{staticStyle:{position:"absolute",left:"0",top:"0"}},[e._v("男方信息")]),e._v(" "),a("div",{staticClass:"card_msg"},[a("h1",[e._v("新疆佳音医院")]),e._v(" "),a("h2",[a("span",[e._v("姓名：")]),a("span",[e._v(e._s(e.name_m))])]),e._v(" "),a("h2",[a("span",[e._v("性别：")]),a("span",[e._v(e._s(e.sex_m))])]),e._v(" "),a("h2",[a("span",[e._v("民族：")]),a("span",[e._v(e._s(e.nation_m))])]),e._v(" "),a("h2",[a("span",[e._v("就诊卡号：")]),a("span",[e._v(e._s(e.treat_m))])]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{position:"absolute",left:"-35%",bottom:"2%"},attrs:{type:"warning"},on:{click:e.code_man}},[e._v("生成二维码")])],1),e._v(" "),a("div",{staticClass:"order"},[a("h5",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号机构：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.hospitalFilter_m},on:{change:e.getSubject_m},model:{value:e.hospitalIndex_m,callback:function(t){e.hospitalIndex_m=t},expression:"hospitalIndex_m"}},e._l(e.hospitalArr,function(t){return a("el-option",{key:t.hospitalName,attrs:{label:t.hospitalName,value:t.hospitalNo}},[a("span",[e._v(e._s(t.hospitalName))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("h5",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号科室：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",disabled:e.roomDis_m,filterable:"",placeholder:"==请选择==",filterMethod:e.roomFilter_m},on:{change:e.getRoom_m},model:{value:e.roomId_m,callback:function(t){e.roomId_m=t},expression:"roomId_m"}},e._l(e.roomArr_m,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.code}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("h5",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号类别：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",disabled:e.registType_m,filterable:"",placeholder:"==请选择==",filterMethod:e.roomsFilter_m},on:{change:e.orderSelect_m},model:{value:e.orderTypeNum_m,callback:function(t){e.orderTypeNum_m=t},expression:"orderTypeNum_m"}},e._l(e.roomsArr_m,function(t,i){return a("el-option",{key:i,attrs:{label:t.name,value:t.class_type}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("h5",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号医生：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",disabled:e.unEngenderDocDisabled_m,filterable:"",placeholder:"==请选择==",filterMethod:e.docFilter_m},on:{change:e.orderDocSelect_m},model:{value:e.orderDocId_m,callback:function(t){e.orderDocId_m=t},expression:"orderDocId_m"}},e._l(e.orderDoctor_m,function(t){return a("el-option",{key:t.STAFF_NAME,attrs:{label:t.STAFF_NAME,value:t.STAFF_INDEX_NO}},[a("span",[e._v(e._s(t.STAFF_NAME))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.PINYIN_CODE))])])}))],1),e._v(" "),a("h5",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号来源：")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"70%"},attrs:{clearable:"","fetch-suggestions":e.querySearch_m,placeholder:"请输入内容"},on:{select:e.handleSelect_m},model:{value:e.source_m,callback:function(t){e.source_m=t},expression:"source_m"}})],1),e._v(" "),a("h5",[a("el-checkbox",{model:{value:e.checked_m,callback:function(t){e.checked_m=t},expression:"checked_m"}},[e._v("购买病历")])],1),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{position:"absolute",right:"-18%",bottom:"-20%"},attrs:{disabled:e.orderBtn_m,type:"warning"},on:{click:e.reg_m}},[e._v("立即挂号")])],1)])])]),e._v(" "),a("el-dialog",{attrs:{title:"二维码",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("div",{staticClass:"code clear"},[a("h2",[a("img",{staticClass:"codeimg",attrs:{src:e.codeImg_long,alt:""}}),e._v(" "),a("img",{staticClass:"codeimg",staticStyle:{"margin-left":"3%"},attrs:{src:e.codeImg_temp,alt:""}})])]),e._v(" "),a("div",{staticClass:"code_msg"},[a("h1",{staticClass:"clear"},[a("p",[e._v("就诊卡二维码")]),a("p",[e._v("临时二维码(24小时有效)")])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.codePopHide}},[e._v("取 消")])],1)]),e._v(" "),a("div",{staticClass:"card_footer"},[a("el-button",{staticStyle:{float:"left","margin-right":"3%"},attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"3%"},attrs:{type:"warning"},on:{click:e.reg_together}},[e._v("查询挂号")])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.popshow,width:"30%"},on:{"update:visible":function(t){e.popshow=t}}},[a("span",[e._v(e._s(this.tipsMsg))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.popshow=!1}}},[e._v("关 闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.popshow,width:"30%",center:""},on:{"update:visible":function(t){e.popshow=t}}},[a("span",[e._v(e._s(e.remark))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.backIndex}},[e._v("返回主页")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning"},on:{click:e.inquireOrder}},[e._v("查询挂号")])],1)])],1)},staticRenderFns:[]};var N=a("VU/8")(x,C,!1,function(e){a("z5Nm")},"data-v-c20116ac",null).exports,M={data:function(){var e=this;return{msg:"用户查询",inputMsg:"",currentPage3:1,listNum:"",tableData:[],optionArr:[],optionArr_new:[],option:"",total:0,pagesize:10,currentPage:1,centerDialogVisible:!1,codeImg_long:"",codeImg_temp:"",codeImg_temp_show:!0,addShow:!1,name:"",sex:"",health_card:"",sexArr:[{name:"N",value:"男"},{name:"N",value:"女"}],sexArr_new:[{name:"N",value:"男"},{name:"N",value:"女"}],fullscreenLoading:!1,usericCard:"",username:"",usersex:"",useridCard:"",userphone:"",startTime:"",endTime:"",errTips:"",pickerOptions0:{disabledDate:function(t){return""!=e.endTime?t.getTime()>Date.now()||t.getTime()>e.endTime:t.getTime()>Date.now()}},pickerOptions1:{disabledDate:function(t){return t.getTime()<e.startTime||t.getTime()>Date.now()}}}},methods:{back:function(){this.$router.go(-1)},del:function(){console.log(this.username),this.usericCard="",this.username="",this.usersex="",this.useridCard="",this.userphone="",this.startTime="",this.endTime="",this.option=""},selectOption:function(){console.log(this.option)},inquireBtn:function(){var e=this;this.fullscreenLoading=!0,u.a.post(m+"api/mq/find_patient",_()({keyword:this.usericCard,sex:this.usersex,start_time:this.startTime,end_time:this.endTime,op_code:this.option})).then(function(t){console.log(t),e.fullscreenLoading=!1,200301==t.data.status?(e.tableData=t.data.msg,e.listNum=e.tableData.length,localStorage.setItem("tableData",_()(t.data.msg))):(e.orderTips="获取列表失败"+t.data.status,e.fails())}).catch(function(t){e.fullscreenLoading=!1,e.orderTips="服务器出错"+t,e.fails()})},selectSex:function(){console.log(this.usersex)},selectStartTime:function(){console.log(this.startTime)},selectEndTime:function(){console.log(this.endTime)},fails:function(){this.$message.error(this.orderTips)},enter:function(e){},created:function(){this.listNum=this.tableData.length},current_change:function(e){this.currentPage=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pagesize=e},handleEdit:function(e,t){console.log(t);var a=_()(t);this.$router.push({path:"modifier",query:{data:a}})},order:function(e,t){console.log(e,t),this.$router.push({path:"order",query:{treatCard:t.CARD_ID_NUMBER,name:t.PAT_NAME,idCard:t.ID_NUMBER,phone:t.PHONE_NO,service:t.BANK,orderNumber:t.WORK_UNITS,optioner:t.OPPERATER,sex:t.PHYSI_SEX_NAME}})},backNum:function(e,t){this.$router.push({path:"inquireOrder"})},add:function(e,t){var a=this;console.log(e,t),u.a.post(m+"api/accounts/user/health_card/rebuild",_()({medical_card_number:t.CARD_ID_NUMBER,name:t.PAT_NAME,id_number:t.ID_NUMBER,phone:t.PHONE_NO})).then(function(e){console.log(e),200025==e.data.status?(a.addShow=!0,a.name=e.data.msg.name,a.sex=e.data.msg.sex,a.health_card=e.data.msg.health_card_number,a.inquireBtn()):400046==e.data.status&&a.open6()}).catch(function(e){})},addBind:function(e,t){console.log(t),localStorage.setItem("addBind",_()(t));var a=_()(t);this.$router.push({path:"bind",query:{data:a}})},open6:function(){this.$notify.error({title:"错误",message:"当前手机号或身份证已有健康卡号"})},codeShow:function(e,t){var a=this;console.log(e,t),this.centerDialogVisible=!0,console.log(t.health_card_number),void 0!=t.health_card_number?u.a.post(m+"api/accounts/tem_qrcode",_()({name:t.PAT_NAME,id_number:t.ID_NUMBER,phone:t.PHONE_NO})).then(function(e){console.log(e),a.codeImg_long=e.data.msg.medical_image_url,a.codeImg_temp=e.data.msg.image_url,a.codeImg_temp_show=!0}).catch(function(e){}):void 0==t.health_card_number&&u.a.post(m+"api/accounts/medical_qrcode",_()({code:t.CARD_ID_NUMBER})).then(function(e){console.log(e),a.codeImg_long=e.data.msg.medical_image_url,a.codeImg_temp_show=!1}).catch(function(e){})},getOption:function(){var e=this;u.a.get(m+"api/mq/depart_doctor?depart_code").then(function(t){console.log(t),200302==t.data.status&&(e.optionArr=t.data.msg,e.optionArr_new=t.data.msg)}).catch(function(e){console.log(e)})},opFilter:function(e){if(e){var t=[];this.optionArr_new.forEach(function(a,i){0!=a.PINYIN_CODE.toUpperCase().indexOf(e.toUpperCase())&&0!=a.STAFF_NAME.indexOf(e)||t.push(a)}),this.optionArr=t}else this.optionArr=this.optionArr_new},sexFilter:function(e){if(e){var t=[];this.sexArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sexArr=t}else this.sexArr=this.sexArr_new},dateFormat:function(e,t){return e.REGIST_DATE.replace("T"," ")}},mounted:function(){var e=this;this.getOption(),this.tableData=JSON.parse(localStorage.getItem("tableData"));var t=new Date,a=t.getFullYear(),i=t.getMonth()+1;i<10&&(i="0"+i);var s=t.getDate();this.startTime=a+"-"+i+"-"+s+" 00:00:00",this.endTime=a+"-"+i+"-"+s+" 23:59:59",this.listNum=this.tableData.length;var r=new WebSocket("ws://127.0.0.1:8804");r.onopen=function(){console.log("连接websocket成功"),this.inputMsg=""},r.onmessage=function(t){var a=JSON.parse(t.data);console.log(a),e.usericCard=a.msg.medical_card_number,e.inquireBtn()},r.onclose=function(e){console.log("Connection closed.")},this.$route.query.icCard&&(this.startTime="",this.endTime="",this.usericCard=this.$route.query.icCard,this.inquireBtn())}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inquire"},[a("div",{staticClass:"inquire_header clear"},[a("p",[a("span",[e._v(e._s(e.msg))])])]),e._v(" "),a("div",{staticClass:"inquire_main"},[a("div",{staticClass:"userList clear"},[a("div",{staticClass:"userList_left clear",staticStyle:{float:"left"}},[a("div",[a("h1",[e._v("筛选条件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"2%"},attrs:{type:"warning"},on:{click:e.del}},[e._v("清空")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{"margin-left":"2%"},attrs:{type:"warning"},on:{click:e.inquireBtn}},[e._v("查询")])],1),e._v(" "),a("ul",[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("基本信息：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.usericCard,expression:"usericCard"}],staticStyle:{width:"60%"},attrs:{type:"text",placeholder:"就诊卡，姓名，身份证，手机"},domProps:{value:e.usericCard},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.inquireBtn(t):null},input:function(t){t.target.composing||(e.usericCard=t.target.value)}}})]),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",filterMethod:e.sexFilter},on:{focus:e.enter},model:{value:e.usersex,callback:function(t){e.usersex=t},expression:"usersex"}},e._l(e.sexArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("操作员：")]),e._v(" "),a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",filterMethod:e.opFilter},on:{focus:e.enter},model:{value:e.option,callback:function(t){e.option=t},expression:"option"}},e._l(e.optionArr,function(t){return a("el-option",{key:t.STAFF_NAME,attrs:{label:t.STAFF_NAME,value:t.OPERATOR_CODE}},[a("span",[e._v(e._s(t.STAFF_NAME))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.PINYIN_CODE))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("起始时间：")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"60%"},attrs:{"picker-options":e.pickerOptions0,"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"登记起始时间"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.inquireBtn(t):null},change:e.selectStartTime},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("结束时间：")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"60%"},attrs:{"picker-options":e.pickerOptions1,"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"登记结束时间"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.inquireBtn(t):null},change:e.selectEndTime},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)])]),e._v(" "),a("div",{staticClass:"clear",staticStyle:{"padding-left":"18%"}},[a("el-table",{attrs:{height:"550",data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize)}},[a("el-table-column",{attrs:{prop:"PAT_NAME",label:"姓名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"AGE",label:"年龄",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"REGIST_DATE",formatter:e.dateFormat,label:"创建时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"WORK_UNITS",label:"预约号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CARD_ID_NUMBER",label:"就诊卡号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PHONE_NO_HOME",label:"手机号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"OPPERATER",label:"发卡人",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"BANK",label:"接待客服",width:"120"}}),e._v(" "),(e.show=!1)?a("el-table-column",{attrs:{prop:"health_card_number",label:"健康卡号",width:"150"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{attrs:{size:"medium","split-button":"",type:"warning"}},[e._v("\n                            操作\n                            "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("el-button",{staticStyle:{border:"0 none",width:"100%"},attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("修改")])],1),e._v(" "),a("el-dropdown-item",[a("el-button",{staticStyle:{border:"0 none",width:"100%"},attrs:{size:"small"},on:{click:function(a){e.order(t.$index,t.row)}}},[e._v("挂号")])],1),e._v(" "),a("el-dropdown-item",[a("el-button",{staticStyle:{border:"0 none",width:"100%"},attrs:{size:"small"},on:{click:function(a){e.codeShow(t.$index,t.row)}}},[e._v("二维码")])],1),e._v(" "),a("el-dropdown-item",[a("el-button",{staticStyle:{border:"0 none",width:"100%"},attrs:{size:"small"},on:{click:function(a){e.addBind(t.$index,t.row)}}},[e._v("补录配偶")])],1)],1)],1)]}}])})],1)],1)])]),e._v(" "),a("div",{staticClass:"inquire_footer"},[a("el-pagination",{staticStyle:{margin:"0 auto",width:"35%","margin-top":"3%",position:"absolute",left:"50%",top:"0",transform:"translate(-50%,0)"},attrs:{"current-page":e.currentPage3,"page-sizes":[10,20],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:Number(e.listNum)},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")])],1),e._v(" "),a("el-dialog",{attrs:{title:"二维码",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("div",{staticClass:"code clear",staticStyle:{"text-align":"center"}},[a("h2",{staticClass:"clear",staticStyle:{display:"inline-block"}},[a("img",{staticClass:"codeimg",staticStyle:{width:"150px"},attrs:{src:e.codeImg_long,alt:""}}),e._v(" "),a("p",[e._v("就诊卡二维码")])]),e._v(" "),a("h2",{directives:[{name:"show",rawName:"v-show",value:e.codeImg_temp_show,expression:"codeImg_temp_show"}],staticClass:"clear",staticStyle:{display:"inline-block"}},[a("img",{staticClass:"codeimg",staticStyle:{width:"150px",height:"150px"},attrs:{src:e.codeImg_temp,alt:""}}),e._v(" "),a("p",[e._v("临时二维码")])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("关 闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.addShow,width:"30%",center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",{staticClass:"card_msg"},[a("h1"),e._v(" "),a("h2",[a("span",[e._v("姓名：")]),a("span",[e._v(e._s(e.name))])]),e._v(" "),a("h2",[a("span",[e._v("性别：")]),a("span",[e._v(e._s(e.sex))])]),e._v(" "),a("h2",[a("span",[e._v("健康卡号：")]),a("span",[e._v(e._s(e.health_card))])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.addShow=!1}}},[e._v("关 闭")])],1)])],1)},staticRenderFns:[]};var k=a("VU/8")(M,I,!1,function(e){a("kXQ+"),a("EL7v")},"data-v-7aa810b9",null).exports,D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"regSelect"},[t("div",{staticClass:"regSelect_header clear"},[t("p",[t("span",[this._v(this._s(this.msg))])])])])},staticRenderFns:[]};var T=a("VU/8")({data:function(){return{msg:"挂号查询"}}},D,!1,function(e){a("dZjS")},"data-v-fffba808",null).exports,E=a("fZjL"),O=a.n(E),z={data:function(){return{msg:"患者挂号",treatId:"",name:"",idCard:"",phone:"",sex:"",optioner:"",hospitalArr:[],hospitalArr_new:[],doctorArr:[],roomArr:[],roomArr_new:[],dateArr:[],timeArr:[],optionArr:[],roomItemsArr:[],roomItemsArr_new:[],sourceArr:[{name:"PYJS",value:"朋友介绍"},{name:"ARZY",value:"爱人在院"},{name:"YSJS",value:"医生介绍"},{name:"WYJS",value:"外院介绍"},{name:"KB",value:"口碑"},{name:"FJ",value:"附近"},{name:"YGJS",value:"员工介绍"},{name:"WL",value:"网络"},{name:"KHJS",value:"客户介绍"},{name:"DS",value:"电视"},{name:"DH",value:"电话"},{name:"BZ",value:"报纸"},{name:"GB",value:"广播"},{name:"LG",value:"路过"},{name:"QT",value:"其他"}],sourceArr_new:[{name:"PYJS",value:"朋友介绍"},{name:"ARZY",value:"爱人在院"},{name:"YSJS",value:"医生介绍"},{name:"WYJS",value:"外院介绍"},{name:"KB",value:"口碑"},{name:"FJ",value:"附近"},{name:"YGJS",value:"员工介绍"},{name:"WL",value:"网络"},{name:"KHJS",value:"客户介绍"},{name:"DS",value:"电视"},{name:"DH",value:"电话"},{name:"BZ",value:"报纸"},{name:"GB",value:"广播"},{name:"LG",value:"路过"},{name:"QT",value:"其他"}],orderNumber:"",origin:"",indexId:"",roomItem:"",startTime:"",endTime:"",startTime_abled:!0,endTime_abled:!0,docId:"",itemNo:"",timeId:"",orderBtn:!0,schedulingNo:"",remark:"",centerDialogVisible:!1,roomDisabled:!0,docDisabled:!0,timeDisabled:!0,popshow:!1,tipsMsg:"",roomId:"",pickerOptions0:{disabledDate:function(e){var t=Date.now(),a=t+6912e5;return e.getTime()<t-864e5||e.getTime()>a}},radio:"0",engenderShow:!1,unEngenderShow:!0,unEngenderDocDisabled:!0,registType:!0,radioDisabled:!0,fullscreenLoading:!1,orderTypeArr:[],orderType:"",orderId:"",orderDoctor:[],orderDoctor_new:[],orderDocId:"",CLASS_TYPE:"",opName:"",opNo:"",source:"",checked:!1,orderTips:"获取列表失败~~~",orderSelectShow:!0,orderSelectHide:!1,state2:"",roomDis:!0,roomsArr:[],roomsArr_new:[],orderTypeNum:"",price:"",docName:"",hospitalNum:""}},methods:{back:function(){this.$router.go(-1)},icCardBulr:function(){var e=this;""!=this.treatId&&u.a.get(m+"api/mq/search_patient?keyword="+this.treatId).then(function(t){console.log(t),0==t.data.msg.length?e.$message("未找到该就诊卡号"):(e.name=t.data.msg[0].PAT_NAME,e.sex=t.data.msg[0].PHYSI_SEX_NAME,e.idCard=t.data.msg[0].ID_NUMBER,e.phone=t.data.msg[0].PHONE_NO)}).catch(function(t){console.log(t),e.orderTips="服务器出错",e.fails()})},engenderBtn:function(){var e=this;1==this.radio&&""!=this.indexId?(this.engender=!1,this.unEngender=!0,u.a.get(m+"api/his/book_subject_list?hospital_no="+this.indexId).then(function(t){e.roomArr=t.data.msg,e.roomDisabled=!1,e.roomArr=t.data.msg,e.roomDisabled=!1}).catch(function(e){console.log(error)})):2==this.radio&&(this.engender=!0,this.unEngender=!1,u.a.get(m+"api/mq/register_type?hospital="+this.indexId).then(function(t){console.log(t),e.orderType=t.data.msg,e.registType=!1}).catch(function(e){}))},getSubject:function(){var e=this;this.roomDis=!1,u.a.get(m+"api/mq/register_type_new?hospital="+this.hospitalNum).then(function(t){console.log(t),200302==t.data.status?(e.roomArr=t.data.msg.depts,e.roomArr_new=t.data.msg.depts,e.roomItemsArr=t.data.msg.items,e.roomItemsArr_new=t.data.msg.items):e.fails()}).catch(function(t){console.log(t),e.orderTips="服务器出错"+t,e.fails()})},getRoom:function(){console.log(this.roomsArr),""!=this.orderTypeNum?(this.orderDoctor=[],this.orderDocId="",this.unEngenderDocDisabled=!0,this.orderTypeNum=""):(this.roomDis=!1,console.log(this.roomItemsArr),this.roomsArr=this.roomItemsArr[this.roomId].items,this.roomsArr_new=this.roomItemsArr[this.roomId].items,console.log(this.roomsArr),this.registType=!1)},fails:function(){this.$message.error(this.orderTips)},selectDate_s:function(){var e=this;""!=this.roomItem&&u.a.get(m+"api/his/book_doctor_list?item_no="+this.roomItem+"&registered_start_date="+this.startTime+"&registered_end_date="+this.startTime).then(function(t){console.log(t),200208==t.data.status?(e.doctorArr=t.data.msg,e.docDisabled=!1):e.fails()}).catch(function(t){console.log(t),e.orderTips="服务器出错"+t,e.fails()})},getDoctor:function(){var e=this;u.a.get(m+"api/his/book_doctor_schedule_list?item_no="+this.roomItem+"&registered_start_date="+this.startTime+"&registered_end_date="+this.startTime+"&doctor_no="+this.docId).then(function(t){console.log(t),e.timeArr=t.data.msg,e.timeDisabled=!1}).catch(function(t){console.log(t),e.orderTips="服务器出错"+t,e.fails()})},getTime:function(){this.orderBtn=!1},order:function(){var e=this,t=new Date;t.getHours(),t.getDate();console.log(this.roomId,this.orderTypeNum,this.orderDocId),""==this.treatId||""==this.name||""==this.idCard||""==this.phone?(this.tipsMsg="请输入用户就诊卡、姓名、身份证、手机号",this.popshow=!0):""==this.roomId||""==this.orderTypeNum||""==this.orderDocId?(console.log(this.roomId,this.orderTypeNum),this.tipsMsg="请先选择挂号信息",this.popshow=!0):(this.fullscreenLoading=!0,u.a.post(m+"api/mq/register",_()({medical_card_id:this.treatId,doctor_id:this.orderDocId,doctor_name:this.docName,scheme_type:this.orderTypeNum,op_name:this.opName,op_no:this.opNo,source:this.source,is_mrc:this.checked})).then(function(t){console.log(t),e.fullscreenLoading=!1,200303==t.data.status?(e.remark="挂号成功!",e.centerDialogVisible=!0):(e.orderTips="挂号失败",e.fails())}).catch(function(t){console.log(t),e.orderTips="服务器出错"+t,e.fails()}))},inquireOrder:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!1,e.$router.push({path:"record",query:{icCard:e.treatId}})},1500)},backIndex:function(){this.$router.push({path:"/"})},handleClose:function(){},changeInput:function(){this.orderSelectShow=!this.orderSelectShow,this.orderSelectHide=!this.orderSelectHide},querySearch:function(e,t){console.log(e);var a=this.sourceArr;t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){this.source=e.value,console.log(this.source)},hosFilter:function(e){if(e){var t=[];this.hospitalArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.hospitalName.indexOf(e)||t.push(a)}),this.hospitalArr=t}else this.hospitalArr=this.hospitalArr_new},roomFilter:function(e){if(e){var t=[];this.roomArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.name.indexOf(e)||t.push(a)}),this.roomArr=t}else this.roomArr=this.roomArr_new},roomsFilter:function(e){if(e){var t=[];this.roomsArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.name.indexOf(e)||t.push(a)}),this.roomsArr=t}else this.roomsArr=this.roomsArr_new},docFilter:function(e){if(e){var t=[];this.orderDoctor_new.forEach(function(a,i){0!=a.PINYIN_CODE.toUpperCase().indexOf(e.toUpperCase())&&0!=a.STAFF_NAME.indexOf(e)||t.push(a)}),this.orderDoctor=t}else this.orderDoctor=this.orderDoctor_new},sourceFilter:function(e){if(e){var t=[];this.sourceArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sourceArr=t}else this.sourceArr=this.sourceArr_new},enter:function(e){e.target.click(),e.target.click()},orderSelect:function(){var e=this;console.log(this.orderTypeNum),u.a.get(m+"api/mq/depart_doctor?depart_code="+this.roomId).then(function(t){console.log(t),e.unEngenderDocDisabled=!1,200302==t.data.status?(e.orderDoctor=t.data.msg,e.orderDoctor_new=t.data.msg):e.fails()}).catch(function(t){console.log(t),e.orderTips="服务器出错"+t,e.fails()})},orderDocSelect:function(){this.orderBtn=!1;for(var e=0;e<this.orderDoctor.length;e++)this.orderDoctor[e].STAFF_INDEX_NO==this.orderDocId&&(this.docName=this.orderDoctor[e].STAFF_NAME)},getHospital:function(){var e=this;u.a.get(m+"api/his/hospital_list").then(function(t){if(console.log(t),200201==t.data.status){e.hospitalArr=t.data.msg,e.hospitalArr_new=t.data.msg;for(var a=function(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0&&s[r].substring(0,i)===t)return s[r].substr(i+1)}(window.location.href,"hospitalId"),i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNoZ==a&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo,e.hospitalNum=e.hospitalArr[i].hospitalNo,e.getSubject())}}).catch(function(e){console.log(e)})}},mounted:function(){var e=this;if(0!=O()(this.$route.query).length)console.log(this.$route),this.treatId=this.$route.query.treatCard,this.name=this.$route.query.name,this.idCard=this.$route.query.idCard,this.phone=this.$route.query.phone,this.orderNumber=this.$route.query.orderNumber,this.optioner=this.$route.query.optioner,this.sex=this.$route.query.sex,this.icCardBulr();else{var t=new WebSocket("ws://127.0.0.1:8804");t.onopen=function(){console.log("连接websocket成功")},t.onmessage=function(t){var a=JSON.parse(t.data);console.log(a),e.icCardBulr(),e.treatId=a.msg.medical_card_number,e.name=a.msg.first_name,e.idCard=a.msg.id_number,e.phone=a.msg.phone_number,e.sex=a.msg.sex},t.onclose=function(e){console.log("Connection closed.")}}function a(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0){if(s[r].substring(0,i)===t)return s[r].substr(i+1)}else;}this.getHospital();var i=window.location.href;this.opName=a(i,"opName"),this.opNo=a(i,"opNo"),console.log(this.opName)},computed:{}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order"},[a("div",{staticClass:"order_header"},[a("p",[a("span",[e._v(e._s(e.msg))])])]),e._v(" "),a("div",{staticClass:"order_main"},[a("ul",{staticClass:"clear"},[a("li",[a("label",{attrs:{for:""}},[e._v("就诊卡号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"就诊卡号"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.icCardBulr(t):null}},model:{value:e.treatId,callback:function(t){e.treatId=t},expression:"treatId"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{staticStyle:{color:"#000"},attrs:{placeholder:"姓名",disabled:!0},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-input",{attrs:{placeholder:"性别",disabled:!0},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("身份证号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"身份证号",disabled:!0},model:{value:e.idCard,callback:function(t){e.idCard=t},expression:"idCard"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("手机号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"手机号",disabled:!0},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)]),e._v(" "),a("ul",{staticClass:"clear",staticStyle:{"border-top":"1px dashed #ccc","margin-top":"5%","padding-top":"5%"}},[a("li",[a("label",{attrs:{for:""}},[e._v("挂号机构：")]),e._v(" "),a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.hosFilter},on:{click:e.enter,change:e.getSubject},model:{value:e.indexId,callback:function(t){e.indexId=t},expression:"indexId"}},e._l(e.hospitalArr,function(t){return a("el-option",{key:t.hospitalName,attrs:{label:t.hospitalName,value:t.hospitalNo}},[a("span",[e._v(e._s(t.hospitalName))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("挂号科室：")]),e._v(" "),a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",disabled:e.roomDis,filterable:"",placeholder:"==请选择==",filterMethod:e.roomFilter},on:{change:e.getRoom},model:{value:e.roomId,callback:function(t){e.roomId=t},expression:"roomId"}},e._l(e.roomArr,function(t,i){return a("el-option",{key:i,attrs:{label:t.name,value:t.code}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""},on:{click:e.changeInput}},[e._v("挂号类别：")]),e._v(" "),a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",disabled:e.registType,filterable:"",placeholder:"==请选择==",filterMethod:e.roomsFilter},on:{change:e.orderSelect},model:{value:e.orderTypeNum,callback:function(t){e.orderTypeNum=t},expression:"orderTypeNum"}},e._l(e.roomsArr,function(t,i){return a("el-option",{key:i,attrs:{label:t.name,value:t.class_type}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.unEngenderShow,expression:"unEngenderShow"}]},[a("label",{attrs:{for:""}},[e._v("挂号医生：")]),e._v(" "),a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",disabled:e.unEngenderDocDisabled,filterable:"",placeholder:"==请选择==",filterMethod:e.docFilter},on:{change:e.orderDocSelect},model:{value:e.orderDocId,callback:function(t){e.orderDocId=t},expression:"orderDocId"}},e._l(e.orderDoctor,function(t,i){return a("el-option",{key:i,attrs:{label:t.STAFF_NAME,value:t.STAFF_INDEX_NO}},[a("span",[e._v(e._s(t.STAFF_NAME))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.PINYIN_CODE))])])}))],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.unEngenderShow,expression:"unEngenderShow"}],staticStyle:{position:"relative"}},[a("label",{attrs:{for:""}},[e._v("来源：")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"60%"},attrs:{clearable:"","fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}})],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.unEngenderShow,expression:"unEngenderShow"}]},[a("label",{attrs:{for:""}},[e._v("操作员：")]),e._v(" "),a("el-input",{attrs:{placeholder:"操作员",disabled:!0},model:{value:e.opName,callback:function(t){e.opName=t},expression:"opName"}})],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.unEngenderShow,expression:"unEngenderShow"}]},[a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("购买病历")])],1)])]),e._v(" "),a("div",{staticClass:"order_footer"},[a("el-button",{attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{float:"right"},attrs:{type:"warning",disabled:e.orderBtn},on:{click:e.order}},[e._v("立即挂号")])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("span",[e._v(e._s(e.remark))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.backIndex}},[e._v("返回主页")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning"},on:{click:e.inquireOrder}},[e._v("查询挂号")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.popshow,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.popshow=t}}},[a("span",[e._v(e._s(this.tipsMsg))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.popshow=!1}}},[e._v("关 闭")])],1)])],1)},staticRenderFns:[]};var Y=a("VU/8")(z,P,!1,function(e){a("rw5g"),a("5+tB")},"data-v-de57fea8",null).exports,B={data:function(){return{msg:"修改信息",disabled:!1,treatCard:"",name:"",age:"",oldPhone:"",newPhone:"",idCard:"",country:"中国",birthday:"",sex:"",homeTown:"",address:"",place:"乌鲁木齐",marry:"已婚",job:"个体经营者",nation:"",createTime:"",fkPerson:"",service:"",idImg:a("k78f"),faceImg:a("WAYU"),code:"",icCard:"",hospitalNum:"",orderNum:"",opName:"",opNo:"",tips:"",tipsPop:!1,loading:!1,dialogVisible:!1,deviceNum:!0,deviceInput:localStorage.getItem("deviceId"),deviceMsgArr:[],deviceSelect:"",changePhoneDisabled:!0,getcodeDisabled:!1,sexArr:[{name:"N",value:"男"},{name:"N",value:"女"}],sexArr_new:[],countryArr:p,countryArr_new:p,nationArr:g,nationArr_new:g,placeArr:f,placeArr_new:f,marryArr:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],marryArr_new:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],jobArr:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],jobArr_new:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],hospitalArr:[],hospitalArr_new:[],serviceArr_new:[],serviceArr:[],newIdImg:"",newFaceImg:"",gztMsg:"",gztResult:"",gztShow_m:"",bgcolor_m:"",right:"right",fontSize:"14",newGzt:"",newGzt_source:"",gztTips:"",gztPop:!1,addShow:!1,health_card:""}},methods:{back:function(){this.$router.go(-1)},enter:function(){},bulrDevice:function(){var e=this;this.deviceNum=!0,u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/list").then(function(t){if(console.log(t),200040==t.data.status){e.deviceMsgArr=t.data.msg,e.deviceMsgArr_new=t.data.msg;for(var a=0;a<e.deviceMsgArr.length;a++)0==e.deviceMsgArr[a].sex?e.deviceMsgArr[a].sex="男":1==e.deviceMsgArr[a].sex&&(e.deviceMsgArr[a].sex="女"),-2==e.deviceMsgArr[a].is_gzt?e.deviceMsgArr[a].is_gzt="失败":1==e.deviceMsgArr[a].is_gzt&&(e.deviceMsgArr[a].is_gzt="成功")}}).catch(function(e){console.log(e)})},editDevice:function(){this.deviceNum=!1},nameValue:function(){},selectUser:function(){var e=this,t=this.$loading({lock:!0,text:"国政通验证身份中..请稍后",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 1)",customClass:"loadingFontSize"});u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/"+this.deviceSelect).then(function(i){console.log(i),t.close(),200040==i.data.status?e.idCard==i.data.msg.id_number?(e.faceImg="data:image/png;base64,"+i.data.msg.face_image,e.idImg="data:image/png;base64,"+i.data.msg.id_image,e.newIdImg=i.data.msg.id_image,e.newFaceImg=i.data.msg.face_image,e.newGzt=i.data.msg.is_gzt,e.newGzt_source=i.data.msg.score,1!=i.data.msg.is_gzt?(e.gztMsg="国政通校验失败",e.gztShow_m=!0,e.bgcolor_m="red"):1==i.data.msg.is_gzt&&(e.gztMsg="国政通校验成功",e.gztShow_m=!0,e.bgcolor_m="blue")):e.idCard!=i.data.msg.id_number&&(e.gztTips="身份证与用户信息不匹配",e.gztPop=!0):(e.faceImg=a("k78f"),e.idImg=a("WAYU"),e.tips=i.data.status+i.data.desc,e.tipsPop=!0)}).catch(function(a){console.log(a),t.close(),e.tips=a,e.tipsPop=!0})},getPrevUserMsg:function(){var e=this;if(0==this.deviceMsgArr.length)this.tips="暂无设备信息",this.tipsPop=!0;else{var t=this.$loading({lock:!0,text:"国政通验证身份中..请稍后",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 1)",customClass:"loadingFontSize"});u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/"+this.deviceMsgArr[0].id).then(function(i){console.log(i),t.close(),200040==i.data.status?e.idCard==i.data.msg.id_number?(e.faceImg="data:image/png;base64,"+i.data.msg.face_image,e.idImg="data:image/png;base64,"+i.data.msg.id_image,e.newIdImg=i.data.msg.id_image,e.newFaceImg=i.data.msg.face_image,e.newGzt=i.data.msg.is_gzt,e.newGzt_source=i.data.msg.score,1!=i.data.msg.is_gzt?(e.gztMsg="国政通校验失败",e.gztShow_m=!0,e.bgcolor_m="red"):1==i.data.msg.is_gzt&&(e.gztMsg="国政通校验成功",e.gztShow_m=!0,e.bgcolor_m="blue")):e.idCard!=i.data.msg.id_number&&(e.gztTips="身份证与用户信息不匹配",e.gztPop=!0):(e.faceImg=a("k78f"),e.idImg=a("WAYU"),e.tips=i.data.status+i.data.desc,e.tipsPop=!0)}).catch(function(a){console.log(a),t.close(),e.tips=a,e.tipsPop=!0})}},getDeviceMsg:function(){var e=this;if(console.log(this.deviceInput),""==this.deviceInput||null==this.deviceInput)this.tips="请先输入设备编号",this.tipsPop=!0;else{var t=JSON.parse(this.$route.query.data);"男"==t.PHYSI_SEX_NAME?u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/listm").then(function(t){if(console.log(t),200040==t.data.status){e.deviceMsgArr=t.data.msg,e.deviceMsgArr_new=t.data.msg;for(var a=0;a<e.deviceMsgArr.length;a++)0==e.deviceMsgArr[a].sex?e.deviceMsgArr[a].sex="男":1==e.deviceMsgArr[a].sex&&(e.deviceMsgArr[a].sex="女"),-2==e.deviceMsgArr[a].is_gzt?e.deviceMsgArr[a].is_gzt="失败":1==e.deviceMsgArr[a].is_gzt&&(e.deviceMsgArr[a].is_gzt="成功")}}).catch(function(e){console.log(e)}):"女"==t.PHYSI_SEX_NAME&&u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/listw").then(function(t){if(console.log(t),200040==t.data.status){e.deviceMsgArr=t.data.msg,e.deviceMsgArr_new=t.data.msg;for(var a=0;a<e.deviceMsgArr.length;a++)0==e.deviceMsgArr[a].sex?e.deviceMsgArr[a].sex="男":1==e.deviceMsgArr[a].sex&&(e.deviceMsgArr[a].sex="女"),-2==e.deviceMsgArr[a].is_gzt?e.deviceMsgArr[a].is_gzt="失败":1==e.deviceMsgArr[a].is_gzt&&(e.deviceMsgArr[a].is_gzt="成功")}}).catch(function(e){console.log(e)})}},deviceFilter:function(e){if(e){var t=[];this.deviceMsgArr_new.forEach(function(a,i){0!=a.sex.toUpperCase().indexOf(e.toUpperCase())&&0!=a.name.indexOf(e)||t.push(a)}),this.deviceMsgArr=t}else this.deviceMsgArr=this.deviceMsgArr_new},sexFilter:function(e){if(e){var t=[];this.sexArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sexArr=t}else this.sexArr=this.sexArr_new},countryFilter:function(e){if(e){var t=[];this.countryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.countryArr=t}else this.countryArr=this.countryArr_new},nationFilter:function(e){if(e){var t=[];this.nationArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.nationArr=t}else this.nationArr=this.nationArr_new},placeFilter:function(e){if(e){var t=[];this.placeArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.placeArr=t}else this.placeArr=this.placeArr_new},marryFilter:function(e){if(e){var t=[];this.marryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.marryArr=t}else this.marryArr=this.marryArr_new},jobFilter:function(e){if(e){var t=[];this.jobArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.jobArr=t}else this.jobArr=this.jobArr_new},serviceFilter:function(e){if(e){var t=[];this.serviceArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.doc_name.indexOf(e)||t.push(a)}),this.serviceArr=t}else this.serviceArr=this.serviceArr_new},getCode:function(){var e=this;/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/.test(this.newPhone)?(this.loading=!0,u.a.get(m+"api/auth/verify/check/"+this.newPhone).then(function(t){console.log(t),200001==t.data.status&&(e.loading=!1,e.changePhoneDisabled=!1,e.getcodeDisabled=!0)}).catch(function(t){console.log(t),e.loading=!1,e.tips=t,e.tipsPop=!0})):(this.tips="请输入正确的手机号",this.tipsPop=!0)},changePhone:function(){var e=this;""==this.code?(this.tips="请先输入验证码",this.tipsPop=!0):(this.loading=!0,u.a.post(m+"api/auth/sms_code/is_valid",_()({phone:this.newPhone,sms_code:this.code})).then(function(t){if(console.log(t),e.loading=!1,200027==t.data.status){var a={medical_card_id:e.icCard,name:e.name,sex:e.sex,birthday:e.birthday,identif:e.idCard,identif_addr:e.homeTown,phone:e.newPhone,nation:e.nation,nationality:e.country,marriage:e.marry,occupation:e.job,area:e.place,per_cus_service:e.service,per_service:e.orderNum,op_issuer:e.opName,op_no:e.opNo,op_name:e.opName,op_issuer_no:e.opNo,live_addr:e.address};e.loading=!0,u.a.post(m+"api/mq/modify_patient",a).then(function(t){console.log(t),e.loading=!1,200320==t.data.status?e.$message({message:"修改成功",type:"success"}):(e.tips=t.data.desc,e.tipsPop=!0)}).catch(function(t){console.log(t),e.loading=!1,e.tips=t,e.tipsPop=!0})}else 400007==t.data.status&&(e.tips="验证码错误"+t.data.status,e.tipsPop=!0)}).catch(function(t){e.loading=!1,e.tips=t,e.tipsPop=!0}))},modifierBtn:function(){/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/.test(this.oldPhone)?this.dialogVisible=!0:(this.tips="请输入正确的手机号",this.tipsPop=!0)},confirmBtn:function(){var e=this;this.loading=!0,this.dialogVisible=!1;var t=_()({medical_card_id:this.icCard,name:this.name,sex:this.sex,birthday:this.birthday,identif:this.idCard,identif_addr:this.homeTown,phone:this.oldPhone,nation:this.nation,nationality:this.country,marriage:this.marry,occupation:this.job,area:this.place,per_cus_service:this.service,per_service:this.orderNum,op_issuer:this.opName,op_no:this.opNo,op_name:this.opName,op_issuer_no:this.opNo,live_addr:this.address,id_face_image:this.newIdImg,scene_face_image:this.newFaceImg}),a=_()({medical_card_id:this.icCard,name:this.name,sex:this.sex,birthday:this.birthday,identif:this.idCard,identif_addr:this.homeTown,phone:this.newPhone,nation:this.nation,nationality:this.country,marriage:this.marry,occupation:this.job,area:this.place,per_cus_service:this.service,per_service:this.orderNum,op_issuer:this.opName,op_no:this.opNo,op_name:this.opName,op_issuer_no:this.opNo,live_addr:this.address,id_face_image:this.newIdImg,scene_face_image:this.newFaceImg});""!=this.newPhone?u.a.post(m+"api/mq/modify_patient",a).then(function(t){console.log(t),e.loading=!1,200320==t.data.status?e.$message({message:"修改成功",type:"success"}):(e.tips="修改失败"+t.data.status,e.tipsPop=!0)}).catch(function(t){console.log(t),e.tips="服务器错误"+t,e.tipsPop=!0,e.loading=!1}):u.a.post(m+"api/mq/modify_patient",t).then(function(t){console.log(t),e.loading=!1,200320==t.data.status?e.$message({message:"修改成功",type:"success"}):(e.tips="修改失败"+t.data.status,e.tipsPop=!0)}).catch(function(t){console.log(t),e.loading=!1,e.tips="服务器错误"+t,e.tipsPop=!0})},healthCard:function(){var e=this;console.log(this.newGzt),-1==this.newGzt?(this.gztTips="未检测到有效人脸，请重新拍照",this.gztPop=!0):0==this.newGzt?(this.gztTips="国政通连接失败，请重新试一次",this.gztPop=!0):-2==this.newGzt?(this.gztTips="国政通验证失败，人脸匹配度太低"+this.newGzt_source,this.gztPop=!0):0==this.gztResult?(this.gztTips="国政通验证失败，数据源为false",this.gztPop=!0):1==this.gztResult&&1==this.newGzt&&u.a.post(m+"api/accounts/user/health_card/rebuild",_()({medical_card_number:this.icCard,name:this.name,id_number:this.idCard,phone:this.oldPhone})).then(function(t){console.log(t),200025==t.data.status?(e.addShow=!0,e.name=t.data.msg.name,e.sex=t.data.msg.sex,e.health_card=t.data.msg.health_card_number):400046==t.data.status&&(e.gztTips="当前用户已有健康卡号",e.gztPop=!0)}).catch(function(e){})},getHospital:function(){var e=this;u.a.get(m+"api/his/hospital_list").then(function(t){if(console.log(t,"医院列表"),200201==t.data.status){e.hospitalArr=t.data.msg,e.hospitalArr_new=t.data.msg;for(var a=function(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0&&s[r].substring(0,i)===t)return s[r].substr(i+1)}(window.location.href,"hospitalId"),i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNoZ==a&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo,e.hospitalNum=e.hospitalArr[i].hospitalNo,e.getService())}}).catch(function(e){console.log(e)})},getService:function(){var e=this;console.log(this.hospitalNum),u.a.get(m+"api/sys/get_wait_doctor?hos_id="+this.hospitalNum).then(function(t){console.log(t),200026==t.data.status?(e.serviceArr=t.data.msg,e.serviceArr_new=t.data.msg):(e.tips=t.data.status+t.data.desc,e.tipsPop=!0)}).catch(function(t){console.log(t),e.tips=t,e.tipsPop=!0})}},mounted:function(){var e=this;if(this.getDeviceMsg(),this.getHospital(),""!=this.$route.query){var t=JSON.parse(this.$route.query.data);console.log(t);var i=(new Date).getFullYear();this.name=t.PAT_NAME,this.sex=t.PHYSI_SEX_NAME,this.idCard=t.ID_NUMBER,this.country=t.NATION_NAME,this.nation=t.ETHNIC_NAME,this.birthday=t.DATE_BIRTH.slice(0,10),this.age=i-t.DATE_BIRTH.slice(0,4),this.homeTown=t.HUKOU_ADDR,this.place=t.ADDR,this.marry=t.MARITAL_STATUS_NAME,this.job=t.OCCUPATION_CATEG_NAME,this.address=t.CURR_ADDR,this.service=t.BANK,this.fkPerson=t.OPPERATER,this.createTime=t.REGIST_DATE.replace("T"," "),this.oldPhone=t.PHONE_NO_HOME,this.icCard=t.CARD_ID_NUMBER,this.orderNum=t.WORK_UNITS,this.opName=t.OPERATOR_NAME,this.opNo=t.OPERATOR_CODE,this.gztResult=t.is_gzt,1==t.is_gzt?(this.gztMsg="国政通校验成功",this.gztShow_m=!0,this.bgcolor_m="blue",this.newGzt=1):0==t.is_gzt&&(this.gztMsg="国政通校验失败",this.gztShow_m=!0,this.bgcolor_m="red",this.newGzt=-1),u.a.post(m+"api/accounts/user/img",_()({medical_card_number:t.CARD_ID_NUMBER})).then(function(t){console.log(t),200004==t.data.status&&(""!=t.data.msg.id_image&&""!=t.data.msg.face_image?(e.faceImg=t.data.msg.face_image,e.idImg=t.data.msg.id_image,e.newIdImg=t.data.msg.id_image,e.newFaceImg=t.data.msg.face_image):""==t.data.msg.face_image&&""!=t.data.msg.id_image?(e.idImg=t.data.msg.id_image,e.newIdImg=t.data.msg.id_image,e.faceImg=a("WAYU")):(e.idImg=a("k78f"),e.faceImg=a("WAYU")))}).catch(function(t){console.log(t),e.tips=t,e.tipsPop=!0})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modifier"},[a("div",{staticClass:"modifier_header"},[a("p",[a("span",[e._v(e._s(e.msg))])]),e._v(" "),a("p",[a("ul",[e._m(0),e._v(" "),a("li",[a("el-input",{attrs:{placeholder:"请输入设备编号",disabled:e.deviceNum},on:{blur:e.bulrDevice},model:{value:e.deviceInput,callback:function(t){e.deviceInput=t},expression:"deviceInput"}})],1),e._v(" "),a("li",{staticStyle:{"margin-left":"10px"}},[a("el-button",{on:{click:e.editDevice}},[e._v("编辑")])],1)])])]),e._v(" "),a("div",{staticClass:"modifier_main clear"},[a("div",{staticClass:"main_top clear"},[a("ul",[a("li",{staticStyle:{width:"30%"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:e.getPrevUserMsg}},[e._v("最近一条")])],1),e._v(" "),a("li",{staticStyle:{width:"50%"}},[a("el-select",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"90%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.deviceFilter},on:{focus:e.enter,change:e.selectUser},model:{value:e.deviceSelect,callback:function(t){e.deviceSelect=t},expression:"deviceSelect"}},e._l(e.deviceMsgArr,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.id}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(t.sex))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.is_gzt))])])}))],1)])]),e._v(" "),a("div",{staticClass:"mian_msg clear"},[a("h1",[a("span",[e._v("用户信息")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.gztShow_m,expression:"gztShow_m"}],style:{color:e.bgcolor_m,float:e.right,fontSize:e.fontSize+"px"}},[e._v(e._s(e.gztMsg))])]),e._v(" "),a("div",{staticClass:"main_msg_left"},[a("img",{staticStyle:{width:"110px",height:"130px"},attrs:{src:e.idImg,alt:""}}),e._v(" "),a("img",{staticStyle:{width:"110px",height:"130px"},attrs:{src:e.faceImg,alt:""}}),e._v(" "),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"warning"},on:{click:e.healthCard},model:{value:e.healthCard,callback:function(t){e.healthCard=t},expression:"healthCard"}},[e._v("同步电子卡")])],1),e._v(" "),a("ul",[a("li",[a("label",{attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{attrs:{placeholder:"姓名"},on:{input:function(t){e.nameValue(e.name)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"性别",filterMethod:e.sexFilter},on:{focus:e.enter},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},e._l(e.sexArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))])])}))],1),e._v(" "),a("li",{staticStyle:{width:"100%"}},[a("label",{attrs:{for:""}},[e._v("身份证：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"身份证"},model:{value:e.idCard,callback:function(t){e.idCard=t},expression:"idCard"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("国籍：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.countryFilter},on:{focus:e.enter},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},e._l(e.countryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("生日：")]),e._v(" "),a("el-input",{attrs:{placeholder:"生日"},model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("民族：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.nationFilter},on:{focus:e.enter},model:{value:e.nation,callback:function(t){e.nation=t},expression:"nation"}},e._l(e.nationArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("年龄：")]),e._v(" "),a("el-input",{attrs:{placeholder:"年龄"},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}})],1),e._v(" "),a("li",{staticStyle:{width:"100%","border-bottom":"1px dashed #ccc","padding-bottom":"3%",height:"60px"}},[a("label",{attrs:{for:""}},[e._v("户口地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"户口地址"},model:{value:e.homeTown,callback:function(t){e.homeTown=t},expression:"homeTown"}})],1),e._v(" "),a("li",{staticStyle:{width:"100%"}},[a("label",{attrs:{for:""}},[e._v("现住址：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"现住址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("居住地：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.placeFilter},on:{focus:e.enter},model:{value:e.place,callback:function(t){e.place=t},expression:"place"}},e._l(e.placeArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("婚姻：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.marryFilter},on:{focus:e.enter},model:{value:e.marry,callback:function(t){e.marry=t},expression:"marry"}},e._l(e.marryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("职业：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.jobFilter},on:{focus:e.enter},model:{value:e.job,callback:function(t){e.job=t},expression:"job"}},e._l(e.jobArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("发卡人：")]),e._v(" "),a("el-input",{attrs:{placeholder:"发卡人",disabled:""},model:{value:e.fkPerson,callback:function(t){e.fkPerson=t},expression:"fkPerson"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("接待客服：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.serviceFilter},on:{focus:e.enter},model:{value:e.service,callback:function(t){e.service=t},expression:"service"}},e._l(e.serviceArr,function(t){return a("el-option",{key:t.doc_name,attrs:{label:t.doc_name,value:t.doc_name}},[a("span",[e._v(e._s(t.doc_name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("建档时间：")]),e._v(" "),a("el-input",{attrs:{placeholder:"建档时间",disabled:""},model:{value:e.createTime,callback:function(t){e.createTime=t},expression:"createTime"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("预约号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"预约号"},model:{value:e.orderNum,callback:function(t){e.orderNum=t},expression:"orderNum"}})],1)])]),e._v(" "),a("div",{staticClass:"main_right clear"},[a("h1",[e._v("手机验证")]),e._v(" "),a("ul",{staticClass:"clear"},[a("li",[a("label",{attrs:{for:""}},[e._v("原手机号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"原手机号",disabled:""},model:{value:e.oldPhone,callback:function(t){e.oldPhone=t},expression:"oldPhone"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("新手机号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"新手机号"},model:{value:e.newPhone,callback:function(t){e.newPhone=t},expression:"newPhone"}})],1),e._v(" "),a("li",[a("el-input",{staticStyle:{width:"66%"},attrs:{placeholder:"请输入验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{float:"right"},attrs:{type:"warning",disabled:e.getcodeDisabled},on:{click:e.getCode}},[e._v("获取验证码")])],1),e._v(" "),a("li",{staticStyle:{"border-bottom":"1px dashed #ccc","margin-top":"20px","padding-bottom":"3%",height:"60px"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{float:"right"},attrs:{type:"warning",disabled:e.changePhoneDisabled},on:{click:e.changePhone}},[e._v("更换手机")])],1),e._v(" "),e._m(1),e._v(" "),a("li",{staticStyle:{"margin-top":"20px"}},[a("label",{attrs:{for:""}},[e._v("就诊卡号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"就诊卡号",disabled:""},model:{value:e.icCard,callback:function(t){e.icCard=t},expression:"icCard"}})],1)])])]),e._v(" "),a("div",{staticClass:"modifier_footer"},[a("el-button",{attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",disabled:e.disabled},on:{click:e.modifierBtn}},[e._v("确认修改")])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.tipsPop,width:"30%"},on:{"update:visible":function(t){e.tipsPop=t}}},[a("span",[e._v(e._s(e.tips))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.tipsPop=!1}}},[e._v("关 闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("请确认以上信息无误")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.confirmBtn}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.gztPop,width:"30%"},on:{"update:visible":function(t){e.gztPop=t}}},[a("span",[e._v(e._s(e.gztTips))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.gztPop=!1}}},[e._v("关 闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.addShow,width:"30%",center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",{staticClass:"card_msg"},[a("h1"),e._v(" "),a("h2",[a("span",[e._v("姓名：")]),a("span",[e._v(e._s(e.name))])]),e._v(" "),a("h2",[a("span",[e._v("性别：")]),a("span",[e._v(e._s(e.sex))])]),e._v(" "),a("h2",[a("span",[e._v("健康卡号：")]),a("span",[e._v(e._s(e.health_card))])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.addShow=!1}}},[e._v("关 闭")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("设备编号：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticStyle:{"margin-top":"15%"}},[t("span",[this._v("就诊卡号")])])}]};var F=a("VU/8")(B,R,!1,function(e){a("wYAZ")},"data-v-103b0758",null).exports,U={data:function(){return{msg:"云门诊预约查询",inputMsg:"",tableData:[],total:0,pagesize:10,listNum:"",dialogVisible:!1,orderNum:"",currentPage3:1,currentPage:1,errPop:!1,errMsg:""}},methods:{back:function(){this.$router.push({path:"/"})},handleClose:function(e){},inquireOrderBtn:function(){var e=this;console.log(this.inputMsg),""!=this.inputMsg&&(localStorage.setItem("inquireOrderInput",this.inputMsg),u.a.post(m+"api/his/book_queue_list",_()({visit_card:this.inputMsg})).then(function(t){console.log(t),200212==t.data.status?(e.tableData=t.data.msg,e.listNum=e.tableData.length,localStorage.setItem("inquireOrderData",_()(t.data.msg))):(e.errMsg="查询错误"+t.data.status,e.errPop=!0)}).catch(function(t){console.log(t),e.errMsg=t,e.errPop=!0}))},dateFormat:function(e,t){return 9==e.reservationStatus?"已取消":0==e.reservationStatus?"已预约":1==e.reservationStatus?"未支付":-1==e.reservationStatus?"预约过期":"未知状态"},handleClick:function(e){this.dialogVisible=!0,this.orderNum=e.orderSn},confirm:function(){var e=this;u.a.get(m+"api/his/cancel_book_queue?order_sn="+this.orderNum).then(function(t){console.log(t),200211==t.data.status?(e.dialogVisible=!1,e.open2(),e.inquireOrderBtn()):e.fails()}).catch(function(t){e.errMsg=t,e.errPop=!0})},open2:function(){this.$message({message:"取消预约成功",showClose:!0,type:"success"})},fails:function(){this.$message.error("错了哦，退号失败")},created:function(){this.listNum=this.tableData.length},current_change:function(e){this.currentPage=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pagesize=e}},mounted:function(){var e=this,t=new WebSocket("ws://127.0.0.1:8804");t.onopen=function(){console.log("连接websocket成功"),this.inputMsg=""},t.onmessage=function(t){var a=JSON.parse(t.data);console.log(a),e.inputMsg=a.msg.medical_card_number,e.inquireOrderBtn()},t.onclose=function(e){console.log("Connection closed.")},""!=localStorage.getItem("inquireOrderInput")&&(this.inputMsg=JSON.parse(localStorage.getItem("inquireOrderInput")),this.inquireOrderBtn()),void 0!=this.$route.query.treatCard&&""!=this.$route.query.treatCard&&(this.inputMsg=this.$route.query.treatCard,this.inquireOrderBtn())}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inquireOrder"},[a("div",{staticClass:"inquireOrder_header"},[a("p",[a("span",[e._v(e._s(e.msg))])])]),e._v(" "),a("div",{staticClass:"inquireOrder_main"},[a("div",{staticClass:"inquireOrder_top"},[a("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入就诊卡号"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.inquireOrderBtn(t):null}},model:{value:e.inputMsg,callback:function(t){e.inputMsg=t},expression:"inputMsg"}}),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.inquireOrderBtn}},[e._v("查询")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{height:"550",data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize)}},[a("el-table-column",{attrs:{prop:"patientName",label:"姓名",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderSn",label:"订单号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reservationTime",label:"预约时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"itemName",label:"预约门诊",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"doctorName",label:"预约医生",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clinicFlagName",label:"预约类型",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reservationStatus",label:"预约状态",width:"130",formatter:e.dateFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",disabled:9==t.row.reservationStatus,size:"small"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("取消预约")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"inquireOrder_footer"},[a("el-pagination",{staticStyle:{margin:"0 auto","margin-top":"3%",width:"35%",position:"absolute",left:"50%",top:"0",transform:"translate(-50%,0)"},attrs:{"current-page":e.currentPage3,"page-sizes":[10,20],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:Number(e.listNum)},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("您确定要取消预约吗？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.confirm}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.errPop,width:"30%"},on:{"update:visible":function(t){e.errPop=t}}},[a("span",[e._v(e._s(e.errMsg))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.errPop=!1}}},[e._v("关闭")])],1)])],1)},staticRenderFns:[]};var L=a("VU/8")(U,H,!1,function(e){a("bCF0"),a("qMSE")},"data-v-3d0dbce7",null).exports,G={data:function(){var e=this;return{msg:"全院挂号查询",inputMsg:"",currentPage3:1,listNum:"",tableData:[],total:0,pagesize:10,currentPage:1,dialogVisible:!1,opNo:"",opName:"",register_no:"",value6:"",fullscreenLoading:!1,orderTips:"",errMsg:"",errPop:!1,errTips:"",moreShow:!1,statusArr:[{name:"挂号",num:"1"},{name:"退号",num:"2"},{name:"挂号及退号",num:"3"}],statusArr_new:[{name:"挂号",num:"1"},{name:"退号",num:"2"},{name:"挂号及退号",num:"3"}],roomArr:[],docArr:[],hospitalArr:[],optionArr:[],optionArr_new:[],icCard:"",status:"1",name:"",phone:"",idCard:"",hospitalId:"",roomId:"",docId:"",startTime:"",endTime:"",option:"",pickerOptions0:{disabledDate:function(t){return""!=e.endTime?t.getTime()>Date.now()||t.getTime()>e.endTime:t.getTime()>Date.now()}},pickerOptions1:{disabledDate:function(t){return t.getTime()<e.startTime||t.getTime()>Date.now()}}}},methods:{back:function(){this.$router.go(-1)},del:function(){this.icCard="",this.name="",this.phone="",this.idCard="",this.status="1",this.hospitalId="",this.roomId="",this.docId="",this.startTime="",this.endTime=""},recordBtn:function(){var e=this;this.fullscreenLoading=!0,"3"==this.status?u.a.post(m+"api/mq/register_list",_()({keyword:this.icCard,status:"",dept_code:this.roomId,doc_code:this.docId,op_code:this.option,start_time:this.startTime,end_time:this.endTime})).then(function(t){if(console.log(t),e.fullscreenLoading=!1,200302==t.data.status){e.tableData=t.data.msg,0==t.data.msg.length&&e.$message({message:"未找到任何记录!",type:"warning"}),e.listNum=e.tableData.length;for(var a=0;a<e.tableData.length;a++)1==e.tableData[a].RECORD_STATE?(e.tableData[a].RECORD_STATE="等待中",0!=e.tableData[a].EXECUTE_STATE&&(e.tableData[a].RECORD_STATE="已完成")):2==e.tableData[a].RECORD_STATE?e.tableData[a].RECORD_STATE="已退号":3==e.tableData[a].RECORD_STATE?e.tableData[a].RECORD_STATE="被退号":e.tableData[a].RECORD_STATE="其他"}}).catch(function(t){e.fullscreenLoading=!1,console.log(t),e.errMsg=t,e.errPop=!0}):u.a.post(m+"api/mq/register_list",_()({keyword:this.icCard,status:this.status,dept_code:this.roomId,doc_code:this.docId,op_code:this.option,start_time:this.startTime,end_time:this.endTime})).then(function(t){if(console.log(t),e.fullscreenLoading=!1,200302==t.data.status){e.tableData=t.data.msg,0==t.data.msg.length&&e.$message({message:"未找到任何记录!",type:"warning"}),e.listNum=e.tableData.length;for(var a=0;a<e.tableData.length;a++)1==e.tableData[a].RECORD_STATE?e.tableData[a].RECORD_STATE="等待中":2==e.tableData[a].RECORD_STATE?e.tableData[a].RECORD_STATE="已退号":3==e.tableData[a].RECORD_STATE?e.tableData[a].RECORD_STATE="被退号":e.tableData[a].RECORD_STATE="其他"}}).catch(function(t){e.fullscreenLoading=!1,console.log(t),e.errMsg=t,e.errPop=!0})},recordMoreBtn:function(){this.moreShow=!0},selectOption:function(){console.log(this.option)},selectStatus:function(){console.log(this.status)},selectHospital:function(){var e=this;console.log(this.hospitalId),u.a.get(m+"api/mq/register_type_new?hospital="+this.hospitalId).then(function(t){console.log(t),200302==t.data.status?e.roomArr=t.data.msg.depts:(e.orderTips="获取列表失败"+t.data.status,e.fails())}).catch(function(t){console.log(t),e.orderTips="服务器出错"+t,e.fails()})},selectRoom:function(){var e=this;console.log(this.roomId),u.a.get(m+"api/mq/depart_doctor?depart_code="+this.roomId).then(function(t){console.log(t),200302==t.data.status?e.docArr=t.data.msg:(e.orderTips="获取列表失败"+t.data.status,e.fails())}).catch(function(t){console.log(t),e.orderTips="服务器出错"+t,e.fails()})},selectDoc:function(){console.log(this.docId)},selectStartTime:function(){console.log(this.startTime)},selectEndTime:function(){console.log(this.endTime)},fails:function(){this.$message.error(this.orderTips)},dateFormat:function(e,t){return e.REGIST_DATE.slice(0,10)},priceFormat:function(e,t){return new Number(e.REGIST_FEE).toString()},created:function(){this.listNum=this.tableData.length,console.log(this.listNum)},current_change:function(e){this.currentPage=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pagesize=e},handleClick:function(e){console.log(e),this.dialogVisible=!0,this.register_no=e.REGIST_NO},cancelSuccess:function(){this.$message({message:"取消成功",type:"success"})},falis:function(){this.$message.error(this.errTips)},confirmBtn:function(){var e=this;u.a.post(m+"api/mq/register_cancel",_()({register_no:this.register_no,op_no:this.opNo,op_name:this.opName})).then(function(t){console.log(t),200303==t.data.status?(e.dialogVisible=!1,e.cancelSuccess(),e.recordBtn(),e.recordBtn()):(e.errTips="操作失败",e.falis())}).catch(function(t){console.log(t),e.errMsg=t,e.errPop=!0})},selectDate:function(){console.log(this.value6)},getHospital:function(){var e=this;u.a.get(m+"api/his/hospital_list").then(function(t){console.log(t),e.hospitalArr=t.data.msg}).catch(function(e){console.log(e)})},getOption:function(){var e=this;u.a.get(m+"api/mq/depart_doctor?depart_code").then(function(t){console.log(t),200302==t.data.status&&(e.optionArr=t.data.msg,e.optionArr_new=t.data.msg)}).catch(function(e){console.log(e)})},opFilter:function(e){if(e){var t=[];this.optionArr_new.forEach(function(a,i){0!=a.PINYIN_CODE.toUpperCase().indexOf(e.toUpperCase())&&0!=a.STAFF_NAME.indexOf(e)||t.push(a)}),this.optionArr=t}else this.optionArr=this.optionArr_new},statusFilter:function(e){if(e){var t=[];this.statusArr_new.forEach(function(a,i){0!=a.num.toUpperCase().indexOf(e.toUpperCase())&&0!=a.name.indexOf(e)||t.push(a)}),this.statusArr=t}else this.statusArr=this.statusArr_new},enter:function(e){e.target.click()}},created:function(){this.inputMsg=this.$route.query.treatCard},mounted:function(){var e=this;this.getOption(),console.log(this.$route.query);var t=new Date,a=t.getFullYear(),i=t.getMonth()+1;i<10&&(i="0"+i);var s=t.getDate();this.startTime=a+"-"+i+"-"+s+" 00:00:00",this.endTime=a+"-"+i+"-"+s+" 23:59:59",""!=this.$route.query.icCard&&(this.icCard=this.$route.query.icCard,this.recordBtn()),this.getHospital(),this.listNum=this.tableData.length;var r=new WebSocket("ws://127.0.0.1:8804");function o(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0){if(s[r].substring(0,i)===t)return s[r].substr(i+1)}else;}r.onopen=function(){console.log("连接websocket成功")},r.onmessage=function(t){var a=JSON.parse(t.data);console.log(a),e.icCard=a.msg.medical_card_number,e.recordBtn()},r.onclose=function(e){console.log("Connection closed.")};var n=window.location.href;this.opName=o(n,"opName"),this.opNo=o(n,"opNo"),console.log(this.opName)}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record clear"},[a("div",{staticClass:"record_header"},[a("p",[a("span",[e._v(e._s(e.msg))])])]),e._v(" "),a("div",{staticClass:"record_main clear"},[a("div",{staticClass:"record_left clear"},[a("div",{staticClass:"clear"},[a("h1",[e._v("筛选条件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"2%"},attrs:{type:"warning"},on:{click:e.del}},[e._v("清空")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{"margin-left":"2%"},attrs:{type:"warning"},on:{click:e.recordBtn}},[e._v("查询")])],1),e._v(" "),a("ul",{staticClass:"clear"},[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("基本信息：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.icCard,expression:"icCard"}],staticStyle:{width:"60%"},attrs:{type:"text",placeholder:"卡号，姓名，身份证，手机号"},domProps:{value:e.icCard},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.recordBtn(t):null},input:function(t){t.target.composing||(e.icCard=t.target.value)}}})]),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号状态：")]),e._v(" "),a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",filterMethod:e.statusFilter},on:{change:e.selectStatus},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.statusArr,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.num}})}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("挂号员：")]),e._v(" "),a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",selected:"true",filterable:"",placeholder:"请选择",filterMethod:e.opFilter},model:{value:e.option,callback:function(t){e.option=t},expression:"option"}},e._l(e.optionArr,function(e){return a("el-option",{key:e.STAFF_NAME,attrs:{label:e.STAFF_NAME,value:e.OPERATOR_CODE}})}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("开始日期：")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"60%"},attrs:{"picker-options":e.pickerOptions0,"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.recordBtn(t):null},change:e.selectStartTime},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("结束日期：")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"60%"},attrs:{"picker-options":e.pickerOptions1,"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.recordBtn(t):null},change:e.selectEndTime},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)])]),e._v(" "),a("div",{staticClass:"userList"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"550",data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize)}},[a("el-table-column",{attrs:{prop:"PAT_NAME",label:"姓名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"REGIST_FEE",formatter:e.priceFormat,label:"价格",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"VISIT_CARD_NO",label:"就诊卡号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"REGIST_DEPT_NAME",label:"科室",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"REGIST_DR_NAME",label:"医生",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"OUTHOSP_INDEX_NO",label:"订单号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"REGIST_DATE",label:"挂号时间",formatter:e.dateFormat,width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"RECORD_STATE",label:"挂号状态",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",disabled:0!=t.row.EXECUTE_STATE||"等待中"!=t.row.RECORD_STATE,size:"small"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("退号")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("你确定要退号吗？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.confirmBtn}},[e._v("确 定")])],1)])],1),e._v(" "),a("div",{staticClass:"record_footer"},[a("el-pagination",{staticStyle:{margin:"0 auto","margin-top":"3%","line-height":"40px",height:"40px",width:"35%",position:"absolute",left:"50%",top:"0",transform:"translate(-50%,0)"},attrs:{"current-page":e.currentPage3,"page-sizes":[10,20],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:Number(e.listNum)},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.errPop,width:"30%"},on:{"update:visible":function(t){e.errPop=t}}},[a("span",[e._v(e._s(e.errMsg))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.errPop=!1}}},[e._v("关闭")])],1)])],1)},staticRenderFns:[]};var j=a("VU/8")(G,q,!1,function(e){a("VYm9"),a("Ygqe")},"data-v-492295b6",null).exports,J={data:function(){return{msg:"微信公众号充值记录查询",inputMsg:"",checked:"",tableData:[],currentPage3:1,currentPage:1,total:0,pagesize:5,listNum:"",page:1}},methods:{back:function(){this.$router.go(-1)},payBtn:function(){var e=this;""!=this.inputMsg&&(0==this.checked?u.a.get(m+"api/pay/my_record?keyword="+this.inputMsg+"&page="+this.page+"&page_size="+this.pagesize).then(function(t){console.log(t),0==t.data.msg.length?e.open3():(e.tableData=t.data.msg,e.total=t.data.total)}).catch(function(e){console.log(e)}):1==this.checked&&u.a.get(m+"api/pay/my_record?keyword="+this.inputMsg+"&is_execpt=false").then(function(t){console.log(t),0==t.data.msg.length?e.open3():e.tableData=t.data.msg}).catch(function(e){console.log(e)}))},dateFormat:function(e,t){var a="";return"WXPay"==e.pay_type&&(a="微信"),a},dateFormatStatus:function(e,t){var a="";return"TRADE_SUCCESS"==e.pay_status?a="已支付":"NEW_ORDER"==e.pay_status&&(a="未支付"),a},open3:function(){this.$message({message:"未找到任何记录~~~",type:"warning"})},open2:function(){this.$message({message:"同步成功！！！",type:"success"})},open4:function(){this.$message.error("错了哦，同步失败")},created:function(e){this.payBtn(e),console.log(e)},current_change:function(e){this.currentPage=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e,this.page=e,this.payBtn()},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pagesize=e,this.pagesize=e,this.payBtn()},handleClick:function(e){var t=this;console.log(e),u.a.get(m+"api/pay/sync_pay?id="+e.id+"&mer_order_id="+e.mer_order_id).then(function(e){console.log(e),200021==e.data.status?(t.open2(),t.payBtn()):400053==e.data.status&&t.open4()}).catch(function(e){console.log(e),t.open4()})},socket:function(){var e=this,t=new WebSocket("ws://127.0.0.1:8804");t.onopen=function(){console.log("连接websocket成功")},t.onmessage=function(t){var a=JSON.parse(t.data);console.log(a),e.inputMsg=a.msg.medical_card_number,e.payBtn()},t.onclose=function(e){console.log("Connection closed.")},this.over=function(){t.close()}}},mounted:function(){this.socket()},beforeDestroy:function(){this.over()}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pay"},[a("div",{staticClass:"pay_header"},[a("p",[a("span",[e._v(e._s(e.msg))])])]),e._v(" "),a("div",{staticClass:"pay_main"},[a("div",{staticClass:"pay_top"},[a("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入姓名、就诊卡号、身份证"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.payBtn(t):null}},model:{value:e.inputMsg,callback:function(t){e.inputMsg=t},expression:"inputMsg"}}),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.payBtn}},[e._v("查询")]),e._v(" "),a("el-checkbox",{staticStyle:{"margin-left":"3%"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("只查询异常")])],1),e._v(" "),a("div",{staticClass:"payList"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"390",data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"medical_card_number",label:"就诊卡号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"seq_id",label:"交易流水号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total_amount",label:"交易费用",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_time",label:"支付时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_type",label:"支付方式",formatter:e.dateFormat,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_status",label:"支付状态",formatter:e.dateFormatStatus,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sync_status",label:"同步状态",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",disabled:"TRADE_SUCCESS"!=t.row.pay_status||"no"!=t.row.sync_status,size:"small"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("同步")])]}}])})],1)],1)]),e._v(" "),a("div",{staticClass:"pay_footer"},[a("div",{staticClass:"block",staticStyle:{"margin-top":"3%"}},[a("el-pagination",{staticStyle:{margin:"0 auto","margin-top":"3%",width:"35%","margin-bottom":"1.5%"},attrs:{"current-page":e.currentPage3,"page-sizes":[5,10,20],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")])],1)])},staticRenderFns:[]};var X=a("VU/8")(J,Z,!1,function(e){a("fayF")},"data-v-39d6598e",null).exports,W={data:function(){return{msg:"修改信息",deviceInput:"",deviceNum:!0,tipMsg:"",loading:!1,dialogVisible:!1,cardTypeArr:["身份证"],militaryArr:v,marryArr:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],marryArr_new:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],jobArr:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],jobArr_new:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],hospitalArr:[],hospitalArr_new:[],sexArr:[{name:"N",value:"男"},{name:"N",value:"女"}],sexArr_new:[{name:"N",value:"男"},{name:"N",value:"女"}],nationArr:g,nationArr_new:g,areaArr:f,areaArr_new:f,countryArr:p,countryArr_new:p,idCardPlaceholder:"身份证号",name:"",sex:"",idCard:"",cardType:"身份证",military:"",country:"",selectedMarry:"已婚",countryList:"",age:"",birthday:"",nation:"",address:"",area:"乌鲁木齐",job:"个体经营者",phone:"",icCard:"",service:"",fkPerson:"",orderNum:"",origin:"",hospital:"",opName:"",opNo:"",createTime:"",militaryShow:!1,countryShow:!0,countrySelectShow:!1,idCardImg:a("k78f"),faceImg:a("WAYU"),userFaceImg:"",userSceneImg:"",fkPersonNum:"",hospitalNum:"",serviceArr:[],serviceArr_new:[]}},methods:{back:function(){this.$router.go(-1)},editDevice:function(){this.deviceNum=!1},popTips:function(){var e=this;this.$alert(this.tipMsg,"提示",{confirmButtonText:"关闭",callback:function(t){e.$message({type:"warning",message:"action: "+t})}})},getUserMsg:function(){var e=this;""==this.deviceInput?(this.tipMsg="请先输入设备编号",this.popTips()):(this.loading=!0,u.a.get(m+"api/sensetime/data/"+this.deviceInput).then(function(t){e.loading=!1,console.log(t),200040==t.data.status?(localStorage.setItem("deviceInput",t.data.msg.device_id),e.idCardImg="data:image/png;base64,"+t.data.msg.id_image,e.faceImg="data:image/png;base64,"+t.data.msg.face_image,e.userFaceImg=t.data.msg.id_image,e.userSceneImg=t.data.msg.face_image):(e.tipMsg="获取设备信息失败"+t.data.status,e.popTips())}).catch(function(t){e.tipMsg="服务器错误"+t,e.popTips(),console.log(t)}))},selectCardType:function(){console.log(this.cardType),"军官证"==this.cardType?(this.militaryShow=!0,this.countryShow=!1,this.countrySelectShow=!0,this.idCardPlaceholder="军官证号"):"护照"==this.cardType?(this.countryShow=!1,this.countrySelectShow=!0,this.militaryShow=!1,this.idCardPlaceholder="护照编号"):"身份证"==this.cardType&&(this.countryShow=!0,this.countrySelectShow=!1,this.militaryShow=!1,this.idCardPlaceholder="身份证号")},militarySelect:function(e){console.log(e)},militarySearch:function(e,t){var a=this.militaryArr;t(e?a.filter(this.militaryFilter(e)):a)},militaryFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},sexFilter:function(e){if(e){var t=[];this.sexArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sexArr=t}else this.sexArr=this.sexArr_new},enter:function(e){e.target.click()},nationFilter:function(e){if(e){var t=[];this.nationArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.nationArr=t}else this.nationArr=this.nationArr_new},areaFilter:function(e){if(e){var t=[];this.areaArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.areaArr=t}else this.areaArr=this.areaArr_new},jobFilter:function(e){if(e){var t=[];this.jobArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.jobArr=t}else this.jobArr=this.jobArr_new},countryFilter:function(e){if(e){var t=[];this.countryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.countryArr=t}else this.countryArr=this.countryArr_new},marryFilter:function(e){if(e){var t=[];this.marryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.marryArr=t}else this.marryArr=this.marryArr_new},serviceFilter:function(e){if(e){var t=[];this.serviceArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.doc_name.indexOf(e)||t.push(a)}),this.serviceArr=t}else this.serviceArr=this.serviceArr_new},selectMarry:function(){console.log(this.selectedMarry)},selectArea:function(){console.log(this.area)},selectJob:function(){console.log(this.job)},selectHospital:function(){},getBase64Image:function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height);var a=e.src.substring(e.src.lastIndexOf(".")+1).toLowerCase();return t.toDataURL("image/"+a)},confirm:function(){/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/.test(this.phone)?this.dialogVisible=!0:(this.tipMsg="请输入正确的手机号",this.popTips())},confirmBtn:function(){var e=this;this.loading=!0,this.dialogVisible=!1,u.a.post(m+"api/mq/modify_patient",_()({medical_card_id:this.icCard,name:this.name,sex:this.sex,birthday:this.birthday,identif:this.idCard,identif_addr:this.address,phone:this.phone,nation:this.nation,nationality:this.country,marriage:this.selectedMarry,occupation:this.job,area:this.area,per_cus_service:this.service,per_service:this.orderNum,op_issuer:this.fkPerson,op_no:this.opNo,op_name:this.opName,op_issuer_no:this.fkPersonNum})).then(function(t){e.loading=!1,console.log(t),200320==t.data.status?e.successEdit():(e.tipMsg="修改失败"+t.data.status,e.popTips())}).catch(function(t){e.loading=!1,console.log(t),e.tipMsg="服务器错误"+t,e.popTips()})},successEdit:function(){this.$message({message:"修改成功",type:"success"})},falisEdit:function(){this.$message.error("修改失败")},getUserImg:function(){var e=this;u.a.post(m+"/api/accounts/user/img",_()({id_number:this.$route.query.idCard})).then(function(t){console.log(t),200004==t.data.status&&(""!=t.data.msg.face_image?(e.faceImg=t.data.msg.face_image,e.idCardImg=t.data.msg.id_image):(e.idCardImg=a("k78f"),e.faceImg=a("WAYU")))}).catch(function(e){})},getService:function(){var e=this;u.a.get(m+"api/sys/get_wait_doctor?hos_id="+this.hospitalNum).then(function(t){console.log(t),200026==t.data.status&&(e.serviceArr=t.data.msg,e.serviceArr_new=t.data.msg)}).catch(function(e){console.log(e)})},getHospitalList:function(){var e=this;u.a.get(m+"api/his/hospital_list").then(function(t){if(200201==t.data.status){e.hospitalArr=t.data.msg,e.hospitalArr_new=t.data.msg;var a=function(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0&&s[r].substring(0,i)===t)return s[r].substr(i+1)}(window.location.href,"hospitalId");76==a?(e.hospitalNum="111",e.getService()):73==a?(e.hospitalNum="114",e.getService()):74==a?(e.hospitalNum="113",e.getService()):75==a?(e.hospitalNum="112",e.getService()):77==a?(e.hospitalNum="109",e.getService()):78==a?(e.hospitalNum="110",e.getService()):79==a&&(e.hospitalNum="108",e.getService())}else e.tipMsg="获取医院列表失败"+t.data.status+t.data.msg}).catch(function(e){console.log(e)})}},mounted:function(){function e(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0){if(s[r].substring(0,i)===t)return s[r].substr(i+1)}else;}this.getHospitalList(),console.log(this.$route.query),this.deviceInput=localStorage.getItem("deviceInput"),this.name=this.$route.query.name,this.age=this.$route.query.age,this.idCard=this.$route.query.idCard,this.phone=this.$route.query.phone,this.icCard=this.$route.query.icCard,this.sex=this.$route.query.sex,this.country=this.$route.query.country,this.nation=this.$route.query.nation,this.birthday=this.$route.query.birthday.slice(0,10),this.service=this.$route.query.service,this.fkPerson=this.$route.query.fkPerson,this.orderNum=this.$route.query.orderNum,this.selectedMarry=this.$route.query.marry,this.address=this.$route.query.address,this.job=this.$route.query.job,this.area=this.$route.query.area,this.createTime=this.$route.query.createTime.replace("T"," "),this.fkPersonNum=this.$route.query.fkPersonNum,this.getUserImg();var t=window.location.href;this.opName=e(t,"opName"),this.opNo=e(t,"opNo")}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"unEngender"},[a("div",{staticClass:"unEngender_header"},[a("p",[a("span",[e._v(e._s(e.msg))])]),e._v(" "),a("p",[a("ul",[e._m(0),e._v(" "),a("li",[a("el-input",{attrs:{placeholder:"请输入设备编号",disabled:e.deviceNum},model:{value:e.deviceInput,callback:function(t){e.deviceInput=t},expression:"deviceInput"}})],1),e._v(" "),a("li",{staticStyle:{"margin-left":"10px"}},[a("el-button",{on:{click:e.editDevice}},[e._v("编辑")])],1)])])]),e._v(" "),a("div",{staticClass:"unEngender_main"},[a("div",{staticClass:"unEngender_msg"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("用户信息")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:e.getUserMsg}},[e._v("获取人脸")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}})],1),e._v(" "),a("div",{staticClass:"text item"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"usermsg_left"},[a("ul",[a("li",{staticStyle:{"margin-top":"20px"}},[a("img",{attrs:{src:e.faceImg,alt:""}})])])]),e._v(" "),a("div",{staticClass:"usermsg_right"},[a("ul",{staticClass:"clear"},[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{filterable:"",placeholder:"性别",filterMethod:e.sexFilter},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},e._l(e.sexArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("li",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.cardType,expression:"cardType"}],staticStyle:{width:"65px",height:"100%"},attrs:{name:"",id:""},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.cardType=t.target.multiple?a:a[0]},e.selectCardType]}},e._l(e.cardTypeArr,function(t,i){return a("option",{key:i,attrs:{value:""},domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:e.idCardPlaceholder},model:{value:e.idCard,callback:function(t){e.idCard=t},expression:"idCard"}})],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.militaryShow,expression:"militaryShow"}]},[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("军区：")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.militarySearch,placeholder:"请输入军区"},on:{select:e.militarySelect},model:{value:e.military,callback:function(t){e.military=t},expression:"military"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("国籍：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"国籍",filterMethod:e.countryFilter},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},e._l(e.countryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("婚姻：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"婚姻",filterMethod:e.marryFilter},model:{value:e.selectedMarry,callback:function(t){e.selectedMarry=t},expression:"selectedMarry"}},e._l(e.marryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("生日：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"生日(如:2018-06-01)"},model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("民族：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"民族",filterMethod:e.nationFilter},model:{value:e.nation,callback:function(t){e.nation=t},expression:"nation"}},e._l(e.nationArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("居住地：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"居住地",filterMethod:e.areaFilter},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}},e._l(e.areaArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("职业：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"职业",filterMethod:e.jobFilter},model:{value:e.job,callback:function(t){e.job=t},expression:"job"}},e._l(e.jobArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("手机号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("发卡人：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"发卡人",disabled:""},model:{value:e.fkPerson,callback:function(t){e.fkPerson=t},expression:"fkPerson"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("客服：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"客服",filterMethod:e.serviceFilter},model:{value:e.service,callback:function(t){e.service=t},expression:"service"}},e._l(e.serviceArr,function(t){return a("el-option",{key:t.doc_name,attrs:{label:t.doc_name,value:t.doc_name}},[a("span",[e._v(e._s(t.doc_name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("就诊卡号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"就诊卡号",disabled:!0},model:{value:e.icCard,callback:function(t){e.icCard=t},expression:"icCard"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("预约号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"预约号"},model:{value:e.orderNum,callback:function(t){e.orderNum=t},expression:"orderNum"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("创建时间：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"创建时间",disabled:""},model:{value:e.createTime,callback:function(t){e.createTime=t},expression:"createTime"}})],1)])])])])],1)]),e._v(" "),a("div",{staticClass:"unEngender_footer"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")]),e._v(" "),a("ul",[a("li",[a("el-button",{attrs:{type:"warning"},on:{click:e.confirm}},[e._v("确认修改")])],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("请确认以上信息无误")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.confirmBtn}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("设备编号：")])])}]};var V=a("VU/8")(W,$,!1,function(e){a("CUdG")},"data-v-4121d40e",null).exports,Q={data:function(){return{msg:"云门诊预约",icCard:"",name:"",sex:"",idCard:"",phone:"",opName:"",opNo:"",date:"",time:"",source:"",hospitalId:"",roomId:"",timeId:"",hospitalArr:[],hospitalArr_new:[],roomArr:[],roomArr_new:[],doctorArr:[],doctorArr_new:[],timeArr:[],sourceArr:[{name:"PYJS",value:"朋友介绍"},{name:"ARZY",value:"爱人在院"},{name:"YSJS",value:"医生介绍"},{name:"WYJS",value:"外院介绍"},{name:"KB",value:"口碑"},{name:"FJ",value:"附近"},{name:"YGJS",value:"员工介绍"},{name:"WL",value:"网络"},{name:"KHJS",value:"客户介绍"},{name:"DS",value:"电视"},{name:"DH",value:"电话"},{name:"BZ",value:"报纸"},{name:"GB",value:"广播"},{name:"LG",value:"路过"},{name:"QT",value:"其他"}],fullscreenLoading:!1,orderBtn:!0,roomDisabled:!0,dateDisabled:!0,doctorDisabled:!0,timeDisabled:!0,pickerOptions0:{disabledDate:function(e){var t=Date.now(),a=t+6912e5;return e.getTime()<t-864e5||e.getTime()>a}},tipsMsg:"",popshow:!1,orderTips:"获取列表失败~~~",remark:"",centerDialogVisible:!1,hospitalNum:"",hospitalIndex:""}},methods:{back:function(){this.$router.go(-1)},socket:function(){var e=this,t=new WebSocket("ws://127.0.0.1:8804");t.onopen=function(){console.log("连接websocket成功")},t.onmessage=function(t){var a=JSON.parse(t.data);console.log(a),e.icCard=a.msg.medical_card_number,e.name=a.msg.first_name,e.idCard=a.msg.id_number,e.phone=a.msg.phone_number,e.sex=a.msg.sex,e.inquire()},t.onclose=function(e){console.log("Connection closed.")}},inquire:function(){var e=this;""!=this.treatId&&u.a.get(m+"api/mq/search_patient?keyword="+this.icCard).then(function(t){console.log(t),0==t.data.msg.length?e.$message("未找到该就诊卡号相关信息"):(e.name=t.data.msg[0].PAT_NAME,e.sex=t.data.msg[0].PHYSI_SEX_NAME,e.idCard=t.data.msg[0].ID_NUMBER,e.phone=t.data.msg[0].PHONE_NO)}).catch(function(t){console.log(t),e.orderTips="服务器出错"+t,e.fails()})},hospitalSelect:function(){var e=this;console.log(this.hospitalId),""!=this.hospitalNum&&u.a.get(m+"api/his/book_subject_list?hospital_no="+this.hospitalNum).then(function(t){console.log(t),200206==t.data.status&&(e.roomDisabled=!1,e.roomArr=t.data.msg,e.roomArr_new=t.data.msg,console.log(e.roomArr))}).catch(function(t){console.log(t),e.orderTips="服务器出错"+t,e.fails()})},roomSelect:function(){var e=this;console.log(this.roomId),""!=this.roomId&&u.a.get(m+"api/his/book_date_list?item_no="+this.roomId).then(function(t){console.log(t),200207==t.data.status?(e.dateDisabled=!1,e.date=t.data.msg[0].requestDate,e.dateSelect()):e.fails()}).catch(function(t){console.log(t),e.orderTips="服务器出错",e.fails()})},dateSelect:function(){var e=this;console.log(this.date),""!=this.date&&u.a.get(m+"api/his/book_doctor_list?item_no="+this.roomId+"&registered_start_date="+this.date+"&registered_end_date="+this.date).then(function(t){console.log(t),200208==t.data.status?(e.doctorArr=t.data.msg,e.doctorDisabled=!1):e.fails()}).catch(function(t){console.log(t),e.orderTips="服务器出错",e.fails()})},timeSelect:function(){var e=this;console.log(this.time),""!=this.time&&u.a.get(m+"api/his/book_doctor_schedule_list?item_no="+this.roomId+"&registered_start_date="+this.date+"&registered_end_date="+this.date+"&doctor_no="+this.time).then(function(t){console.log(t),e.timeArr=t.data.msg,e.timeDisabled=!1}).catch(function(t){console.log(t),e.orderTips="服务器出错",e.fails()})},getTime:function(){console.log(this.timeId),""!=this.timeId&&(this.orderBtn=!1)},order:function(){var e=this;""==this.icCard||""==this.name?(this.tipsMsg="请先输入用户信息",this.popshow=!0):(this.fullscreenLoading=!0,u.a.post(m+"api/his/add_book_queue",_()({item_no:this.roomId,identify_no:this.idCard,visit_card:this.icCard,registered_date:this.date,doctor_no:this.time[0],time_no:this.timeId[1],scheduling_no:this.timeId[2]})).then(function(t){console.log(t),e.fullscreenLoading=!1,2002010==t.data.status?(e.centerDialogVisible=!0,e.remark=t.data.msg.remark):400210==t.data.status?(e.tipsMsg="挂号失败:"+t.data.desc+t.data.status+t.data.msg.error,e.popshow=!0):(e.tipsMsg="挂号失败"+t.data.desc+t.data.status,e.popshow=!0)}).catch(function(t){e.fullscreenLoading=!1,console.log(t),tthis.orderTips="服务器出错"+t,e.fails()}))},fails:function(){this.$message.error(this.orderTips)},backIndex:function(){this.$router.push({path:"index"})},inquireOrder:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!1,e.$router.push({path:"inquireOrder",query:{treatCard:e.icCard}})},1e3)},querySearch:function(e,t){console.log(e);var a=this.sourceArr;t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){this.source=e.value+" "+this.name,console.log(this.source)},hosFilter:function(e){if(e){var t=[];this.hospitalArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.hospitalName.indexOf(e)||t.push(a)}),this.hospitalArr=t}else this.hospitalArr=this.hospitalArr_new},roomFilter:function(e){if(e){var t=[];this.roomArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.hospitalName.indexOf(e)||t.push(a)}),this.this.roomArr=t}else this.this.roomArr=this.roomArr_new},enter:function(e){e.target.click()},getHospital:function(){var e=this;u.a.get(m+"api/his/hospital_list").then(function(t){if(console.log(t),200201==t.data.status){e.hospitalArr=t.data.msg,e.hospitalArr_new=t.data.msg;for(var a=function(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0&&s[r].substring(0,i)===t)return s[r].substr(i+1)}(window.location.href,"hospitalId"),i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNoZ==a&&(e.hospitalId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo,e.hospitalNum=e.hospitalArr[i].hospitalNo,e.hospitalSelect())}}).catch(function(e){console.log(e)})}},mounted:function(){function e(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0){if(s[r].substring(0,i)===t)return s[r].substr(i+1)}else;}this.getHospital(),this.socket();var t=window.location.href;this.opName=e(t,"opName"),this.opNo=e(t,"opNo"),console.log(this.opName)}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cloudOrder"},[a("div",{staticClass:"cloudOrder_header"},[a("p",[a("span",[e._v(e._s(e.msg))])])]),e._v(" "),a("div",{staticClass:"cloudOrder_main"},[a("ul",{staticClass:"clear"},[a("li",[a("label",{attrs:{for:""}},[e._v("就诊卡号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"就诊卡号"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.inquire(t):null}},model:{value:e.icCard,callback:function(t){e.icCard=t},expression:"icCard"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{attrs:{placeholder:"姓名",disabled:!0},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-input",{attrs:{placeholder:"性别",disabled:!0},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("身份证号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"身份证号",disabled:!0},model:{value:e.idCard,callback:function(t){e.idCard=t},expression:"idCard"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("手机号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"手机号",disabled:!0},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)]),e._v(" "),a("ul",{staticClass:"clear",staticStyle:{"border-top":"1px dashed #ccc","margin-top":"5%","padding-top":"5%"}},[a("li",[a("label",{attrs:{for:""}},[e._v("挂号机构：")]),e._v(" "),a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",filterMethod:e.hosFilter},on:{change:e.hospitalSelect},model:{value:e.hospitalId,callback:function(t){e.hospitalId=t},expression:"hospitalId"}},e._l(e.hospitalArr,function(t){return a("el-option",{key:t.hospitalName,attrs:{label:t.hospitalName,value:t.hospitalNo}},[a("span",[e._v(e._s(t.hospitalName))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("挂号科室：")]),e._v(" "),a("el-select",{staticStyle:{width:"60%"},attrs:{disabled:e.roomDisabled,clearable:"",filterable:"",placeholder:"请选择",filterMethod:e.roomFilter},on:{change:e.roomSelect},model:{value:e.roomId,callback:function(t){e.roomId=t},expression:"roomId"}},e._l(e.roomArr,function(t){return a("el-option",{key:t.ItemName,attrs:{label:t.ItemName,value:t.itemNo}},[a("span",[e._v(e._s(t.ItemName))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("挂号日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions0,disabled:e.dateDisabled},on:{change:e.dateSelect},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("挂号医生：")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.time,expression:"time"}],attrs:{disabled:e.doctorDisabled},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.time=t.target.multiple?a:a[0]},e.timeSelect]}},[a("option",{attrs:{value:""}},[e._v("==请选择==")]),e._v(" "),e._l(e.doctorArr,function(t,i){return a("option",{key:i,domProps:{value:[t.doctorNo,t.timeNo]}},[e._v("\n                        "+e._s(t.doctorName)+"\n                    ")])})],2)]),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("挂号时间：")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.timeId,expression:"timeId"}],staticStyle:{width:"60%"},attrs:{disabled:e.timeDisabled},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.timeId=t.target.multiple?a:a[0]},e.getTime]}},[a("option",{attrs:{value:""}},[e._v("==请选择==")]),e._v(" "),e._l(e.timeArr,function(t,i){return a("option",{key:i,domProps:{value:[t.timeName,t.timeNo,t.schedulingNo]}},[e._v("\n                        "+e._s(t.timeName)+"\n                    ")])})],2)]),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("来源：")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"60%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("操作员：")]),e._v(" "),a("el-input",{attrs:{placeholder:"操作员",disabled:!0},model:{value:e.opName,callback:function(t){e.opName=t},expression:"opName"}})],1)])]),e._v(" "),a("div",{staticClass:"cloudOrder_footer"},[a("el-button",{attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{float:"right"},attrs:{type:"warning",disabled:e.orderBtn},on:{click:e.order}},[e._v("立即预约")])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.popshow,width:"30%"},on:{"update:visible":function(t){e.popshow=t}}},[a("span",[e._v(e._s(this.tipsMsg))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.popshow=!1}}},[e._v("关 闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("span",[e._v(e._s(e.remark))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],on:{click:e.backIndex}},[e._v("返回主页")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning"},on:{click:e.inquireOrder}},[e._v("查询预约")])],1)])],1)},staticRenderFns:[]};var ee=a("VU/8")(Q,K,!1,function(e){a("+qv9"),a("wGfD")},"data-v-6b4ea602",null).exports,te={data:function(){return{gztMsg:"",bgcolor:"",fontSize:"14",gztShow:!0,fullscreenLoading:!1,msg:"补录信息",addBtnDisabled:!0,deviceId:"",deviceNum:!0,deviceInput:localStorage.getItem("deviceInput"),tipMsg:"",dialogVisible:!1,loading:!1,idCardImg:a("k78f"),faceImg:a("WAYU"),sexMsg:"",sexIcCard:"",marryArr:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],marryArr_new:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],jobArr:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],jobArr_new:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],areaArr:f,areaArr_new:f,nationArr:g,nationArr_new:g,hospitalArr:[],hospitalArr_new:[],countryArr:p,countryArr_new:p,serviceArr:[],serviceArr_new:[],sexArr:[{name:"N",value:"男"},{name:"N",value:"女"}],sexArr_new:[{name:"N",value:"男"},{name:"N",value:"女"}],name:"",sex:"",idCard:"",country:"中国",birthday:"",nation:"",address:"",phone:"",fkPerson:"",order:"",origin:"",icCard:"",age:"",hospitalNo:"",opNo:"",opName:"",selectMarry:"已婚",selectArea:"乌鲁木齐",selectJob:"个体经营者",selectHospitalIndex:"",selectService:"",hasIcCard:!1,hasCardShow:!0,fileDisabled:!0,confirmPop:!1,successMsg:"",addBindMsg:"",hospitalNum:"",hospitalIndex:""}},methods:{back:function(){this.$router.go(-1)},editDevice:function(){this.deviceNum=!1},backMenu:function(){this.$router.push({path:"/"})},getMsg:function(){var e=this;console.log(this.deviceInput),null==this.deviceInput?(this.tipMsg="请先输入设备编号",this.dialogVisible=!0):(this.loading=!0,u.a.get(m+"api/sensetime/data/"+this.deviceInput).then(function(t){console.log(t),e.loading=!1;var a="";if(400040==t.data.status)e.tipMsg="请先放入身份证进行检测",e.dialogVisible=!0;else if(200040==t.data.status){localStorage.setItem("deviceInput",t.data.msg.device_id);var i=(new Date).getFullYear();a=0==t.data.msg.sex?"男":"女",e.name=t.data.msg.name,e.sex=a,e.idCard=t.data.msg.id_number,e.birthday=t.data.msg.birthday,e.nation=t.data.msg.nation,e.address=t.data.msg.address,e.idCardImg="data:image/png;base64,"+t.data.msg.id_image,e.faceImg="data:image/png;base64,"+t.data.msg.face_image,e.age=i-t.data.msg.birthday.slice(0,4),e.phone=t.data.msg.phone,""!=t.data.msg.medical_card_number?(e.hasIcCard=!0,e.icCard=t.data.msg.medical_card_number,e.hasCardShow=!1,e.fileDisabled=!0,e.addBtnDisabled=!1):(e.icCard=t.data.msg.medical_card_number,e.fileDisabled=!1),1==t.data.msg.is_gzt?(e.gztMsg="(身份校验成功)",e.gztShow=!0,e.bgcolor="blue"):(e.gztMsg="(身份校验失败)",e.gztShow=!0,e.bgcolor="red")}else e.tipMsg="获取失败"+t.data.status+t.data.msg,e.dialogVisible=!0}).catch(function(e){console.log(e)}))},fileCardBtn:function(){var e=this;if(""==this.name||""==this.sex||""==this.idCard||""==this.nation||""==this.address)this.tipMsg="请先完整用户信息",this.dialogVisible=!0;else if(/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/.test(this.phone))if(""==this.selectHospitalIndex)this.tipMsg="请选择发卡机构",this.dialogVisible=!0;else{var t;if(this.fullscreenLoading=!0,"男"==this.addBindMsg.PHYSI_SEX_NAME)u.a.post(m+"api/his/bind_patient",_()((t={hospitalNo:this.hospitalIndex,OP_NO:this.opNo,OP_Name:this.opName,OP_IssuerNo:this.opNo,OP_Issuer:this.opName,channel:"kefu",name_m:this.addBindMsg.PAT_NAME,age_m:this.addBindMsg.AGE,birthday_m:this.addBindMsg.DATE_BIRTH.slice(0,10),marriagestatus_m:this.addBindMsg.MARITAL_STATUS_NAME,identif_m:this.addBindMsg.ID_NUMBER,idcardtype_m:"身份证",country_m:this.addBindMsg.NATION_NAME,nationality_m:this.addBindMsg.ETHNIC_NAME,hometown_m:this.addBindMsg.ADDR,education_m:"",profession_m:this.addBindMsg.OCCUPATION_CATEG_NAME,identityaddress_m:this.addBindMsg.CURR_ADDR,phone_m:this.addBindMsg.PHONE_NO,perCusService_m:this.addBindMsg.OPPERATER},S()(t,"education_m",""),S()(t,"visit_card_m",this.addBindMsg.CARD_ID_NUMBER),S()(t,"name_w",this.name),S()(t,"age_w",this.age),S()(t,"birthday_w",this.birthday),S()(t,"marriagestatus_w",this.selectMarry),S()(t,"idcardtype_w","身份证"),S()(t,"identif_w",this.idCard),S()(t,"country_w",this.country),S()(t,"nationality_w",this.nation),S()(t,"hometown_w",this.selectArea),S()(t,"education_w",""),S()(t,"profession_w",this.selectJob),S()(t,"identityaddress_w",this.address),S()(t,"phone_w",this.phone),S()(t,"img_url_w",""),S()(t,"address",this.selectArea),S()(t,"visit_card_w",this.icCard),S()(t,"perCusService_w",this.selectService),t))).then(function(t){e.fullscreenLoading=!1,console.log(t),200200==t.data.status?(e.successMsg="补录成功",e.$message({message:e.successMsg,type:"success"}),e.icCard=t.data.msg.visit_card_w,e.addBtnDisabled=!1,e.fileDisabled=!0,e.hasCardShow=!1):400201==t.data.status?(e.tipMsg=t.data.status+" "+t.data.desc,e.dialogVisible=!0):400400==t.data.status?(e.tipMsg=t.data.status+" "+t.data.desc,e.dialogVisible=!0):400003==t.data.status?(e.tipMsg="参数错误"+t.data.status+" "+t.data.desc,e.dialogVisible=!0):(e.tipMsg="服务器错误"+t.data.status+" "+t.data.desc,e.dialogVisible=!0)}).catch(function(t){e.fullscreenLoading=!1,console.log(t),e.tipMsg="服务器出错"+t,e.dialogVisible=!0});else if("女"==this.addBindMsg.PHYSI_SEX_NAME){var a;u.a.post(m+"api/his/bind_patient",_()((a={hospitalNo:this.hospitalIndex,OP_NO:this.opNo,OP_Name:this.opName,OP_IssuerNo:this.opNo,OP_Issuer:this.opName,channel:"kefu",name_m:this.name,age_m:this.age,birthday_m:this.birthday,marriagestatus_m:this.selectMarry,identif_m:this.idCard,idcardtype_m:"身份证",country_m:this.country,nationality_m:this.nation,hometown_m:this.address,education_m:"",profession_m:this.selectJob,identityaddress_m:this.address,phone_m:this.phone,address:this.selectArea},S()(a,"education_m",""),S()(a,"visit_card_m",this.icCard),S()(a,"perCusService_m",this.selectService),S()(a,"name_w",this.addBindMsg.PAT_NAME),S()(a,"age_w",this.addBindMsg.AGE),S()(a,"birthday_w",this.addBindMsg.DATE_BIRTH.slice(0,10)),S()(a,"marriagestatus_w",this.addBindMsg.MARITAL_STATUS_NAME),S()(a,"idcardtype_w","身份证"),S()(a,"identif_w",this.addBindMsg.ID_NUMBER),S()(a,"country_w",this.addBindMsg.NATION_NAME),S()(a,"nationality_w",this.addBindMsg.ETHNIC_NAME),S()(a,"hometown_w",this.addBindMsg.CURR_ADDR),S()(a,"education_w",""),S()(a,"profession_w",this.addBindMsg.OCCUPATION_CATEG_NAME),S()(a,"identityaddress_w",this.addBindMsg.CURR_ADDR),S()(a,"phone_w",this.addBindMsg.PHONE_NO),S()(a,"img_url_w",""),S()(a,"perCusService_w",this.addBindMsg.OPPERATER),S()(a,"visit_card_w",this.addBindMsg.CARD_ID_NUMBER),a))).then(function(t){e.fullscreenLoading=!1,console.log(t),200200==t.data.status?(e.successMsg="补录成功",e.$message({message:e.successMsg,type:"success"}),e.icCard=t.data.msg.visit_card_m,e.addBtnDisabled=!1,e.fileDisabled=!0,e.hasCardShow=!1):400201==t.data.status?(e.tipMsg=t.data.desc+t.data.status,e.dialogVisible=!0):400003==t.data.status?(e.tipMsg="参数错误"+t.data.status,e.dialogVisible=!0):(e.tipMsg="服务器错误"+t.data.status,e.dialogVisible=!0)}).catch(function(t){e.fullscreenLoading=!1,console.log(t),e.tipMsg="服务器出错"+t,e.dialogVisible=!0})}}else this.tipMsg="请输入正确的手机号",this.dialogVisible=!0},selectMarryBtn:function(){console.log(this.selectMarry)},selectAreaBtn:function(){console.log(this.selectArea)},selectJobBtn:function(){console.log(this.selectJob)},selectHospitalBtn:function(){console.log(this.selectHospitalIndex)},selectServiceBtn:function(){console.log(this.selectService)},sexFilter:function(e){if(e){var t=[];this.sexArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sexArr=t}else this.sexArr=this.sexArr_new},enter:function(e){e.target.click()},nationFilter:function(e){if(e){var t=[];this.nationArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.nationArr=t}else this.nationArr=this.nationArr_new},areaFilter:function(e){if(e){var t=[];this.areaArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.areaArr=t}else this.areaArr=this.areaArr_new},marryFilter:function(e){if(e){var t=[];this.marryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.marryArr=t}else this.marryArr=this.marryArr_new},countryFilter:function(e){if(e){var t=[];this.countryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.countryArr=t}else this.countryArr=this.countryArr_new},jobFilter:function(e){if(e){var t=[];this.jobArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.jobArr=t}else this.jobArr=this.jobArr_new},hosFilter:function(e){if(e){var t=[];this.hospitalArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.hospitalName.indexOf(e)||t.push(a)}),this.hospitalArr=t}else this.hospitalArr=this.hospitalArr_new},serviceFilter:function(e){if(e){var t=[];this.serviceArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.doc_name.indexOf(e)||t.push(a)}),this.serviceArr=t}else this.serviceArr=this.serviceArr_new},computedAge:function(){var e=(new Date).getFullYear();this.age=e-this.idCard.slice(6,10),console.log(this.idCard.slice(6,10)),this.birthday=this.idCard.slice(6,10)+"年"+this.idCard.slice(10,12)+"月"+this.idCard.slice(12,14)+"日"},subBtn:function(){""==this.name||""==this.sex||""==this.idCard||""==this.birthday||""==this.nation||""==this.address?(this.tipMsg="请先填入用户信息",this.dialogVisible=!0):/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/.test(this.phone)?""==this.selectHospitalIndex?(this.tipMsg="请选择发卡机构",this.dialogVisible=!0):this.confirmPop=!0:(this.tipMsg="请输入正确的手机号",this.dialogVisible=!0)},confirmPopBtn:function(){var e=this;this.loading=!0,"男"==this.addBindMsg.PHYSI_SEX_NAME?u.a.post(m+"api/hospital/admin/user/auth",_()({OP_NO:this.opNo,OP_Name:this.opName,OP_IssuerNo:this.opNo,OP_Issuer:this.opName,channel:"kefu",hospitalNo:this.hospitalIndex,PER_Service:this.order,medical_card_number_m:this.addBindMsg.CARD_ID_NUMBER,name_m:this.addBindMsg.PAT_NAME,identif_m:this.addBindMsg.ID_NUMBER,marriagestatus_m:this.addBindMsg.MARITAL_STATUS_NAME,age_m:this.addBindMsg.AGE,birthday_m:this.addBindMsg.DATE_BIRTH.slice(0,10),nationality_m:this.addBindMsg.ETHNIC_NAME,country_m:this.addBindMsg.NATION_NAME,identityaddress_m:this.addBindMsg.CURR_ADDR,profession_m:this.addBindMsg.OCCUPATION_CATEG_NAME,phone_m:this.addBindMsg.PHONE_NO,is_auth_m:"",hometown_m:this.addBindMsg.ADDR,idcardtype_m:"身份证",id_face_image_m:"",scene_face_image_m:"",department_m:"",perCusService_m:this.addBindMsg.OPPERATER,medical_card_number_w:this.icCard,name_w:this.name,identif_w:this.idCard,marriagestatus_w:this.selectMarry,age_w:this.age,birthday_w:this.birthday,nationality_w:this.nation,country_w:this.country,identityaddress_w:this.address,profession_w:this.selectJob,phone_w:this.phone,is_auth_w:"",id_face_image_w:"",scene_face_image_w:"",hometown_w:this.selectedArea,idcardtype_w:"身份证",department_w:"",perCusService_w:this.selectService})).then(function(t){console.log(t),e.loading=!1,e.$router.push({path:"/card",query:{name_w:e.name,hospital:e.selectHospitalIndex,sex_w:e.sex,nation_w:e.nation,treat_w:e.icCard,phone_w:e.phone,idCard_w:e.idCard,name_m:e.addBindMsg.PAT_NAME,sex_m:e.addBindMsg.PHYSI_SEX_NAME,nation_m:e.addBindMsg.ETHNIC_NAME,treat_m:e.$route.query.icCard,phone_m:e.addBindMsg.PHONE_NO,idCard_m:e.addBindMsg.ID_NUMBER}})}).catch(function(t){console.log(t),e.loading=!1}):"女"==this.addBindMsg.PHYSI_SEX_NAME&&u.a.post(m+"api/hospital/admin/user/auth",_()({OP_NO:this.opNo,OP_Name:this.opName,OP_IssuerNo:this.opNo,OP_Issuer:this.opName,channel:"kefu",hospitalNo:this.hospitalIndex,PER_Service:this.order,medical_card_number_w:this.addBindMsg.CARD_ID_NUMBER,name_w:this.addBindMsg.PAT_NAME,identif_w:this.addBindMsg.ID_NUMBER,marriagestatus_w:this.addBindMsg.MARITAL_STATUS_NAME,age_w:this.addBindMsg.AGE,birthday_w:this.addBindMsg.DATE_BIRTH.slice(0,10),nationality_w:this.addBindMsg.ETHNIC_NAME,country_w:this.addBindMsg.NATION_NAME,identityaddress_w:this.addBindMsg.CURR_ADDR,profession_w:this.addBindMsg.OCCUPATION_CATEG_NAME,phone_w:this.addBindMsg.PHONE_NO,is_auth_w:"",hometown_w:this.addBindMsg.ADDR,idcardtype_w:"身份证",id_face_image_w:"",scene_face_image_w:"",department_w:"",perCusService_w:this.addBindMsg.OPPERATER,medical_card_number_m:this.icCard,name_m:this.name,identif_m:this.idCard,marriagestatus_m:this.selectMarry,age_m:this.age,birthday_m:this.birthday,nationality_m:this.nation,country_m:this.country,identityaddress_m:this.address,profession_m:this.selectJob,phone_m:this.phone,is_auth_m:"",id_face_image_m:"",scene_face_image_m:"",hometown_m:this.selectedArea,idcardtype_m:"身份证",department_m:"",perCusService_m:this.selectService})).then(function(t){console.log(t),e.loading=!1,e.$router.push({path:"/card",query:{name_m:e.name,hospital:e.selectHospitalIndex,sex_m:e.sex,nation_m:e.nation,treat_m:e.icCard,phone_m:e.phone,idCard_m:e.idCard,name_w:e.addBindMsg.PAT_NAME,sex_w:e.addBindMsg.PHYSI_SEX_NAME,nation_w:e.addBindMsg.ETHNIC_NAME,treat_w:e.$route.query.icCard,phone_w:e.addBindMsg.PHONE_NO,idCard_w:e.addBindMsg.ID_NUMBER}})}).catch(function(t){console.log(t),e.loading=!1})},success:function(){this.$message({message:"填入成功!",type:"success"})},orderBtn:function(){this.$router.push({path:"order",query:{}})},name_input:function(){console.log(this.name),""!=this.name?(this.fileDisabled=!1,this.hasCardShow=!1):(this.fileDisabled=!0,this.hasCardShow=!0)},getService:function(){var e=this;u.a.get(m+"api/sys/get_wait_doctor?hos_id="+this.hospitalNum).then(function(t){console.log(t),200026==t.data.status&&(e.serviceArr=t.data.msg,e.serviceArr_new=t.data.msg)}).catch(function(e){console.log(e)})},getHospitalList:function(){var e=this;u.a.get(m+"api/his/hospital_list").then(function(t){if(console.log(t),200201==t.data.status){e.hospitalArr=t.data.msg,e.hospitalArr_new=t.data.msg;var a=function(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0&&s[r].substring(0,i)===t)return s[r].substr(i+1)}(window.location.href,"hospitalId");if(76==a){e.hospitalNum="111",e.getService();for(var i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.selectHospitalIndex=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(73==a){e.hospitalNum="114",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.selectHospitalIndex=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(74==a){e.hospitalNum="113",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.selectHospitalIndex=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(75==a){e.hospitalNum="112",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.selectHospitalIndex=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(77==a){e.hospitalNum="109",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.selectHospitalIndex=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(78==a){e.hospitalNum="110",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.selectHospitalIndex=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}else if(79==a){e.hospitalNum="108",e.getService();for(i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNo==e.hospitalNum&&(e.selectHospitalIndex=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo)}}else e.tipMsg="获取医院列表失败"+t.data.status+t.data.msg}).catch(function(e){console.log(e)})}},created:function(){},beforeMount:function(){this.getHospitalList()},mounted:function(){function e(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0){if(s[r].substring(0,i)===t)return s[r].substr(i+1)}else;}""!=this.$route.query&&(this.sexIcCard=this.$route.query.icCard,"男"==this.$route.query.sex?this.sexMsg="男方就诊卡号：":"女"==this.$route.query.sex&&(this.sexMsg="女方就诊卡号：")),this.addBindMsg=JSON.parse(localStorage.getItem("addBind"));var t=window.location.href;this.opNo=e(t,"opNo"),this.opName=e(t,"opName"),this.fkPerson=e(t,"opName"),this.hospitalNum=e(t,"hospitalId")}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add"},[a("div",{staticClass:"add_header"},[a("p",[a("span",[e._v(e._s(e.msg))])]),e._v(" "),a("p",[a("ul",[e._m(0),e._v(" "),a("li",[a("el-input",{attrs:{placeholder:"请输入设备编号",disabled:e.deviceNum},model:{value:e.deviceInput,callback:function(t){e.deviceInput=t},expression:"deviceInput"}})],1),e._v(" "),a("li",{staticStyle:{"margin-left":"10px"}},[a("el-button",{on:{click:e.editDevice}},[e._v("编辑")])],1)])])]),e._v(" "),a("div",{staticClass:"add_main"},[a("div",{staticClass:"add_top"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("div",{staticClass:"clear"},[a("h1",[a("span",[e._v(e._s(e.sexMsg))]),a("span",[e._v(e._s(e.sexIcCard))])]),e._v(" "),a("h2",[a("span",[e._v("请获取另一方信息")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning"},on:{click:e.getMsg}},[e._v("获取信息")])],1)])])],1),e._v(" "),a("div",{staticClass:"add_msg"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("div",{staticClass:"clear"},[a("span",[e._v("用户信息")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.gztShow,expression:"gztShow"}],style:{color:e.bgcolor,fontSize:e.fontSize+"px"}},[e._v(e._s(e.gztMsg))])]),e._v(" "),a("div",{staticClass:"add_left"},[a("img",{staticStyle:{width:"120px",height:"140px"},attrs:{src:e.idCardImg,alt:""}}),e._v(" "),a("img",{staticStyle:{width:"120px",height:"140px"},attrs:{src:e.faceImg,alt:""}})]),e._v(" "),a("div",{staticClass:"add_message clear"},[a("ul",{staticClass:"clear"},[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"姓名"},on:{input:function(t){e.name_input(e.name)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"性别",filterMethod:e.sexFilter},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},e._l(e.sexArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("身份证：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"身份证"},on:{blur:e.computedAge},model:{value:e.idCard,callback:function(t){e.idCard=t},expression:"idCard"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("年龄：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"年龄"},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("国籍：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"国籍",filterMethod:e.countryFilter},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},e._l(e.countryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("婚姻：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"婚姻",filterMethod:e.marryFilter},model:{value:e.selectMarry,callback:function(t){e.selectMarry=t},expression:"selectMarry"}},e._l(e.marryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("生日：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"生日"},model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("民族：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"民族",filterMethod:e.nationFilter},model:{value:e.nation,callback:function(t){e.nation=t},expression:"nation"}},e._l(e.nationArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("居住地：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"居住地",filterMethod:e.areaFilter},model:{value:e.selectArea,callback:function(t){e.selectArea=t},expression:"selectArea"}},e._l(e.areaArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("职业：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"职业",filterMethod:e.jobFilter},model:{value:e.selectJob,callback:function(t){e.selectJob=t},expression:"selectJob"}},e._l(e.jobArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("手机号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)])])]),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{width:"100%","margin-top":"3%"}},[a("div",{staticClass:"add_left"}),e._v(" "),a("div",{staticClass:"add_message clear"},[a("ul",[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("发卡机构：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{filterable:"",placeholder:"请选择",filterMethod:e.hosFilter},model:{value:e.selectHospitalIndex,callback:function(t){e.selectHospitalIndex=t},expression:"selectHospitalIndex"}},e._l(e.hospitalArr,function(t){return a("el-option",{key:t.hospitalName,attrs:{label:t.hospitalName,value:t.hospitalNo}},[a("span",[e._v(e._s(t.hospitalName))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("客服：")]),e._v(" "),a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",filterMethod:e.serviceFilter},model:{value:e.selectService,callback:function(t){e.selectService=t},expression:"selectService"}},e._l(e.serviceArr,function(t){return a("el-option",{key:t.doc_name,attrs:{label:t.doc_name,value:t.doc_name}},[a("span",[e._v(e._s(t.doc_name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("发卡人：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"发卡人",disabled:!0},model:{value:e.fkPerson,callback:function(t){e.fkPerson=t},expression:"fkPerson"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("预约号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"预约号"},model:{value:e.order,callback:function(t){e.order=t},expression:"order"}})],1)])])]),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{width:"100%","margin-top":"3%","padding-bottom":"3%"}},[a("div",[e._v("就诊卡号")]),e._v(" "),a("div",{staticClass:"clear",staticStyle:{height:"40px",float:"left","margin-top":"3%"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.hasCardShow,expression:"hasCardShow"}],staticStyle:{float:"left","line-height":"40px"}},[e._v("暂无卡号~~~请先获取身份证信息")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasCardShow,expression:"!hasCardShow"}],staticClass:"clear",staticStyle:{"margin-top":"3%",float:"left"}},[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("就诊卡号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"就诊卡号："},model:{value:e.icCard,callback:function(t){e.icCard=t},expression:"icCard"}})],1)]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{float:"right","margin-top":"3%"},attrs:{type:"warning",disabled:e.fileDisabled},on:{click:e.fileCardBtn}},[e._v("补录信息至HIS")])],1)],1)]),e._v(" "),a("div",{staticClass:"add_footer"},[a("el-button",{attrs:{type:"warning"},on:{click:e.back}},[e._v("返回上一页")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",disabled:e.addBtnDisabled},on:{click:e.subBtn}},[e._v("生成健康卡")])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v(e._s(e.tipMsg))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.hasIcCard,width:"30%"},on:{"update:visible":function(t){e.hasIcCard=t}}},[a("span",[e._v("该身份证已有就诊卡号："+e._s(e.icCard))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.backMenu}},[e._v("返回菜单")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.orderBtn}},[e._v("立即挂号")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.confirmPop,width:"30%",center:""},on:{"update:visible":function(t){e.confirmPop=t}}},[a("span",[e._v("请确认以上信息无误!")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.confirmPop=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning"},on:{click:e.confirmPopBtn}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("设备编号：")])])}]};var ie=a("VU/8")(te,ae,!1,function(e){a("lBkl"),a("ULIO")},"data-v-d4d017de",null).exports,se={data:function(){return{msg:"初诊登记",deviceInput:localStorage.getItem("deviceId"),deviceNum:!0,tipsPop:!1,tips:"",loading:!1,hasIcCard:!1,icCard:"",gztMsg:"",gztPop:!1,subMsgHis:!0,healthCard:!0,name_w:"",sex_w:"",idCard_w:"",country_w:"中国",birthday_w:"",nation_w:"",age_w:"",homeTown_w:"",address_w:"",place_w:"乌鲁木齐",marry_w:"已婚",job_w:"个体经营者",phone_w:"",service_w:"",icCard_w:"",faceImg_w:a("WAYU"),idImg_w:a("k78f"),gztMsg_w:"",gztShow_w:"",bgcolor_w:"",idCard_img_w:"",scene_face_image_w:"",verify_result_w:"",name_m:"",sex_m:"",idCard_m:"",country_m:"中国",birthday_m:"",nation_m:"",age_m:"",homeTown_m:"",address_m:"",place_m:"乌鲁木齐",marry_m:"已婚",job_m:"个体经营者",phone_m:"",service_m:"",icCard_m:"",faceImg_m:a("WAYU"),idImg_m:a("k78f"),gztMsg_m:"",gztShow_m:"",bgcolor_m:"",right:"right",fontSize:"14",idCard_img_m:"",scene_face_image_m:"",verify_result_m:"",fkPerson:"",orderNum:"",hospitalArr:[],hospitalArr_new:[],hospitalIndex:"",hospitalNum:"",sexArr_m:[{name:"N",value:"男"},{name:"N",value:"女"}],sexArr_w:[{name:"N",value:"男"},{name:"N",value:"女"}],sexArr_new_m:[],sexArr_new_w:[],countryArr:p,countryArr_new:p,nationArr:g,nationArr_new:g,placeArr:f,placeArr_new:f,marryArr:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],marryArr_new:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],jobArr:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],jobArr_new:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],serviceArr:[],serviceArr_new:[],deviceMsgArr:[],deviceMsgArr_new:[],deviceSelect:"",opNo:"",opName:"",hospitalNoZ:""}},methods:{back:function(){this.$router.push({path:"/"})},editDevice:function(){this.deviceNum=!1},bulrDevice:function(){var e=this;this.deviceNum=!0,u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/list").then(function(t){if(console.log(t),200040==t.data.status){e.deviceMsgArr=t.data.msg,e.deviceMsgArr_new=t.data.msg;for(var a=0;a<e.deviceMsgArr.length;a++)0==e.deviceMsgArr[a].sex?e.deviceMsgArr[a].sex="男":1==e.deviceMsgArr[a].sex&&(e.deviceMsgArr[a].sex="女"),-2==e.deviceMsgArr[a].is_gzt?e.deviceMsgArr[a].is_gzt="失败":1==e.deviceMsgArr[a].is_gzt&&(e.deviceMsgArr[a].is_gzt="成功")}}).catch(function(e){console.log(e)})},enter:function(){},hospitalFilter:function(e){if(e){var t=[];this.hospitalArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.hospitalName.indexOf(e)||t.push(a)}),this.hospitalArr=t}else this.hospitalArr=this.hospitalArr_new},deviceFilter:function(e){if(e){var t=[];this.deviceMsgArr_new.forEach(function(a,i){0!=a.sex.toUpperCase().indexOf(e.toUpperCase())&&0!=a.name.indexOf(e)||t.push(a)}),this.deviceMsgArr=t}else this.deviceMsgArr=this.deviceMsgArr_new},sexFilter_m:function(e){if(e){var t=[];this.sexArr_new_m.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sexArr_m=t}else this.sexArr_m=this.sexArr_new_m},sexFilter_w:function(e){if(e){var t=[];this.sexArr_new_w.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sexArr_w=t}else this.sexArr_w=this.sexArr_new_w},countryFilter_m:function(e){if(e){var t=[];this.countryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.countryArr=t}else this.countryArr=this.countryArr_new},countryFilter_w:function(e){if(e){var t=[];this.countryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.countryArr=t}else this.countryArr=this.countryArr_new},nationFilter_m:function(e){if(e){var t=[];this.nationArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.nationArr=t}else this.nationArr=this.nationArr_new},nationFilter_w:function(e){if(e){var t=[];this.nationArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.nationArr=t}else this.nationArr=this.nationArr_new},placeFilter_m:function(e){if(e){var t=[];this.placeArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.placeArr=t}else this.placeArr=this.placeArr_new},placeFilter_w:function(e){if(e){var t=[];this.placeArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.placeArr=t}else this.placeArr=this.placeArr_new},marryFilter_m:function(e){if(e){var t=[];this.placeArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.placeArr=t}else this.placeArr=this.placeArr_new},marryFilter_w:function(e){if(e){var t=[];this.marryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.marryArr=t}else this.marryArr=this.marryArr_new},jobFilter_m:function(e){if(e){var t=[];this.jobArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.jobArr=t}else this.jobArr=this.jobArr_new},jobFilter_w:function(e){if(e){var t=[];this.jobArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.jobArr=t}else this.jobArr=this.jobArr_new},serviceFilter_m:function(e){if(e){var t=[];this.serviceArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.doc_name.indexOf(e)||t.push(a)}),this.serviceArr=t}else this.serviceArr=this.serviceArr_new},serviceFilter_w:function(e){if(e){var t=[];this.serviceArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.doc_name.indexOf(e)||t.push(a)}),this.serviceArr=t}else this.serviceArr=this.serviceArr_new},nameValue:function(){""!=this.name_w||""!=this.name_m?this.subMsgHis=!1:this.subMsgHis=!0},selectUser:function(){var e=this,t=this.$loading({lock:!0,text:"国政通验证身份中..请稍后",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 1)",customClass:"loadingFontSize"});u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/"+this.deviceSelect).then(function(a){if(console.log(a),t.close(),200040==a.data.status){if(localStorage.setItem("deviceId",a.data.msg.device_id),0==a.data.msg.sex){var i="";i="男";var s=(new Date).getFullYear();e.name_m=a.data.msg.name,e.sex_m=i,e.idCard_m=a.data.msg.id_number,e.birthday_m=a.data.msg.birthday,e.nation_m=a.data.msg.nation,e.age_m=s-a.data.msg.birthday.slice(0,4),e.homeTown_m=a.data.msg.address,e.phone_m=a.data.msg.phone,e.faceImg_m="data:image/png;base64,"+a.data.msg.face_image,e.idImg_m="data:image/png;base64,"+a.data.msg.id_image,e.idCard_img_m=a.data.msg.id_image,e.scene_face_image_m=a.data.msg.face_image,e.verify_result_m=a.data.msg.is_gzt,e.icCard=a.data.msg.medical_card_number,e.icCard_m=a.data.msg.medical_card_number,e.sexArr_m=[{name:"N",value:"男"}],1==a.data.msg.is_gzt?(e.gztMsg_m="国政通校验成功",e.gztShow_m=!0,e.bgcolor_m="blue"):(e.gztMsg_m="国政通校验失败",e.gztShow_m=!0,e.bgcolor_m="red")}else if(1==a.data.msg.sex){i="";i="女";s=(new Date).getFullYear();e.name_w=a.data.msg.name,e.sex_w=i,e.idCard_w=a.data.msg.id_number,e.birthday_w=a.data.msg.birthday,e.nation_w=a.data.msg.nation,e.age_w=s-a.data.msg.birthday.slice(0,4),e.homeTown_w=a.data.msg.address,e.phone_w=a.data.msg.phone,e.faceImg_w="data:image/png;base64,"+a.data.msg.face_image,e.idImg_w="data:image/png;base64,"+a.data.msg.id_image,e.idCard_img_w=a.data.msg.id_image,e.scene_face_image_w=a.data.msg.face_image,e.verify_result_w=a.data.msg.is_gzt,e.icCard=a.data.msg.medical_card_number,e.icCard_w=a.data.msg.medical_card_number,e.sexArr_w=[{name:"N",value:"女"}],1==a.data.msg.is_gzt?(e.gztMsg_w="国政通校验成功",e.gztShow_w=!0,e.bgcolor_w="blue"):(e.gztMsg_w="国政通校验失败",e.gztShow_w=!0,e.bgcolor_w="red")}""==a.data.msg.medical_card_number?(e.subMsgHis=!1,e.healthCard=!0,e.icCard=a.data.msg.medical_card_number,e.hasIcCard=!1,e.gztPop=!0):(e.subMsgHis=!0,e.healthCard=!1,e.hasIcCard=!0,e.gztPop=!1),1==a.data.msg.is_gzt&&a.data.msg.score>100?e.gztMsg="该用户已实名":-1==a.data.msg.is_gzt?e.gztMsg="未检测到有效人脸，请重新拍照":0==a.data.msg.is_gzt?e.gztMsg="国政通连接失败，请重新试一次":-2==a.data.msg.is_gzt?(e.gztMsg="国政通验证失败，人脸匹配度太低"+a.data.msg.score,e.gztNumShow=!0):1==a.data.msg.is_gzt&&(e.gztMsg="国政通实名成功"+a.data.msg.score)}else e.tips="获取信息失败"+a.data.status,e.tipsPop=!0}).catch(function(e){console.log(e),t.close()})},getPrevUserMsg:function(){var e=this;if(0==this.deviceMsgArr.length)this.tips="暂无设备信息",this.tipsPop=!0;else{var t=this.$loading({lock:!0,text:"国政通验证身份中..请稍后",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 1)",customClass:"loadingFontSize"});u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/"+this.deviceMsgArr[0].id).then(function(a){if(console.log(a),t.close(),200040==a.data.status){if(localStorage.setItem("deviceId",a.data.msg.device_id),0==a.data.msg.sex){var i="";i="男";var s=(new Date).getFullYear();e.name_m=a.data.msg.name,e.sex_m=i,e.idCard_m=a.data.msg.id_number,e.birthday_m=a.data.msg.birthday,e.nation_m=a.data.msg.nation,e.age_m=s-a.data.msg.birthday.slice(0,4),e.homeTown_m=a.data.msg.address,e.phone_m=a.data.msg.phone,e.faceImg_m="data:image/png;base64,"+a.data.msg.face_image,e.idImg_m="data:image/png;base64,"+a.data.msg.id_image,e.idCard_img_m=a.data.msg.id_image,e.scene_face_image_m=a.data.msg.face_image,e.verify_result_m=a.data.msg.is_gzt,e.icCard=a.data.msg.medical_card_number,e.icCard_m=a.data.msg.medical_card_number,e.sexArr_m=[{name:"N",value:"男"}],1==a.data.msg.is_gzt?(e.gztMsg_m="国政通校验成功",e.gztShow_m=!0,e.bgcolor_m="blue"):(e.gztMsg_m="国政通校验失败",e.gztShow_m=!0,e.bgcolor_m="red")}else if(1==a.data.msg.sex){i="";i="女";s=(new Date).getFullYear();e.name_w=a.data.msg.name,e.sex_w=i,e.idCard_w=a.data.msg.id_number,e.birthday_w=a.data.msg.birthday,e.nation_w=a.data.msg.nation,e.age_w=s-a.data.msg.birthday.slice(0,4),e.homeTown_w=a.data.msg.address,e.faceImg_w="data:image/png;base64,"+a.data.msg.face_image,e.idImg_w="data:image/png;base64,"+a.data.msg.id_image,e.idCard_img_w=a.data.msg.id_image,e.phone_w=a.data.msg.phone,e.scene_face_image_w=a.data.msg.face_image,e.verify_result_w=a.data.msg.is_gzt,e.icCard=a.data.msg.medical_card_number,e.icCard_w=a.data.msg.medical_card_number,e.sexArr_w=[{name:"N",value:"女"}],1==a.data.msg.is_gzt?(e.gztMsg_w="国政通校验成功",e.gztShow_w=!0,e.bgcolor_w="blue"):(e.gztMsg_w="国政通校验失败",e.gztShow_w=!0,e.bgcolor_w="red"),""==a.data.msg.medical_card_number?e.subMsgHis=!1:e.subMsgHis=!0}""==a.data.msg.medical_card_number?(e.subMsgHis=!1,e.healthCard=!0,e.icCard=a.data.msg.medical_card_number,e.hasIcCard=!1,e.gztPop=!0):(e.subMsgHis=!0,e.healthCard=!1,e.hasIcCard=!0,e.gztPop=!1),1==a.data.msg.is_gzt&&a.data.msg.score>100?e.gztMsg="该用户已实名":-1==a.data.msg.is_gzt?e.gztMsg="未检测到有效人脸，请重新拍照":0==a.data.msg.is_gzt?e.gztMsg="国政通连接失败，请重新试一次":-2==a.data.msg.is_gzt?(e.gztMsg="国政通验证失败，人脸匹配度太低"+a.data.msg.score,e.gztNumShow=!0):1==a.data.msg.is_gzt&&(e.gztMsg="国政通实名成功"+a.data.msg.score)}else 400040==a.data.status&&(e.tips="请先放入身份证进行检测",e.tipsPop=!0)}).catch(function(a){console.log(a),t.close(),e.tips=a,e.tipsPop=!0})}},getDeviceMsg:function(){var e=this;console.log(this.deviceInput),""==this.deviceInput||null==this.deviceInput?(this.tips="请先输入设备编号",this.tipsPop=!0):u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/list").then(function(t){if(console.log(t),200040==t.data.status){e.deviceMsgArr=t.data.msg,e.deviceMsgArr_new=t.data.msg;for(var a=0;a<e.deviceMsgArr.length;a++)0==e.deviceMsgArr[a].sex?e.deviceMsgArr[a].sex="男":1==e.deviceMsgArr[a].sex&&(e.deviceMsgArr[a].sex="女"),-2==e.deviceMsgArr[a].is_gzt?e.deviceMsgArr[a].is_gzt="失败":1==e.deviceMsgArr[a].is_gzt&&(e.deviceMsgArr[a].is_gzt="成功")}}).catch(function(e){console.log(e)})},subHisBtn:function(){var e=this,t=/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/;if(""==this.name_m||""!=this.sex_m&&""!=this.idCard_m&&""!=this.nation_m)if(""==this.name_w||""!=this.sex_w&&""!=this.idCard_w&&""!=this.nation_w)if(""==this.name_m||t.test(this.phone_m))if(""==this.name_w||t.test(this.phone_w)){var a=_()({OP_NO:this.opNo,OP_Name:this.opName,OP_IssuerNo:this.opNo,OP_Issuer:this.opName,channel:"kefu",hospitalNo:this.hospitalNum,PER_Service:this.orderNum,name_m:this.name_m,sex_m:this.sex_m,identif_m:this.idCard_m,marriagestatus_m:this.marry_w,age_m:this.age_m,birthday_m:this.birthday_m,nationality_m:this.nation_m,country_m:this.country_m,identityaddress_m:this.address_m,profession_m:this.job_m,phone_m:this.phone_m,hometown_m:this.place_m,perCusService_m:this.service_m,visit_card_m:this.icCard_m,registered_addr_m:this.homeTown_m,name_w:this.name_w,sex_w:this.sex_w,identif_w:this.idCard_w,marriagestatus_w:this.marry_w,age_w:this.age_w,birthday_w:this.birthday_w,nationality_w:this.nation_w,country_w:this.country_w,identityaddress_w:this.address_w,profession_w:this.job_w,phone_w:this.phone_w,hometown_w:this.place_w,perCusService_w:this.service_w,visit_card_w:this.icCard_w,registered_addr_w:this.homeTown_w});this.loading=!0,u.a.post(m+"api/his/create_patient",a).then(function(t){console.log(t),200202==t.data.status?(e.loading=!1,e.subMsgHis=!0,e.healthCard=!1,e.icCard_m=t.data.msg.visit_card_m,e.icCard_w=t.data.msg.visit_card_w,e.$message({message:"提交成功",type:"success"}),""!=e.icCard_m&&""==e.icCard_w?u.a.post(m+"api/mq/set_patient_photo",_()({medical_card_id:e.icCard_m,photo:e.idCard_img_m})).then(function(t){console.log(t),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1}):""==e.icCard_m&&""!=e.icCard_w?u.a.post(m+"api/mq/set_patient_photo",_()({medical_card_id:e.icCard_w,photo:e.idCard_img_w})).then(function(t){console.log(t),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1}):""!=e.icCard_m&&""!=e.icCard_w&&(u.a.post(m+"api/mq/set_patient_photo",_()({medical_card_id:e.icCard_m,photo:e.idCard_img_m})).then(function(t){console.log(t),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1}),u.a.post(m+"api/mq/set_patient_photo",_()({medical_card_id:e.icCard_w,photo:e.idCard_img_w})).then(function(t){console.log(t),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1}))):400201==t.data.status?(e.loading=!1,e.tips=t.data.status+" "+t.data.desc,e.tipsPop=!0):400400==t.data.status?(e.loading=!1,e.tips=t.data.status+" "+t.data.desc,e.tipsPop=!0):400003==t.data.status?(e.loading=!1,e.tips="参数错误"+t.data.status+" "+t.data.desc,e.tipsPop=!0):(e.loading=!1,e.tips="服务器错误"+t.data.status+" "+t.data.desc,e.tipsPop=!0)}).catch(function(t){e.loading=!1,console.log(t),e.tips=t,e.tipsPop=!0})}else this.tips="请输入女方正确的手机号",this.tipsPop=!0;else this.tips="请输入男方正确的手机号",this.tipsPop=!0;else this.tips="请先完善女方信息",this.tipsPop=!0;else this.tips="请先完善男方信息",this.tipsPop=!0},healthCardBtn:function(){var e=this,t=/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/,a="",i="";if(a=1==this.verify_result_m,i=1==this.verify_result_w,""==this.name_w||t.test(this.phone_w))if(""==this.name_m||t.test(this.phone_m)){this.loading=!0;var s=_()({OP_NO:this.opNo,OP_Name:this.opName,OP_IssuerNo:this.opNo,OP_Issuer:this.opName,channel:"kefu",hospitalNo:this.hospitalNum,PER_Service:this.orderNum,medical_card_number_m:this.icCard_m,name_m:this.name_m,identif_m:this.idCard_m,marriagestatus_m:this.marry_w,age_m:this.age_m,birthday_m:this.birthday_m,nationality_m:this.nation_m,country_m:this.country_m,identityaddress_m:this.address_m,profession_m:this.job_m,phone_m:this.phone_m,hometown_m:this.place_m,sex_m:this.sex_m,perCusService_m:this.service_m,id_face_image_m:this.idCard_img_m,scene_face_image_m:this.face_img_m,is_auth_m:a,registered_addr_m:this.homeTown_m,idcardtype_m:"身份证",medical_card_number_w:this.icCard_w,name_w:this.name_w,identif_w:this.idCard_w,marriagestatus_w:this.marry_w,age_w:this.age_w,birthday_w:this.birthday_w,nationality_w:this.nation_w,country_w:this.country_w,identityaddress_w:this.address_w,profession_w:this.job_w,phone_w:this.phone_w,hometown_w:this.place_w,sex_w:this.sex_w,perCusService_w:this.service_w,id_face_image_w:this.idCard_img_w,scene_face_image_w:this.face_img_w,is_auth_w:i,registered_addr_w:this.homeTown_w,idcardtype_w:"身份证"});u.a.post(m+"api/hospital/admin/user/auth",s).then(function(t){console.log(t),e.loading=!1,200002==t.data.status&&e.$router.push({path:"/card",query:{name_m:e.name_m,hospital:e.hospitalIndex,sex_m:e.sex_m,nation_m:e.nation_m,treat_m:e.icCard_m,phone_m:e.phone_m,idCard_m:e.idCard_m,name_w:e.name_w,sex_w:e.sex_w,nation_w:e.nation_w,treat_w:e.icCard_w,phone_w:e.phone_w,idCard_w:e.idCard_w}})}).catch(function(t){e.loading=!1,console.log(t),e.tips=t,e.tipsPop=!0})}else this.tips="请输入男方正确的手机号",this.tipsPop=!0;else this.tips="请输入女方正确的手机号",this.tipsPop=!0},delMsg:function(){""!=this.name_m?(this.name_m="",this.sex_m="",this.idCard_m="",this.age_m="",this.birthday_m="",this.nation_m="",this.homeTown_m="",this.place_m="",this.icCard_m="",this.phone_m="",this.faceImg_m=a("WAYU"),this.idImg_m=a("k78f")):""!=this.name_w&&(this.name_w="",this.sex_w="",this.idCard_w="",this.age_w="",this.birthday_w="",this.nation_w="",this.homeTown_w="",this.place_w="",this.icCard_w="",this.phone_w="",this.faceImg_w=a("WAYU"),this.idImg_w=a("k78f"))},inquire:function(){this.$router.push({path:"inquire",query:{icCard:this.icCard}})},order:function(){""!=this.idCard_m?this.$router.push({path:"order",query:{treatCard:this.icCard}}):""!=this.idCard_w&&this.$router.push({path:"order",query:{treatCard:this.icCard}})},computedAge_m:function(){var e=this;if(""!=this.idCard_m){var t=(new Date).getFullYear();this.age_m=t-this.idCard_m.slice(6,10),this.birthday_m=this.idCard_m.slice(6,10)+"年"+this.idCard_m.slice(10,12)+"月"+this.idCard_m.slice(12,14)+"日",u.a.post(m+"api/mq/find_patient",_()({keyword:this.idCard_m,sex:"",start_time:"",end_time:"",op_code:""})).then(function(t){console.log(t),200301==t.data.status&&(console.log(123),""!=t.data.msg[0].CARD_ID_NUMBER?(e.icCard=t.data.msg[0].CARD_ID_NUMBER,e.hasIcCard=!0):t.data.msg.length>1?(e.icCard="改身份证有多条数据，请查询核实",e.hasIcCard=!0):e.hasIcCard=!1)}).catch(function(e){console.log(e)})}},computedAge_w:function(){var e=this;if(""!=this.idCard_w){var t=(new Date).getFullYear();this.age_w=t-this.idCard_w.slice(6,10),this.birthday_w=this.idCard_w.slice(6,10)+"年"+this.idCard_w.slice(10,12)+"月"+this.idCard_w.slice(12,14)+"日",u.a.post(m+"api/mq/find_patient",_()({keyword:this.idCard_w,sex:"",start_time:"",end_time:"",op_code:""})).then(function(t){console.log(t),200301==t.data.status&&(console.log(123),""!=t.data.msg[0].CARD_ID_NUMBER?(e.icCard=t.data.msg[0].CARD_ID_NUMBER,e.hasIcCard=!0):t.data.msg.length>1?(e.icCard="改身份证有多条数据，请查询核实",e.hasIcCard=!0):e.hasIcCard=!1)}).catch(function(e){console.log(e)})}},getHospital:function(){var e=this;u.a.get(m+"api/his/hospital_list").then(function(t){if(console.log(t),200201==t.data.status){e.hospitalArr=t.data.msg,e.hospitalArr_new=t.data.msg;for(var a=function(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0&&s[r].substring(0,i)===t)return s[r].substr(i+1)}(window.location.href,"hospitalId"),i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNoZ==a&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo,e.hospitalNum=e.hospitalArr[i].hospitalNo,e.getService())}}).catch(function(e){console.log(e)})},getService:function(){var e=this;u.a.get(m+"api/sys/get_wait_doctor?hos_id="+this.hospitalNum).then(function(t){console.log(t),200026==t.data.status?(e.serviceArr=t.data.msg,e.serviceArr_new=t.data.msg):(e.tips=t.data.status+t.data.desc,e.tipsPop=!0)}).catch(function(t){console.log(t),e.tips=t,e.tipsPop=!0})}},beforeMount:function(){this.getHospital()},mounted:function(){function e(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0){if(s[r].substring(0,i)===t)return s[r].substr(i+1)}else;}this.getDeviceMsg();var t=window.location.href;this.opNo=e(t,"opNo"),this.opName=e(t,"opName"),this.fkPerson=e(t,"opName")}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"newRegister"},[a("div",{staticClass:"header"},[a("p",[a("span",[e._v(e._s(e.msg))])]),e._v(" "),a("p",[a("ul",[e._m(0),e._v(" "),a("li",[a("el-input",{attrs:{placeholder:"请输入设备编号",disabled:e.deviceNum},on:{blur:e.bulrDevice},model:{value:e.deviceInput,callback:function(t){e.deviceInput=t},expression:"deviceInput"}})],1),e._v(" "),a("li",{staticStyle:{"margin-left":"10px"}},[a("el-button",{on:{click:e.editDevice}},[e._v("编辑")])],1)])])]),e._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"main_top clear"},[e._m(1),e._v(" "),a("ul",[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("发卡机构：")]),e._v(" "),a("el-select",{staticStyle:{width:"55%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.hospitalFilter},on:{focus:e.enter},model:{value:e.hospitalIndex,callback:function(t){e.hospitalIndex=t},expression:"hospitalIndex"}},e._l(e.hospitalArr,function(t){return a("el-option",{key:t.hospitalName,attrs:{label:t.hospitalName,value:t.hospitalNo}},[a("span",[e._v(e._s(t.hospitalName))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",{staticStyle:{width:"30%"}},[a("el-select",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"90%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.deviceFilter},on:{focus:e.enter,change:e.selectUser},model:{value:e.deviceSelect,callback:function(t){e.deviceSelect=t},expression:"deviceSelect"}},e._l(e.deviceMsgArr,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.id}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(t.sex))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.is_gzt))])])}))],1),e._v(" "),a("li",{staticStyle:{width:"18%",float:"right"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning"},on:{click:e.getPrevUserMsg}},[e._v("最近一条")])],1)])]),e._v(" "),a("div",{staticClass:"main_msg clear"},[a("div",{staticClass:"main_msg_w"},[a("h1",[a("span",[e._v("女方信息")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.gztShow_w,expression:"gztShow_w"}],style:{color:e.bgcolor_w,float:e.right,fontSize:e.fontSize+"px"}},[e._v(e._s(e.gztMsg_w))])]),e._v(" "),a("div",{staticClass:"msg_left_w"},[a("img",{staticStyle:{width:"110px",height:"130px"},attrs:{src:e.idImg_w,alt:""}}),e._v(" "),a("img",{staticStyle:{width:"110px",height:"130px"},attrs:{src:e.faceImg_w,alt:""}})]),e._v(" "),a("ul",{staticClass:"clear"},[a("li",[a("label",{attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{attrs:{placeholder:"姓名"},on:{input:function(t){e.nameValue(e.name_w)}},model:{value:e.name_w,callback:function(t){e.name_w=t},expression:"name_w"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"性别",filterMethod:e.sexFilter_w},on:{focus:e.enter},model:{value:e.sex_w,callback:function(t){e.sex_w=t},expression:"sex_w"}},e._l(e.sexArr_w,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))])])}))],1),e._v(" "),a("li",{staticStyle:{width:"100%"}},[a("label",{attrs:{for:""}},[e._v("身份证：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"身份证"},on:{blur:e.computedAge_w},model:{value:e.idCard_w,callback:function(t){e.idCard_w=t},expression:"idCard_w"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("国籍：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.countryFilter_w},on:{focus:e.enter},model:{value:e.country_w,callback:function(t){e.country_w=t},expression:"country_w"}},e._l(e.countryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("生日：")]),e._v(" "),a("el-input",{attrs:{placeholder:"生日"},model:{value:e.birthday_w,callback:function(t){e.birthday_w=t},expression:"birthday_w"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("民族：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.nationFilter_w},on:{focus:e.enter},model:{value:e.nation_w,callback:function(t){e.nation_w=t},expression:"nation_w"}},e._l(e.nationArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("年龄：")]),e._v(" "),a("el-input",{attrs:{placeholder:"年龄"},model:{value:e.age_w,callback:function(t){e.age_w=t},expression:"age_w"}})],1),e._v(" "),a("li",{staticStyle:{width:"100%","border-bottom":"1px dashed #ccc","padding-bottom":"3%",height:"60px"}},[a("label",{attrs:{for:""}},[e._v("户口地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"户口地址"},model:{value:e.homeTown_w,callback:function(t){e.homeTown_w=t},expression:"homeTown_w"}})],1),e._v(" "),a("li",{staticStyle:{width:"100%"}},[a("label",{attrs:{for:""}},[e._v("现住址：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"现住址"},model:{value:e.address_w,callback:function(t){e.address_w=t},expression:"address_w"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("居住地：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.placeFilter_w},on:{focus:e.enter},model:{value:e.place_w,callback:function(t){e.place_w=t},expression:"place_w"}},e._l(e.placeArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("婚姻：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.marryFilter_w},on:{focus:e.enter},model:{value:e.marry_w,callback:function(t){e.marry_w=t},expression:"marry_w"}},e._l(e.marryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("职业：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.jobFilter_w},on:{focus:e.enter},model:{value:e.job_w,callback:function(t){e.job_w=t},expression:"job_w"}},e._l(e.jobArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("手机号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"手机号"},model:{value:e.phone_w,callback:function(t){e.phone_w=t},expression:"phone_w"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("接待客服：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.serviceFilter_w},on:{focus:e.enter},model:{value:e.service_w,callback:function(t){e.service_w=t},expression:"service_w"}},e._l(e.serviceArr,function(t){return a("el-option",{key:t.doc_name,attrs:{label:t.doc_name,value:t.doc_name}},[a("span",[e._v(e._s(t.doc_name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("就诊卡：")]),e._v(" "),a("el-input",{attrs:{placeholder:"就诊卡"},model:{value:e.icCard_w,callback:function(t){e.icCard_w=t},expression:"icCard_w"}})],1)])]),e._v(" "),a("div",{staticClass:"main_msg_m"},[a("h1",[a("span",[e._v("男方信息")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.gztShow_m,expression:"gztShow_m"}],style:{color:e.bgcolor_m,float:e.right,fontSize:e.fontSize+"px"}},[e._v(e._s(e.gztMsg_m))])]),e._v(" "),a("div",{staticClass:"msg_left_w"},[a("img",{staticStyle:{width:"110px",height:"130px"},attrs:{src:e.idImg_m,alt:""}}),e._v(" "),a("img",{staticStyle:{width:"110px",height:"130px"},attrs:{src:e.faceImg_m,alt:""}})]),e._v(" "),a("ul",{staticClass:"clear"},[a("li",[a("label",{attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{attrs:{placeholder:"姓名"},on:{input:function(t){e.nameValue(e.name_m)}},model:{value:e.name_m,callback:function(t){e.name_m=t},expression:"name_m"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"性别",filterMethod:e.sexFilter_m},on:{focus:e.enter},model:{value:e.sex_m,callback:function(t){e.sex_m=t},expression:"sex_m"}},e._l(e.sexArr_m,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))])])}))],1),e._v(" "),a("li",{staticStyle:{width:"100%"}},[a("label",{attrs:{for:""}},[e._v("身份证：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"身份证"},on:{blur:e.computedAge_m},model:{value:e.idCard_m,callback:function(t){e.idCard_m=t},expression:"idCard_m"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("国籍：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.countryFilter_m},on:{focus:e.enter},model:{value:e.country_m,callback:function(t){e.country_m=t},expression:"country_m"}},e._l(e.countryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("生日：")]),e._v(" "),a("el-input",{attrs:{placeholder:"生日"},model:{value:e.birthday_m,callback:function(t){e.birthday_m=t},expression:"birthday_m"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("民族：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.nationFilter_m},on:{focus:e.enter},model:{value:e.nation_m,callback:function(t){e.nation_m=t},expression:"nation_m"}},e._l(e.nationArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("年龄：")]),e._v(" "),a("el-input",{attrs:{placeholder:"生日"},model:{value:e.age_m,callback:function(t){e.age_m=t},expression:"age_m"}})],1),e._v(" "),a("li",{staticStyle:{width:"100%","border-bottom":"1px dashed #ccc","padding-bottom":"3%",height:"60px"}},[a("label",{attrs:{for:""}},[e._v("户口地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"户口地址"},model:{value:e.homeTown_m,callback:function(t){e.homeTown_m=t},expression:"homeTown_m"}})],1),e._v(" "),a("li",{staticStyle:{width:"100%"}},[a("label",{attrs:{for:""}},[e._v("现住址：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"现住址"},model:{value:e.address_m,callback:function(t){e.address_m=t},expression:"address_m"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("居住地：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.placeFilter_m},on:{focus:e.enter},model:{value:e.place_m,callback:function(t){e.place_m=t},expression:"place_m"}},e._l(e.placeArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("婚姻：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.marryFilter_m},on:{focus:e.enter},model:{value:e.marry_m,callback:function(t){e.marry_m=t},expression:"marry_m"}},e._l(e.marryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("职业：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.jobFilter_m},on:{focus:e.enter},model:{value:e.job_m,callback:function(t){e.job_m=t},expression:"job_m"}},e._l(e.jobArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("手机号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"手机号"},model:{value:e.phone_m,callback:function(t){e.phone_m=t},expression:"phone_m"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("接待客服：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.serviceFilter_m},on:{focus:e.enter},model:{value:e.service_m,callback:function(t){e.service_m=t},expression:"service_m"}},e._l(e.serviceArr,function(t){return a("el-option",{key:t.doc_name,attrs:{label:t.doc_name,value:t.doc_name}},[a("span",[e._v(e._s(t.doc_name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("就诊卡：")]),e._v(" "),a("el-input",{attrs:{placeholder:"就诊卡"},model:{value:e.icCard_m,callback:function(t){e.icCard_m=t},expression:"icCard_m"}})],1)])])])]),e._v(" "),a("div",{staticClass:"footer clear"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"warning"},on:{click:e.back}},[e._v("返回主菜单")]),e._v(" "),a("ul",{staticClass:"clear"},[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("发卡人：")]),e._v(" "),a("el-input",{attrs:{placeholder:"发卡人",disabled:""},model:{value:e.fkPerson,callback:function(t){e.fkPerson=t},expression:"fkPerson"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("预约号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"预约号"},model:{value:e.orderNum,callback:function(t){e.orderNum=t},expression:"orderNum"}})],1),e._v(" "),a("li",{staticStyle:{width:"16%"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning",disabled:e.subMsgHis},on:{click:e.subHisBtn}},[e._v("信息提交至HIS")])],1),e._v(" "),a("li",{staticStyle:{width:"13%","margin-left":"2%"}},[a("el-button",{attrs:{type:"warning",disabled:e.healthCard},on:{click:e.healthCardBtn}},[e._v("生成健康卡")])],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.tipsPop,width:"30%"},on:{"update:visible":function(t){e.tipsPop=t}}},[a("span",[e._v(e._s(e.tips))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.tipsPop=!1}}},[e._v("关 闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.hasIcCard,width:"30%"},on:{"update:visible":function(t){e.hasIcCard=t}}},[a("span",[e._v("该身份证已有就诊卡号："+e._s(e.icCard))]),e._v(" "),a("p",[e._v("国政通校验结果:"),a("span",{staticStyle:{color:"#f60","margin-left":"15px"}},[e._v(e._s(e.gztMsg))])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.delMsg}},[e._v("清空数据")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.inquire}},[e._v("用户查询")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.order}},[e._v("立即挂号")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.gztPop,width:"30%"},on:{"update:visible":function(t){e.gztPop=t}}},[a("p",[e._v("国政通校验结果："),a("span",{staticStyle:{color:"#f60"}},[e._v(e._s(e.gztMsg))])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.gztPop=!1}}},[e._v("关 闭")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("设备编号：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticStyle:{float:"left",height:"70px",width:"30%","padding-left":"4%"}},[t("span",{staticStyle:{width:"40px",height:"40px","border-radius":"50%","background-color":"#e6a23c",display:"inline-block","font-size":"14px","text-align":"center","line-height":"40px",border:"1px solid #666"}},[this._v("1")]),this._v(" "),t("span",{staticStyle:{color:"#ccc",height:"70px","line-height":"70px"}},[this._v("———")]),this._v(" "),t("span",{staticStyle:{width:"40px",height:"40px","border-radius":"50%","background-color":"#ccc",display:"inline-block","font-size":"14px","text-align":"center","line-height":"40px",border:"1px solid #666"}},[this._v("2")]),this._v(" "),t("span",{staticStyle:{"font-size":"16px",color:"#999"}},[this._v("初诊登记")])])}]};var oe,ne=a("VU/8")(se,re,!1,function(e){a("D0L3"),a("KBjh")},"data-v-e908f276",null).exports,le={data:function(){return{msg:"补录配偶",deviceInput:localStorage.getItem("deviceId"),deviceNum:!0,tipsPop:!1,tips:"",loading:!1,hasIcCard:!1,icCard:"",gztMsg:"",gztPop:!1,subMsgHis:!0,healthCard:!0,name_w:"",sex_w:"",idCard_w:"",country_w:"中国",birthday_w:"",nation_w:"",age_w:"",homeTown_w:"",address_w:"",place_w:"乌鲁木齐",marry_w:"已婚",job_w:"个体经营者",phone_w:"",service_w:"",icCard_w:"",faceImg_w:a("WAYU"),idImg_w:a("k78f"),gztMsg_w:"",gztShow_w:"",bgcolor_w:"",idCard_img_w:"",scene_face_image_w:"",verify_result_w:"",name_m:"",sex_m:"",idCard_m:"",country_m:"中国",birthday_m:"",nation_m:"",age_m:"",homeTown_m:"",address_m:"",place_m:"乌鲁木齐",marry_m:"已婚",job_m:"个体经营者",phone_m:"",service_m:"",icCard_m:"",faceImg_m:a("WAYU"),idImg_m:a("k78f"),gztMsg_m:"",gztShow_m:"",bgcolor_m:"",right:"right",fontSize:"14",idCard_img_m:"",scene_face_image_m:"",verify_result_m:"",fkPerson:"",orderNum:"",hospitalArr:[],hospitalArr_new:[],hospitalIndex:"",hospitalNum:"",sexArr_m:[{name:"N",value:"男"},{name:"N",value:"女"}],sexArr_new_m:[],sexArr_w:[{name:"N",value:"男"},{name:"N",value:"女"}],sexArr_new_w:[],countryArr:p,countryArr_new:p,nationArr:g,nationArr_new:g,placeArr:f,placeArr_new:f,marryArr:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],marryArr_new:[{name:"YH",value:"已婚"},{name:"WH",value:"未婚"},{name:"ZH",value:"再婚"},{name:"SO",value:"丧偶"},{name:"QT",value:"其他"}],jobArr:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],jobArr_new:[{name:"GJGWY",value:"国家公务员"},{name:"ZYJSRY",value:"专业技术人员"},{name:"ZY",value:"职员"},{name:"QYGLRY",value:"企业管理人员"},{name:"GR",value:"工人"},{name:"NM",value:"农民"},{name:"XS",value:"学生"},{name:"XYJR",value:"现役军人"},{name:"ZYZYZ",value:"自由职业者"},{name:"GTJYZ",value:"个体经营者"},{name:"WYRY",value:"无业人员"},{name:"TXRY",value:"退（离）休人员"},{name:"QT",value:"其他"}],serviceArr:[],serviceArr_new:[],deviceMsgArr:[],deviceMsgArr_new:[],deviceSelect:"",opNo:"",opName:"",nameDisabled_m:!1,sexDisabled_m:!1,idCardDisabled_m:!1,countryDisabled_m:!1,birthdayDisabled_m:!1,nationDisabled_m:!1,ageDisabled_m:!1,homeTownDisabled_m:!1,addressDisabled_m:!1,placeDisabled_m:!1,marryDisabled_m:!1,jobDisabled_m:!1,phoneDisabled_m:!1,serviceDisabled_m:!1,icCardDisabled_m:!1,nameDisabled_w:!1,sexDisabled_w:!1,idCardDisabled_w:!1,countryDisabled_w:!1,birthdayDisabled_w:!1,nationDisabled_w:!1,ageDisabled_w:!1,homeTownDisabled_w:!1,addressDisabled_w:!1,placeDisabled_w:!1,marryDisabled_w:!1,jobDisabled_w:!1,phoneDisabled_w:!1,serviceDisabled_w:!1,icCardDisabled_w:!1}},methods:(oe={back:function(){this.$router.push({path:"/"})},editDevice:function(){this.deviceNum=!1},bulrDevice:function(){var e=this;this.deviceNum=!0;var t=JSON.parse(this.$route.query.data);"女"==t.PHYSI_SEX_NAME?u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/listm").then(function(t){if(console.log(t),200040==t.data.status){e.deviceMsgArr=t.data.msg,e.deviceMsgArr_new=t.data.msg;for(var a=0;a<e.deviceMsgArr.length;a++)0==e.deviceMsgArr[a].sex?e.deviceMsgArr[a].sex="男":1==e.deviceMsgArr[a].sex&&(e.deviceMsgArr[a].sex="女"),-2==e.deviceMsgArr[a].is_gzt?e.deviceMsgArr[a].is_gzt="失败":1==e.deviceMsgArr[a].is_gzt&&(e.deviceMsgArr[a].is_gzt="成功")}}).catch(function(e){console.log(e)}):"男"==t.PHYSI_SEX_NAME&&u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/listw").then(function(t){if(console.log(t),200040==t.data.status){e.deviceMsgArr=t.data.msg,e.deviceMsgArr_new=t.data.msg;for(var a=0;a<e.deviceMsgArr.length;a++)0==e.deviceMsgArr[a].sex?e.deviceMsgArr[a].sex="男":1==e.deviceMsgArr[a].sex&&(e.deviceMsgArr[a].sex="女"),-2==e.deviceMsgArr[a].is_gzt?e.deviceMsgArr[a].is_gzt="失败":1==e.deviceMsgArr[a].is_gzt&&(e.deviceMsgArr[a].is_gzt="成功")}}).catch(function(e){console.log(e)})},enter:function(){},computedAge_m:function(){if(""!=this.idCard_m){var e=(new Date).getFullYear();this.age_m=e-this.idCard_m.slice(6,10),this.birthday_m=this.idCard_m.slice(6,10)+"年"+this.idCard_m.slice(10,12)+"月"+this.idCard_m.slice(12,14)+"日"}},computedAge_w:function(){if(""!=this.idCard_w){var e=(new Date).getFullYear();this.age_w=e-this.idCard_w.slice(6,10),this.birthday_w=this.idCard_w.slice(6,10)+"年"+this.idCard_w.slice(10,12)+"月"+this.idCard_w.slice(12,14)+"日"}},hospitalFilter:function(e){if(e){var t=[];this.hospitalArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.hospitalName.indexOf(e)||t.push(a)}),this.hospitalArr=t}else this.hospitalArr=this.hospitalArr_new},deviceFilter:function(e){if(e){var t=[];this.deviceMsgArr_new.forEach(function(a,i){0!=a.sex.toUpperCase().indexOf(e.toUpperCase())&&0!=a.name.indexOf(e)||t.push(a)}),this.deviceMsgArr=t}else this.deviceMsgArr=this.deviceMsgArr_new},sexFilter_m:function(e){if(e){var t=[];this.sexArr_new_m.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sexArr=t}else this.sexArr=this.sexArr_new_m},sexFilter_w:function(e){if(e){var t=[];this.sexArr_new_w.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.sexArr_w=t}else this.sexArr_w=this.sexArr_new_w},countryFilter_m:function(e){if(e){var t=[];this.countryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.countryArr=t}else this.countryArr=this.countryArr_new},countryFilter_w:function(e){if(e){var t=[];this.countryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.countryArr=t}else this.countryArr=this.countryArr_new},nationFilter_m:function(e){if(e){var t=[];this.nationArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.nationArr=t}else this.nationArr=this.nationArr_new},nationFilter_w:function(e){if(e){var t=[];this.nationArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.nationArr=t}else this.nationArr=this.nationArr_new},placeFilter_m:function(e){if(e){var t=[];this.placeArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.placeArr=t}else this.placeArr=this.placeArr_new},placeFilter_w:function(e){if(e){var t=[];this.placeArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.placeArr=t}else this.placeArr=this.placeArr_new},marryFilter_m:function(e){if(e){var t=[];this.placeArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.placeArr=t}else this.placeArr=this.placeArr_new},marryFilter_w:function(e){if(e){var t=[];this.marryArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.marryArr=t}else this.marryArr=this.marryArr_new},jobFilter_m:function(e){if(e){var t=[];this.jobArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.jobArr=t}else this.jobArr=this.jobArr_new},jobFilter_w:function(e){if(e){var t=[];this.jobArr_new.forEach(function(a,i){0!=a.name.toUpperCase().indexOf(e.toUpperCase())&&0!=a.value.indexOf(e)||t.push(a)}),this.jobArr=t}else this.jobArr=this.jobArr_new},serviceFilter_m:function(e){if(e){var t=[];this.serviceArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.doc_name.indexOf(e)||t.push(a)}),this.serviceArr=t}else this.serviceArr=this.serviceArr_new},serviceFilter_w:function(e){if(e){var t=[];this.serviceArr_new.forEach(function(a,i){0!=a.pinyin.toUpperCase().indexOf(e.toUpperCase())&&0!=a.doc_name.indexOf(e)||t.push(a)}),this.serviceArr=t}else this.serviceArr=this.serviceArr_new},nameValue:function(){""!=this.name_w||""!=this.name_m?this.subMsgHis=!1:this.subMsgHis=!0},selectUser:function(){var e=this,t=this.$loading({lock:!0,text:"国政通验证身份中..请稍后",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 1)",customClass:"loadingFontSize"});u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/"+this.deviceSelect).then(function(a){if(console.log(a),t.close(),200040==a.data.status){if(localStorage.setItem("deviceId",a.data.msg.device_id),0==a.data.msg.sex){var i="";i="男";var s=(new Date).getFullYear();e.name_m=a.data.msg.name,e.sex_m=i,e.idCard_m=a.data.msg.id_number,e.birthday_m=a.data.msg.birthday,e.nation_m=a.data.msg.nation,e.age_m=s-a.data.msg.birthday.slice(0,4),e.homeTown_m=a.data.msg.address,e.phone_m=a.data.msg.phone,e.faceImg_m="data:image/png;base64,"+a.data.msg.face_image,e.idImg_m="data:image/png;base64,"+a.data.msg.id_image,e.idCard_img_m=a.data.msg.id_image,e.scene_face_image_m=a.data.msg.face_image,e.verify_result_m=a.data.msg.is_gzt,e.icCard=a.data.msg.medical_card_number,e.icCard_m=a.data.msg.medical_card_number,1==a.data.msg.is_gzt?(e.gztMsg_m="国政通校验成功",e.gztShow_m=!0,e.bgcolor_m="blue"):(e.gztMsg_m="国政通校验失败",e.gztShow_m=!0,e.bgcolor_m="red")}else if(1==a.data.msg.sex){i="";i="女";s=(new Date).getFullYear();e.name_w=a.data.msg.name,e.sex_w=i,e.idCard_w=a.data.msg.id_number,e.birthday_w=a.data.msg.birthday,e.nation_w=a.data.msg.nation,e.age_w=s-a.data.msg.birthday.slice(0,4),e.homeTown_w=a.data.msg.address,e.phone_w=a.data.msg.phone,e.faceImg_w="data:image/png;base64,"+a.data.msg.face_image,e.idImg_w="data:image/png;base64,"+a.data.msg.id_image,e.idCard_img_w=a.data.msg.id_image,e.scene_face_image_w=a.data.msg.face_image,e.verify_result_w=a.data.msg.is_gzt,e.icCard=a.data.msg.medical_card_number,e.icCard_w=a.data.msg.medical_card_number,1==a.data.msg.is_gzt?(e.gztMsg_w="国政通校验成功",e.gztShow_w=!0,e.bgcolor_w="blue"):(e.gztMsg_w="国政通校验失败",e.gztShow_w=!0,e.bgcolor_w="red")}""==a.data.msg.medical_card_number?(e.subMsgHis=!1,e.healthCard=!0,e.icCard=a.data.msg.medical_card_number,e.hasIcCard=!1,e.gztPop=!0):(e.subMsgHis=!0,e.healthCard=!1,e.hasIcCard=!0,e.gztPop=!1),1==a.data.msg.is_gzt&&a.data.msg.score>100?e.gztMsg="该用户已实名":-1==a.data.msg.is_gzt?e.gztMsg="未检测到有效人脸，请重新拍照":0==a.data.msg.is_gzt?e.gztMsg="国政通连接失败，请重新试一次":-2==a.data.msg.is_gzt?(e.gztMsg="国政通验证失败，人脸匹配度太低"+a.data.msg.score,e.gztNumShow=!0):1==a.data.msg.is_gzt&&(e.gztMsg="国政通实名成功"+a.data.msg.score)}else e.tips="获取信息失败"+a.data.status,e.tipsPop=!0}).catch(function(e){console.log(e),t.close()})},getPrevUserMsg:function(){var e=this;if(0==this.deviceMsgArr.length)this.tips="暂无设备信息",this.tipsPop=!0;else{var t=this.$loading({lock:!0,text:"国政通验证身份中..请稍后",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 1)",customClass:"loadingFontSize"});u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/"+this.deviceMsgArr[0].id).then(function(a){if(console.log(a),t.close(),200040==a.data.status){if(localStorage.setItem("deviceId",a.data.msg.device_id),0==a.data.msg.sex){var i="";i="男";var s=(new Date).getFullYear();e.name_m=a.data.msg.name,e.sex_m=i,e.idCard_m=a.data.msg.id_number,e.birthday_m=a.data.msg.birthday,e.nation_m=a.data.msg.nation,e.age_m=s-a.data.msg.birthday.slice(0,4),e.homeTown_m=a.data.msg.address,e.faceImg_m="data:image/png;base64,"+a.data.msg.face_image,e.idImg_m="data:image/png;base64,"+a.data.msg.id_image,e.idCard_img_m=a.data.msg.id_image,e.scene_face_image_m=a.data.msg.face_image,e.verify_result_m=a.data.msg.is_gzt,e.icCard=a.data.msg.medical_card_number,e.icCard_m=a.data.msg.medical_card_number,1==a.data.msg.is_gzt?(e.gztMsg_m="国政通校验成功",e.gztShow_m=!0,e.bgcolor_m="blue"):(e.gztMsg_m="国政通校验失败",e.gztShow_m=!0,e.bgcolor_m="red")}else if(1==a.data.msg.sex){i="";i="女";s=(new Date).getFullYear();e.name_w=a.data.msg.name,e.sex_w=i,e.idCard_w=a.data.msg.id_number,e.birthday_w=a.data.msg.birthday,e.nation_w=a.data.msg.nation,e.age_w=s-a.data.msg.birthday.slice(0,4),e.homeTown_w=a.data.msg.address,e.faceImg_w="data:image/png;base64,"+a.data.msg.face_image,e.idImg_w="data:image/png;base64,"+a.data.msg.id_image,e.idCard_img_w=a.data.msg.id_image,e.scene_face_image_w=a.data.msg.face_image,e.verify_result_w=a.data.msg.is_gzt,e.icCard=a.data.msg.medical_card_number,e.icCard_w=a.data.msg.medical_card_number,1==a.data.msg.is_gzt?(e.gztMsg_w="国政通校验成功",e.gztShow_w=!0,e.bgcolor_w="blue"):(e.gztMsg_w="国政通校验失败",e.gztShow_w=!0,e.bgcolor_w="red"),""==a.data.msg.medical_card_number?e.subMsgHis=!1:e.subMsgHis=!0}""==a.data.msg.medical_card_number?(e.subMsgHis=!1,e.healthCard=!0,e.icCard=a.data.msg.medical_card_number,e.hasIcCard=!1,e.gztPop=!0):(e.subMsgHis=!0,e.healthCard=!1,e.hasIcCard=!0,e.gztPop=!1),1==a.data.msg.is_gzt&&a.data.msg.score>100?e.gztMsg="该用户已实名":-1==a.data.msg.is_gzt?e.gztMsg="未检测到有效人脸，请重新拍照":0==a.data.msg.is_gzt?e.gztMsg="国政通连接失败，请重新试一次":-2==a.data.msg.is_gzt?(e.gztMsg="国政通验证失败，人脸匹配度太低"+a.data.msg.score,e.gztNumShow=!0):1==a.data.msg.is_gzt&&(e.gztMsg="国政通实名成功"+a.data.msg.score)}else 400040==a.data.status&&(e.tips="请先放入身份证进行检测",e.tipsPop=!0)}).catch(function(a){console.log(a),t.close(),e.tips=a,e.tipsPop=!0})}},getDeviceMsg:function(){var e=this;""==this.deviceInput||null==this.deviceInput?(this.tips="请先输入设备编号",this.tipsPop=!0):"女"==JSON.parse(this.$route.query.data).PHYSI_SEX_NAME?u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/listm").then(function(t){if(console.log(t),200040==t.data.status){e.deviceMsgArr=t.data.msg,e.deviceMsgArr_new=t.data.msg;for(var a=0;a<e.deviceMsgArr.length;a++)0==e.deviceMsgArr[a].sex?e.deviceMsgArr[a].sex="男":1==e.deviceMsgArr[a].sex&&(e.deviceMsgArr[a].sex="女"),-2==e.deviceMsgArr[a].is_gzt?e.deviceMsgArr[a].is_gzt="失败":1==e.deviceMsgArr[a].is_gzt&&(e.deviceMsgArr[a].is_gzt="成功")}}).catch(function(e){console.log(e)}):u.a.get(m+"api/sensetime/data/"+this.deviceInput+"/listw").then(function(t){if(console.log(t),200040==t.data.status){e.deviceMsgArr=t.data.msg,e.deviceMsgArr_new=t.data.msg;for(var a=0;a<e.deviceMsgArr.length;a++)0==e.deviceMsgArr[a].sex?e.deviceMsgArr[a].sex="男":1==e.deviceMsgArr[a].sex&&(e.deviceMsgArr[a].sex="女"),-2==e.deviceMsgArr[a].is_gzt?e.deviceMsgArr[a].is_gzt="失败":1==e.deviceMsgArr[a].is_gzt&&(e.deviceMsgArr[a].is_gzt="成功")}}).catch(function(e){console.log(e)})},subHisBtn:function(){var e=this,t=/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/;if(console.log(this.phone_w),""==this.name_m||""!=this.sex_m&&""!=this.idCard_m&&""!=this.nation_m)if(""==this.name_w||""!=this.sex_w&&""!=this.idCard_w&&""!=this.nation_w)if(""==this.name_m||t.test(this.phone_m))if(""==this.name_w||t.test(this.phone_w)){console.log(this.hospitalNum);var a=_()({OP_NO:this.opNo,OP_Name:this.opName,OP_IssuerNo:this.opNo,OP_Issuer:this.opName,channel:"kefu",hospitalNo:this.hospitalNum,PER_Service:this.orderNum,name_m:this.name_m,sex_m:this.sex_m,identif_m:this.idCard_m,marriagestatus_m:this.marry_w,age_m:this.age_m,birthday_m:this.birthday_m,nationality_m:this.nation_m,country_m:this.country_m,identityaddress_m:this.address_m,profession_m:this.job_m,phone_m:this.phone_m,hometown_m:this.place_m,perCusService_m:this.service_m,visit_card_m:this.icCard_m,registered_addr_m:this.homeTown_m,name_w:this.name_w,sex_w:this.sex_w,identif_w:this.idCard_w,marriagestatus_w:this.marry_w,age_w:this.age_w,birthday_w:this.birthday_w,nationality_w:this.nation_w,country_w:this.country_w,identityaddress_w:this.address_w,profession_w:this.job_w,phone_w:this.phone_w,hometown_w:this.place_w,perCusService_w:this.service_w,visit_card_w:this.icCard_w,registered_addr_w:this.homeTown_w});this.loading=!0,u.a.post(m+"api/his/create_patient",a).then(function(t){console.log(t),e.loading=!1,200202==t.data.status?(e.subMsgHis=!0,e.healthCard=!1,e.icCard_m=t.data.msg.visit_card_m,e.icCard_w=t.data.msg.visit_card_w,e.$message({message:"提交成功",type:"success"})):400201==t.data.status?(e.tips=t.data.status+" "+t.data.desc,e.tipsPop=!0):400400==t.data.status?(e.tips=t.data.status+" "+t.data.desc,e.tipsPop=!0):400003==t.data.status?(e.tips="参数错误"+t.data.status+" "+t.data.desc,e.tipsPop=!0):(e.tips="服务器错误"+t.data.status+" "+t.data.desc,e.tipsPop=!0)}).catch(function(t){e.loading=!1,console.log(t),e.tips=t,e.tipsPop=!0})}else this.tips="请输入女方正确的手机号",this.tipsPop=!0;else this.tips="请输入男方正确的手机号",this.tipsPop=!0;else this.tips="请先完善女方信息",this.tipsPop=!0;else this.tips="请先完善男方信息",this.tipsPop=!0},healthCardBtn:function(){var e=this,t=/^[1][0,1,2,3,4,5,6,7,8,9][0-9]{9}$/,a="",i="";if(a=1==this.verify_result_m,i=1==this.verify_result_w,""==this.name_w||t.test(this.phone_w))if(""==this.name_m||t.test(this.phone_m)){this.loading=!0;var s=_()({OP_NO:this.opNo,OP_Name:this.opName,OP_IssuerNo:this.opNo,OP_Issuer:this.opName,channel:"kefu",hospitalNo:this.hospitalNum,PER_Service:this.orderNum,medical_card_number_m:this.icCard_m,name_m:this.name_m,identif_m:this.idCard_m,marriagestatus_m:this.marry_w,age_m:this.age_m,birthday_m:this.birthday_m,nationality_m:this.nation_m,country_m:this.country_m,identityaddress_m:this.address_m,profession_m:this.job_m,phone_m:this.phone_m,hometown_m:this.place_m,sex_m:this.sex_m,perCusService_m:this.service_m,id_face_image_m:this.idCard_img_m,scene_face_image_m:this.face_img_m,is_auth_m:a,registered_addr_m:this.homeTown_m,idcardtype_m:"身份证",medical_card_number_w:this.icCard_w,name_w:this.name_w,identif_w:this.idCard_w,marriagestatus_w:this.marry_w,age_w:this.age_w,birthday_w:this.birthday_w,nationality_w:this.nation_w,country_w:this.country_w,identityaddress_w:this.address_w,profession_w:this.job_w,phone_w:this.phone_w,hometown_w:this.place_w,sex_w:this.sex_w,perCusService_w:this.service_w,id_face_image_w:this.idCard_img_w,scene_face_image_w:this.face_img_w,is_auth_w:i,registered_addr_w:this.homeTown_w,idcardtype_w:"身份证"});u.a.post(m+"api/hospital/admin/user/auth",s).then(function(t){console.log(t),e.loading=!1,200002==t.data.status&&e.$router.push({path:"/card",query:{name_m:e.name_m,hospital:e.hospitalIndex,sex_m:e.sex_m,nation_m:e.nation_m,treat_m:e.icCard_m,phone_m:e.phone_m,idCard_m:e.idCard_m,name_w:e.name_w,sex_w:e.sex_w,nation_w:e.nation_w,treat_w:e.icCard_w,phone_w:e.phone_w,idCard_w:e.idCard_w}})}).catch(function(t){e.loading=!1,console.log(t),e.tips=t,e.tipsPop=!0})}else this.tips="请输入男方正确的手机号",this.tipsPop=!0;else this.tips="请输入女方正确的手机号",this.tipsPop=!0},delMsg:function(){var e=JSON.parse(this.$route.query.data);"男"==e.PHYSI_SEX_NAME?(this.hasIcCard=!1,this.name_w="",this.sex_w="",this.idCard_w="",this.age_w="",this.birthday_w="",this.nation_w="",this.homeTown_w="",this.icCard_w="",this.phone_w="",this.faceImg_w=a("WAYU"),this.idImg_w=a("k78f")):"女"==e.PHYSI_SEX_NAME&&(this.hasIcCard=!1,this.name_m="",this.sex_m="",this.idCard_m="",this.age_m="",this.birthday_m="",this.nation_m="",this.homeTown_m="",this.icCard_m="",this.phone_m="",this.faceImg_m=a("WAYU"),this.idImg_m=a("k78f"))},inquire:function(){this.$router.push({path:"inquire",query:{icCard:this.icCard}})},order:function(){var e=JSON.parse(this.$route.query.data);"男"==e.PHYSI_SEX_NAME?this.$router.push({path:"order",query:{treatCard:this.icCard_w}}):"女"==e.PHYSI_SEX_NAME&&this.$router.push({path:"order",query:{treatCard:this.icCard_m}})}},S()(oe,"computedAge_m",function(){var e=this;if(""!=this.idCard_m){var t=(new Date).getFullYear();this.age_m=t-this.idCard_m.slice(6,10),this.birthday_m=this.idCard_m.slice(6,10)+"年"+this.idCard_m.slice(10,12)+"月"+this.idCard_m.slice(12,14)+"日",u.a.post(m+"api/mq/find_patient",_()({keyword:this.idCard_m,sex:"",start_time:"",end_time:"",op_code:""})).then(function(t){console.log(t),200301==t.data.status&&(""!=t.data.msg[0].CARD_ID_NUMBER?(e.icCard=t.data.msg[0].CARD_ID_NUMBER,e.hasIcCard=!0):t.data.msg.length>1?(e.icCard="改身份证有多条数据，请查询核实",e.hasIcCard=!0):e.hasIcCard=!1)}).catch(function(e){console.log(e)})}}),S()(oe,"computedAge_w",function(){var e=this;if(""!=this.idCard_w){var t=(new Date).getFullYear();this.age_w=t-this.idCard_w.slice(6,10),this.birthday_w=this.idCard_w.slice(6,10)+"年"+this.idCard_w.slice(10,12)+"月"+this.idCard_w.slice(12,14)+"日",u.a.post(m+"api/mq/find_patient",_()({keyword:this.idCard_w,sex:"",start_time:"",end_time:"",op_code:""})).then(function(t){console.log(t),200301==t.data.status&&(""!=t.data.msg[0].CARD_ID_NUMBER?(e.icCard=t.data.msg[0].CARD_ID_NUMBER,e.hasIcCard=!0):t.data.msg.length>1?(e.icCard="改身份证有多条数据，请查询核实",e.hasIcCard=!0):e.hasIcCard=!1)}).catch(function(e){console.log(e)})}}),S()(oe,"getHospital",function(){var e=this;u.a.get(m+"api/his/hospital_list").then(function(t){if(console.log(t),200201==t.data.status){e.hospitalArr=t.data.msg,e.hospitalArr_new=t.data.msg;for(var a=function(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0&&s[r].substring(0,i)===t)return s[r].substr(i+1)}(window.location.href,"hospitalId"),i=0;i<e.hospitalArr.length;i++)e.hospitalArr[i].hospitalNoZ==a&&(e.indexId=e.hospitalArr[i].hospitalName,e.hospitalIndex=e.hospitalArr[i].hospitalNo,e.hospitalNum=e.hospitalArr[i].hospitalNo,e.getService())}}).catch(function(e){console.log(e)})}),S()(oe,"getService",function(){var e=this;console.log(this.hospitalNum),u.a.get(m+"api/sys/get_wait_doctor?hos_id="+this.hospitalNum).then(function(t){console.log(t),200026==t.data.status?(e.serviceArr=t.data.msg,e.serviceArr_new=t.data.msg):(e.tips=t.data.status+t.data.desc,e.tipsPop=!0)}).catch(function(t){console.log(t),e.tips=t,e.tipsPop=!0})}),S()(oe,"getQuery",function(){var e=this,t=JSON.parse(this.$route.query.data);console.log(t);var i=(new Date).getFullYear();"男"==t.PHYSI_SEX_NAME?(this.name_m=t.PAT_NAME,this.sex_m=t.PHYSI_SEX_NAME,this.idCard_m=t.ID_NUMBER,this.country_m=t.NATION_NAME,this.birthday_m=t.DATE_BIRTH.slice(0,10),this.nation_m=t.ETHNIC_NAME,this.age_m=i-t.DATE_BIRTH.slice(0,4),this.homeTown_m=t.HUKOU_ADDR,this.place_m=t.ADDR,this.marry_m=t.MARITAL_STATUS_NAME,this.job_m=t.OCCUPATION_CATEG_NAME,this.phone_m=t.PHONE_NO,this.service_m=t.BANK,this.icCard_m=t.CARD_ID_NUMBER,this.address_m=t.CURR_ADDR,this.nameDisabled_m=!0,this.sexDisabled_m=!0,this.idCardDisabled_m=!0,this.countryDisabled_m=!0,this.birthdayDisabled_m=!0,this.nationDisabled_m=!0,this.ageDisabled_m=!0,this.homeTownDisabled_m=!0,this.addressDisabled_m=!0,this.placeDisabled_m=!0,this.marryDisabled_m=!0,this.jobDisabled_m=!0,this.phoneDisabled_m=!0,this.serviceDisabled_m=!0,this.icCardDisabled_m=!0,this.sexArr_w=[{name:"N",value:"女"}],u.a.post(m+"api/accounts/user/img",_()({medical_card_number:t.CARD_ID_NUMBER})).then(function(t){console.log(t),200004==t.data.status&&(""!=t.data.msg.id_image&&""!=t.data.msg.face_image?(e.faceImg_m=t.data.msg.face_image,e.idImg_m=t.data.msg.id_image):""==t.data.msg.face_image&&""!=t.data.msg.id_image?(e.idImg_m=t.data.msg.id_image,e.faceImg_m=a("WAYU")):(e.idImg_m=a("k78f"),e.faceImg_m=a("WAYU")))}).catch(function(t){console.log(t),e.tips=t,e.tipsPop=!0})):"女"==t.PHYSI_SEX_NAME&&(this.name_w=t.PAT_NAME,this.sex_w=t.PHYSI_SEX_NAME,this.idCard_w=t.ID_NUMBER,this.country_w=t.ETHNIC_NAME,this.birthday_w=t.DATE_BIRTH.slice(0,10),this.nation_w=t.NATION_NAME,this.age_w=i-t.DATE_BIRTH.slice(0,4),this.homeTown_w=t.HUKOU_ADDR,this.place_w=t.ADDR,this.marry_w=t.MARITAL_STATUS_NAME,this.job_w=t.OCCUPATION_CATEG_NAME,this.phone_w=t.PHONE_NO,this.service_w=t.BANK,this.icCard_w=t.CARD_ID_NUMBER,this.address_w=t.CURR_ADDR,this.nameDisabled_w=!0,this.sexDisabled_w=!0,this.idCardDisabled_w=!0,this.countryDisabled_w=!0,this.birthdayDisabled_w=!0,this.nationDisabled_w=!0,this.ageDisabled_w=!0,this.homeTownDisabled_w=!0,this.addressDisabled_w=!0,this.placeDisabled_w=!0,this.marryDisabled_w=!0,this.jobDisabled_w=!0,this.phoneDisabled_w=!0,this.serviceDisabled_w=!0,this.icCardDisabled_w=!0,this.sexArr_m=[{name:"N",value:"男"}],u.a.post(m+"api/accounts/user/img",_()({medical_card_number:t.CARD_ID_NUMBER})).then(function(t){console.log(t),200004==t.data.status&&(""!=t.data.msg.id_image&&""!=t.data.msg.face_image?(e.faceImg_w=t.data.msg.face_image,e.idImg_w=t.data.msg.id_image):""==t.data.msg.face_image&&""!=t.data.msg.id_image?(e.idImg_w=t.data.msg.id_image,e.faceImg_w=a("WAYU")):(e.idImg_w=a("k78f"),e.faceImg_w=a("WAYU")))}).catch(function(t){console.log(t),e.tips=t,e.tipsPop=!0}))}),oe),mounted:function(){function e(e,t){for(var a=decodeURI(e),i=a.indexOf("?"),s=(a=a.substr(i+1)).split("&"),r=0;r<s.length;r++)if((i=s[r].indexOf("="))>0){if(s[r].substring(0,i)===t)return s[r].substr(i+1)}else;}this.getHospital(),this.getDeviceMsg(),this.getQuery();var t=window.location.href;this.opNo=e(t,"opNo"),this.opName=e(t,"opName"),this.fkPerson=e(t,"opName")}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"newRegister"},[a("div",{staticClass:"header"},[a("p",[a("span",[e._v(e._s(e.msg))])]),e._v(" "),a("p",[a("ul",[e._m(0),e._v(" "),a("li",[a("el-input",{attrs:{placeholder:"请输入设备编号",disabled:e.deviceNum},on:{blur:e.bulrDevice},model:{value:e.deviceInput,callback:function(t){e.deviceInput=t},expression:"deviceInput"}})],1),e._v(" "),a("li",{staticStyle:{"margin-left":"10px"}},[a("el-button",{on:{click:e.editDevice}},[e._v("编辑")])],1)])])]),e._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"main_top clear"},[e._m(1),e._v(" "),a("ul",[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("选择医院：")]),e._v(" "),a("el-select",{staticStyle:{width:"55%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.hospitalFilter},on:{focus:e.enter},model:{value:e.hospitalIndex,callback:function(t){e.hospitalIndex=t},expression:"hospitalIndex"}},e._l(e.hospitalArr,function(t){return a("el-option",{key:t.hospitalName,attrs:{label:t.hospitalName,value:t.hospitalNo}},[a("span",[e._v(e._s(t.hospitalName))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",{staticStyle:{width:"30%"}},[a("el-select",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"90%"},attrs:{clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.deviceFilter},on:{focus:e.enter,change:e.selectUser},model:{value:e.deviceSelect,callback:function(t){e.deviceSelect=t},expression:"deviceSelect"}},e._l(e.deviceMsgArr,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.id}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(t.sex))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.is_gzt))])])}))],1),e._v(" "),a("li",{staticStyle:{width:"18%",float:"right"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning"},on:{click:e.getPrevUserMsg}},[e._v("最近一条")])],1)])]),e._v(" "),a("div",{staticClass:"main_msg clear"},[a("div",{staticClass:"main_msg_w"},[a("h1",[a("span",[e._v("女方信息")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.gztShow_w,expression:"gztShow_w"}],style:{color:e.bgcolor_w,float:e.right,fontSize:e.fontSize+"px"}},[e._v(e._s(e.gztMsg_w))])]),e._v(" "),a("div",{staticClass:"msg_left_w"},[a("img",{staticStyle:{width:"110px",height:"130px"},attrs:{src:e.idImg_w,alt:""}}),e._v(" "),a("img",{staticStyle:{width:"110px",height:"130px"},attrs:{src:e.faceImg_w,alt:""}})]),e._v(" "),a("ul",{staticClass:"clear"},[a("li",[a("label",{attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{attrs:{placeholder:"姓名",disabled:e.nameDisabled_w},on:{input:function(t){e.nameValue(e.name_w)}},model:{value:e.name_w,callback:function(t){e.name_w=t},expression:"name_w"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.sexDisabled_w,clearable:"",filterable:"",placeholder:"性别",filterMethod:e.sexFilter_w},on:{focus:e.enter},model:{value:e.sex_w,callback:function(t){e.sex_w=t},expression:"sex_w"}},e._l(e.sexArr_w,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))])])}))],1),e._v(" "),a("li",{staticStyle:{width:"100%"}},[a("label",{attrs:{for:""}},[e._v("身份证：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"身份证",disabled:e.idCardDisabled_w},on:{blur:e.computedAge_w},model:{value:e.idCard_w,callback:function(t){e.idCard_w=t},expression:"idCard_w"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("国籍：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.countryDisabled_w,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.countryFilter_w},on:{focus:e.enter},model:{value:e.country_w,callback:function(t){e.country_w=t},expression:"country_w"}},e._l(e.countryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("生日：")]),e._v(" "),a("el-input",{attrs:{placeholder:"生日",disabled:e.birthdayDisabled_w},model:{value:e.birthday_w,callback:function(t){e.birthday_w=t},expression:"birthday_w"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("民族：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.nationDisabled_w,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.nationFilter_w},on:{focus:e.enter},model:{value:e.nation_w,callback:function(t){e.nation_w=t},expression:"nation_w"}},e._l(e.nationArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("年龄：")]),e._v(" "),a("el-input",{attrs:{placeholder:"年龄",disabled:e.ageDisabled_w},model:{value:e.age_w,callback:function(t){e.age_w=t},expression:"age_w"}})],1),e._v(" "),a("li",{staticStyle:{width:"100%","border-bottom":"1px dashed #ccc","padding-bottom":"3%",height:"60px"}},[a("label",{attrs:{for:""}},[e._v("户口地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"户口地址",disabled:e.homeTownDisabled_w},model:{value:e.homeTown_w,callback:function(t){e.homeTown_w=t},expression:"homeTown_w"}})],1),e._v(" "),a("li",{staticStyle:{width:"100%"}},[a("label",{attrs:{for:""}},[e._v("现住址：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"现住址",disabled:e.addressDisabled_w},model:{value:e.address_w,callback:function(t){e.address_w=t},expression:"address_w"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("居住地：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.placeDisabled_w,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.placeFilter_w},on:{focus:e.enter},model:{value:e.place_w,callback:function(t){e.place_w=t},expression:"place_w"}},e._l(e.placeArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("婚姻：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.marryDisabled_w,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.marryFilter_w},on:{focus:e.enter},model:{value:e.marry_w,callback:function(t){e.marry_w=t},expression:"marry_w"}},e._l(e.marryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("职业：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.jobDisabled_w,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.jobFilter_w},on:{focus:e.enter},model:{value:e.job_w,callback:function(t){e.job_w=t},expression:"job_w"}},e._l(e.jobArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("手机号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"手机号",disabled:e.phoneDisabled_w},model:{value:e.phone_w,callback:function(t){e.phone_w=t},expression:"phone_w"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("接待客服：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.serviceDisabled_w,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.serviceFilter_w},on:{focus:e.enter},model:{value:e.service_w,callback:function(t){e.service_w=t},expression:"service_w"}},e._l(e.serviceArr,function(t){return a("el-option",{key:t.doc_name,attrs:{label:t.doc_name,value:t.doc_name}},[a("span",[e._v(e._s(t.doc_name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("就诊卡：")]),e._v(" "),a("el-input",{attrs:{placeholder:"就诊卡",disabled:e.icCardDisabled_w},model:{value:e.icCard_w,callback:function(t){e.icCard_w=t},expression:"icCard_w"}})],1)])]),e._v(" "),a("div",{staticClass:"main_msg_m"},[a("h1",[a("span",[e._v("男方信息")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.gztShow_m,expression:"gztShow_m"}],style:{color:e.bgcolor_m,float:e.right,fontSize:e.fontSize+"px"}},[e._v(e._s(e.gztMsg_m))])]),e._v(" "),a("div",{staticClass:"msg_left_w"},[a("img",{staticStyle:{width:"110px",height:"130px"},attrs:{src:e.idImg_m,alt:""}}),e._v(" "),a("img",{staticStyle:{width:"110px",height:"130px"},attrs:{src:e.faceImg_m,alt:""}})]),e._v(" "),a("ul",{staticClass:"clear"},[a("li",[a("label",{attrs:{for:""}},[e._v("姓名：")]),e._v(" "),a("el-input",{attrs:{placeholder:"姓名",disabled:e.nameDisabled_m},on:{input:function(t){e.nameValue(e.name_m)}},model:{value:e.name_m,callback:function(t){e.name_m=t},expression:"name_m"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("性别：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.sexDisabled_m,clearable:"",filterable:"",placeholder:"性别",filterMethod:e.sexFilter_m},on:{focus:e.enter},model:{value:e.sex_m,callback:function(t){e.sex_m=t},expression:"sex_m"}},e._l(e.sexArr_m,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))])])}))],1),e._v(" "),a("li",{staticStyle:{width:"100%"}},[a("label",{attrs:{for:""}},[e._v("身份证：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"身份证",disabled:e.idCardDisabled_m},on:{blur:e.computedAge_m},model:{value:e.idCard_m,callback:function(t){e.idCard_m=t},expression:"idCard_m"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("国籍：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.countryDisabled_m,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.countryFilter_m},on:{focus:e.enter},model:{value:e.country_m,callback:function(t){e.country_m=t},expression:"country_m"}},e._l(e.countryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("生日：")]),e._v(" "),a("el-input",{attrs:{placeholder:"生日",disabled:e.birthdayDisabled_m},model:{value:e.birthday_m,callback:function(t){e.birthday_m=t},expression:"birthday_m"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("民族：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.nationDisabled_m,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.nationFilter_m},on:{focus:e.enter},model:{value:e.nation_m,callback:function(t){e.nation_m=t},expression:"nation_m"}},e._l(e.nationArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("年龄：")]),e._v(" "),a("el-input",{attrs:{placeholder:"年龄",disabled:e.ageDisabled_m},model:{value:e.age_m,callback:function(t){e.age_m=t},expression:"age_m"}})],1),e._v(" "),a("li",{staticStyle:{width:"100%","border-bottom":"1px dashed #ccc","padding-bottom":"3%",height:"60px"}},[a("label",{attrs:{for:""}},[e._v("户口地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"户口地址",disabled:e.homeTownDisabled_m},model:{value:e.homeTown_m,callback:function(t){e.homeTown_m=t},expression:"homeTown_m"}})],1),e._v(" "),a("li",{staticStyle:{width:"100%"}},[a("label",{attrs:{for:""}},[e._v("现住址：")]),e._v(" "),a("el-input",{staticStyle:{width:"81%"},attrs:{placeholder:"现住址",disabled:e.addressDisabled_m},model:{value:e.address_m,callback:function(t){e.address_m=t},expression:"address_m"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("居住地：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.placeDisabled_m,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.placeFilter_m},on:{focus:e.enter},model:{value:e.place_m,callback:function(t){e.place_m=t},expression:"place_m"}},e._l(e.placeArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("婚姻：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.marryDisabled_m,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.marryFilter_m},on:{focus:e.enter},model:{value:e.marry_m,callback:function(t){e.marry_m=t},expression:"marry_m"}},e._l(e.marryArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("职业：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.jobDisabled_m,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.jobFilter_m},on:{focus:e.enter},model:{value:e.job_m,callback:function(t){e.job_m=t},expression:"job_m"}},e._l(e.jobArr,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",[e._v(e._s(t.value))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("手机号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"手机号",disabled:e.phoneDisabled_m},model:{value:e.phone_m,callback:function(t){e.phone_m=t},expression:"phone_m"}})],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("接待客服：")]),e._v(" "),a("el-select",{staticStyle:{width:"64%"},attrs:{disabled:e.serviceDisabled_m,clearable:"",filterable:"",placeholder:"==请选择==",filterMethod:e.serviceFilter_m},on:{focus:e.enter},model:{value:e.service_m,callback:function(t){e.service_m=t},expression:"service_m"}},e._l(e.serviceArr,function(t){return a("el-option",{key:t.doc_name,attrs:{label:t.doc_name,value:t.doc_name}},[a("span",[e._v(e._s(t.doc_name))]),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.pinyin))])])}))],1),e._v(" "),a("li",[a("label",{attrs:{for:""}},[e._v("就诊卡：")]),e._v(" "),a("el-input",{attrs:{placeholder:"就诊卡",disabled:e.icCardDisabled_m},model:{value:e.icCard_m,callback:function(t){e.icCard_m=t},expression:"icCard_m"}})],1)])])])]),e._v(" "),a("div",{staticClass:"footer clear"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"warning"},on:{click:e.back}},[e._v("返回主菜单")]),e._v(" "),a("ul",{staticClass:"clear"},[a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("发卡人：")]),e._v(" "),a("el-input",{attrs:{placeholder:"发卡人",disabled:""},model:{value:e.fkPerson,callback:function(t){e.fkPerson=t},expression:"fkPerson"}})],1),e._v(" "),a("li",[a("label",{staticStyle:{width:"70px"},attrs:{for:""}},[e._v("预约号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"预约号"},model:{value:e.orderNum,callback:function(t){e.orderNum=t},expression:"orderNum"}})],1),e._v(" "),a("li",{staticStyle:{width:"16%"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning",disabled:e.subMsgHis},on:{click:e.subHisBtn}},[e._v("补录信息至HIS")])],1),e._v(" "),a("li",{staticStyle:{width:"13%","margin-left":"2%"}},[a("el-button",{attrs:{type:"warning",disabled:e.healthCard},on:{click:e.healthCardBtn}},[e._v("生成健康卡")])],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.tipsPop,width:"30%"},on:{"update:visible":function(t){e.tipsPop=t}}},[a("span",[e._v(e._s(e.tips))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.tipsPop=!1}}},[e._v("关 闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.hasIcCard,width:"30%"},on:{"update:visible":function(t){e.hasIcCard=t}}},[a("span",[e._v("该身份证已有就诊卡号："+e._s(e.icCard))]),e._v(" "),a("p",[e._v("国政通校验结果:"),a("span",{staticStyle:{color:"#f60","margin-left":"15px"}},[e._v(e._s(e.gztMsg))])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.delMsg}},[e._v("清空数据")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.inquire}},[e._v("用户查询")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.order}},[e._v("立即挂号")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.gztPop,width:"30%"},on:{"update:visible":function(t){e.gztPop=t}}},[a("p",[e._v("国政通校验结果："),a("span",{staticStyle:{color:"#f60"}},[e._v(e._s(e.gztMsg))])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.gztPop=!1}}},[e._v("关 闭")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",[this._v("设备编号：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticStyle:{float:"left",height:"70px",width:"30%","padding-left":"4%"}},[t("span",{staticStyle:{width:"40px",height:"40px","border-radius":"50%","background-color":"#e6a23c",display:"inline-block","font-size":"14px","text-align":"center","line-height":"40px",border:"1px solid #666"}},[this._v("1")]),this._v(" "),t("span",{staticStyle:{color:"#ccc",height:"70px","line-height":"70px"}},[this._v("———")]),this._v(" "),t("span",{staticStyle:{width:"40px",height:"40px","border-radius":"50%","background-color":"#ccc",display:"inline-block","font-size":"14px","text-align":"center","line-height":"40px",border:"1px solid #666"}},[this._v("2")]),this._v(" "),t("span",{staticStyle:{"font-size":"16px",color:"#999"}},[this._v("补录配偶信息")])])}]};var de=a("VU/8")(le,ce,!1,function(e){a("E/2l"),a("xNc0")},"data-v-406fb190",null).exports;i.default.use(o.a);var _e=new o.a({routes:[{path:"/",name:"idnex",component:c},{path:"/register",name:"register",component:y},{path:"/card",name:"card",component:N},{path:"/inquire",name:"inquire",component:k},{path:"/regSelect",name:"regSelect",component:T},{path:"/order",name:"order",component:Y},{path:"/modifier",name:"modifier",component:F},{path:"/inquireOrder",name:"inquireOrder",component:L},{path:"/record",name:"record",component:j},{path:"/pay",name:"pay",component:X},{path:"/unEngender",name:"unEngender",component:V},{path:"/cloudOrder",name:"cloudOrder",component:ee},{path:"/add",name:"add",component:ie},{path:"/newRegister",name:"newRegister",component:ne},{path:"/bind",name:"bind",component:de}]}),me=a("zL8q"),he=a.n(me);a("tvR6");i.default.config.productionTip=!1,i.default.use(he.a),new i.default({el:"#app",router:_e,components:{App:r},template:"<App/>"})},ULIO:function(e,t){},VYm9:function(e,t){},WAYU:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAACACAIAAABoabsZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5RjNBMkI4NzRBOTAxMUU4QThBQkY2MkQwOThFMzdBMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5RjNBMkI4ODRBOTAxMUU4QThBQkY2MkQwOThFMzdBMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjlGM0EyQjg1NEE5MDExRThBOEFCRjYyRDA5OEUzN0ExIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjlGM0EyQjg2NEE5MDExRThBOEFCRjYyRDA5OEUzN0ExIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+kGx0fgAABdVJREFUeNrsneuSm0gMRs3VgC/YM1Nbm/d/n+xjTG1mfAGMDTY2+xGmplJONrGhW920pWLzI2skOEgtdaMm1td/vo5Y7hcX/315+cIg7pLX91ebKXQTBsfgGByDY3AsDI7BMTgGx+BYGByDY3AMjsGxMDgGp724Wl2NP/bHwdjzPdd1LdvC39SXuqqq0/FUHAr8yeCuJYzCyWzietfXYzmW7/gAiv9bnao8yw/7A4P7fgWeGz/Fnufd+MtoFiXrBBAfeowLJ+HzX8+3UPsU/Bin4MTH9bjpfIqjw4mWZcXL2HGcXbp7OI/rTE2ghuGBQyoQcs9QAlWPAg6lxnw5F6UNqqDwIcAhM2KQEqWtGe+eYvPBRdMI9a1YnVAItSaDg3dIGs6hVqAXawcOfmHbUixCLbHTUYMbqHKV4DB7R8kqTz+Uw4SB4IIoMMCEGo8zwAQ1OFQMktLCVYoQXuuoB2eYISpwnmeYISJwjusYZogKnMPgug7bRIYs2yhw7Ssrkwzxe1W9wdWX2jBDROAu9cUwQ1TgzhfDDBGBO1dnwwwRgauqyjBDRODI+mXIDFGBO50MM0SXHAjaZGDCtOQAOZZHA0woAFccCgNMqPC44/FykRhHUA4TBoIb1aNiL9EjGuX1yERwo9Ehl9iFStziSgoOtYKkOgtqiVurqZeV8iwfkFqNwCHxCS/ooJAyn6oBB8nSTHOFmoIrD6XAShWqoPAhwEHSTVrXAmoHKIEqJbegBlxVVUI67aGEbB1JC3BtHiyLXiGG0+mTqXpwkGZnUVd/wYk4XeHFqwSH2eXmbXM+373YjVNwotSZr9bgWgTrb+u7Kjv8eP227oDbKHAf7N7WN1aw+FlDrTorv2wt9qsi6LarbRAFs3j2f+054JslmdT1leGB+/CmfQGHCoKg2SQ99lqC4HUqT0igRUG6aqQjOMd15os5WOx3+58q2iYY75p4TudT27bhjEIqak3B4Q4ns0k0jSzLglshQnuG3ufOS2hLk5Ry7kUEzh/7YRRiFPtx41C8jNsI7aYTbvu5KQRevHxeIuHCi+GwBJWKK9W/PN8DsiAMftkoCYiLp0XmZPdOAGzHXiwXfuBf34zXbOicLWbNzL8ocSD/woqMKBYGDozaw3VdIMO93bgrDZkUcDFXv7E0w2MAnd+0eLbjwNWeB7CDfrgkDgDtv1wsABziBUef3ba4yZe/XxBlcL3fRBl+hiESlDuYAE33u4zCZmSESyabpE892AucZVsYWbrdyc831uaNNsSqY3W+nJFkG991neZDLuFY4E5oKMQosfq2UgMOw7MQaj/iQyTioEnxyqZcNHcoScqyVAZO+edmeoE7qAP3i9J/IIIUpNLjaEpNKe5WlD1nvr3AoTgaqNP175foux4HcMSz6/6C8u1YHBWDQ6gOzun2uYALFrACjHKfbD9Lf0F8CGmaEgAOTpfv8qGAAzUhCU3MOweAG0R6hbuJehUrBhxCVeE38O5yN1Gvx4S95UKKINtj0P3pZsKersjXg+k61RkcqAncBSESHDxOYTPHH6fVYq9N8AtpjHR6BmyyEdxoIhgc0laySnSbSzSPU3RrtfgWCOV9RNcDyPEkI+NL6R0pDoUm1QmKj+1qK0OzLS86lH+UHCMGqEnqa5LYrZRu0p49lz1lu97K2zViy37gqthhnJXaEWETBAtxzNIYtQluAw8/S4j2cGBucHubYh8harpB1Y7aPV7GtiPxUTXv59cJTZcrXSsrBrv3f98ljTvwazg1ZW8waX9c02a+2oyD8XwxF/ihNwxnu2RH3E6toCOzdb0gCpp/pKZHOwi8rNgX+S5X8l5cTQ9wu/CPo2k4nIRBGNz+pXKci7EMwz+iXuGys+LmaSDAkVpp24LoeR5CGGLZTTfgh1xq5Mq2u63dY63DIoIWXeetE1F+NWRIWdUwYXAMjsExOAbHwuAYHINjcAyOhcExOAbH4BgcC4NjcNpLs3T++v7KIO6V/wQYAIUdR9H5RcJUAAAAAElFTkSuQmCC"},Ygqe:function(e,t){},bCF0:function(e,t){},dZjS:function(e,t){},fayF:function(e,t){},k78f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAACACAIAAABoabsZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5RkIwODMxNzRBOTAxMUU4OUYyMUFCMjNCRjk1MTAxNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5RkIwODMxODRBOTAxMUU4OUYyMUFCMjNCRjk1MTAxNCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjlGQjA4MzE1NEE5MDExRTg5RjIxQUIyM0JGOTUxMDE0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjlGQjA4MzE2NEE5MDExRTg5RjIxQUIyM0JGOTUxMDE0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+qHBrcQAACftJREFUeNrsXYly2zYQJan7oi47nfz//6Sf4aa1LIm6KImU+mA4qmuLIIhdQJTDHWUyk5AA9nEvLBaA/+PPH15FxamOP98fvldAFKKn56egQsGMKuAq4CrgKuAq4CqqgOOM425PvteoN+rNeqMh/g5qAch/pbOk0zlN0+SYHI/H5CD+9s6/MXBAp91pt7vtRrMBjK5D+kpQjFq91mw15T8CyePhGG/jeBefTqffBTgAAbw6vc4FCIMW8C5+4Tg87A+7zQ4IAs0vCxwY7va7vX4PysjVpkRwkA426812vXUGnzvgAFk/7EM9rWh9LRgMB71Bbx2tAd8XAQ4mDDoFw+/AaIajEEYgmkcwgvcMnO8NQiEILg0CvtD023Sz2qyilT3naxE4+MHRZARxu4nXw9eC7Vu8LNIkvacAGIPGZ78VahcTgTEY++4bAAcrM3mYWPIDRa0eRoLx3IGqQkfg4Eo0OfK94XgIBGH1yitxCDjKhdovwqgwtpICB1njHRz7R2X072zAYcpZTln7IHcYZ4lsHPwX7Ai9HUw89/EesWuSJOeTiMH8wK/X62gf01sWH41xIkChh8cMwNVqtfHDOCu9oUm77Q7GOzkmH/79nJ4P6QGA4n/rjTp0rdMluUiME6Od/ZylaXpLVcU4Rg8jSuQBsMDG8mX5GbXPT+IxPJz7ZG6MgjETv3RAtxqUSehus5v9PTseCygOHsYreJE4LSNaZBJwrXar2+8av76O1sv50iARhFfwIl4nZmsw/hsAB7MdjkMKakTO6S1g/ODCNXCDcAC3YOwKiDxfsENTFLcGLpwCh8jAWEkRakTziCs0Q1NokKKwcNbugAtH5koKz8iY4Bb27mVJ9G+OgKPEotv1lj03iwYp6XK4iFan5QK4/rBvLB0spu2qsaNIsYHQFQYOgTvmQMbiZmkZFM1ShA4cFZ2QFAaOkmCwuv5EbLwoX8WAgy0w80EgzN6J00M1oXF0YS50jXohS1cMuF7fXNzibWw5aUTtohB3QSFDQFn4oIiDmy7Anb75LgAcZckDEYOD6hh0QYx19Hl0B5znhEoHHKJEStKtUOKIBBytI/ComTLRxQKzBZLLS1I3wNE70uRUW+I6LRI/6d0Ap8mpFnBwN8RleWd1k6cztSNwqhM8aMFByZS+zVJPjur9WDrS4VdX4rzfiXgkzg98+oKmcYb6Jh2JYu68dgKdVuhDCXxHlUtcHeVynd9Ns8mgp4zV0m46yuXakcTV6jU3wHF1xCBxxnmkDwkCN8BxdZTLdZBra43XANnF1mVH4FrtHwI3H9BBrT57R2reAzcmAzabReVz9YvRC5GAY7RNDqJo3i7UQhM4CyOI+RX3Xah5z1PVgC2MQGRktYBfTM6brBIXlEPiPN/jqr+9Lm5onHVeR5I43jmmjY0a/zXeZW6cFI7wzjERK1gK6NAse8tq3vMkzmfOaljaSWijWTXveQLFnQ2C42MP6NCgFZfteyWSOO+1lLPkDXJInAVqdVqMkSqaIi4kGVpA9X9bWisQVcscsoxGKAXcObwrC+4CysuUaSDLdjk0YjFhdfZKB5z0g8TFM7xudbd/GSVO0nAyNJYXvIjXrVox9RLtLYHD7HL8ODZIlIptd49j21vX1fY9p+9TancFHhBMvk0KRXZ4ePI4YclLU3jPAS49Wa/5ENg9TjQjWDwmUHOy9KPmvX5bibvo7Gg6irfxarnKKs8R24f49jfTJS4HOGflWd5rXggCFcex2CS9P0oEgVej1YADbbfbnu+5JDXvOcBRtkkpBhQtoutbNn2hjIUmnutofTqdIIzss0M1706BA4eb1dthZRArcfAeTfUuOy/RWjgMeedeJODkGYt0FyaOx9vuYMXexzfL+VJqqFmbENvLphBI8Xw2h8OFFENg6ZEKuFaHI/lxQHJMzICTNeCALN7FV+0FQFy8LAZp4eO+YLYX88UhPnweajSPVouVmPm3W/jB/6IXAy3O3fafDxyY15kb4TH5g4QDMvCmGTzDkwJczNU1Pw8+A9BRlHhKO/BhzwOwQ/sQSbGDpt3KTRfnVq/nA3c4HNQPQF/wo1hDMPn817M4BXLQU2gZHoOJBMpmE8/klbydsIwQyeF4qIgHc7nWkjiFBYRlMePkM2PSb0gVqzfrYnXOF/oONRcHuez2jJ4KDcJKTL9NLUoc0EErV2Ub5pkFtffwQRPxcxHfZis7+M1NRAaa3yfL3Hh3S61Wqyi/hYHL2lzmoI7GInDZQZ/OZjpdibsq2JTTWm5LYutRhsSBUzaJEx9ht7+aqyjDeY4m4oYAyy/AqTlwV82ZPEn6HoFT1EtoGm5tiYv3WdpqY+3VKonz5tvNLD3V3C1cQNGuHqAFVb07oev2uoV4tAKc97pe5WzjDJ2gH4qiKSvAIXC/6m4gdJRDDlxbt14ny6GBO/3JSTGfuFlfP0pX3DRwD+4V4qbIxGRxxwBc1oQRqlrmg2zfi1tWDgZ8aQYiJsCJzxJd/yxwEc42MxiKG77uoF+ULzbgdttdliEIJ2GZgQNqWWW94KjoAX4mhmm9vH4iFyTO8dUN+iSPwi3KETNwiK2z0lWwdOVUWMX5zoh4DdI8hq4wWkRZbms4HZZtLiE+Z3aufLVcmaQJzIaiOCTQQR1RIQJkCo8vkv5GxzGbB1+rKLNcod1plyQ6QfAxmo6y/hfjF/faGJE5cOfTWXG4KoBj37FhEO4CNcXiGcZvXKtLCvdhVhXnBIbjkH5gCYXUVw1h5JRj06jzJFjWrHOg5Ae/FXaws4rkOMZs5hPYgBOr8bNF1oqRxM6xzuZ2itFizMRiU4aZeZqkGEdWjbYIUCZDZ5eLYG6QW6aI0dLL13hSGof9QVbQZBGi9vHD2PbpIzqXgS1flixrwWycYK6nthowdg9/PFjaBQO5hlDn1gZjhJRD5f8XrjKOfrPagAFFBCfKzKdj+DJMPBhrPWHO+sN+bs3OOlozXs3FvKIsj85WWzQpevE2FpfUEMpBxAW33Xav39NZF4es8V5oxr8Uj/HBbQ1HQ0XJrkz842dwH6+8zhfmH1qvmXaG/SVe1eICOO91yQOaiJggl7G3G43PoSxBRHiFF2U1pH+hwIdXkdVtco+1fhJBRh68lUEWgZN+dvb3TPOa0Mud0LxjwMe4v2tCZXw3+2fGa1kKWQz0bm+7geVyo7OwyjBhbq5Cvkyn7v8q5F8qM/s5s3r59sWifanLty/ZCDgN9uve3yBLT1/2unfvXaEvggnEIizewCCguT/gLvBh3oOf2FnTaSOILRRhyBag/gihgZezo5lvD9x7k7TdbPFDqIwQrd4UYZo8Aw4kY7izpNcNPskxgeFPDuJv7+zdlspRxHsWrhC083bendBdFqJWwFXAVcBVVAFXAVcB95VIxHFPz08VEEXpXwEGAPtY+JUID3AtAAAAAElFTkSuQmCC"},"kXQ+":function(e,t){},lBkl:function(e,t){},lxS7:function(e,t){},qMSE:function(e,t){},rw5g:function(e,t){},tvR6:function(e,t){},wGfD:function(e,t){},wYAZ:function(e,t){},xNc0:function(e,t){},xVxx:function(e,t){},z5Nm:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.867dd3fc593d8323cf43.js.map